<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>守株阁 - 一切都是守株待兔，如切如磋，如琢如磨。I am just joking.</title><meta name="author" content="magicliang"><meta name="copyright" content="magicliang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="关于技术以及人生">
<meta property="og:type" content="website">
<meta property="og:title" content="守株阁">
<meta property="og:url" content="https://magicliang.github.io/page/29/index.html">
<meta property="og:site_name" content="守株阁">
<meta property="og:description" content="关于技术以及人生">
<meta property="og:locale">
<meta property="og:image" content="https://magicliang.github.io/img/rei.jpeg">
<meta property="article:author" content="magicliang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://magicliang.github.io/img/rei.jpeg"><script type="application/ld+json"></script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://magicliang.github.io/page/29/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: magicliang","link":"Link: ","source":"Source: 守株阁","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '守株阁',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="守株阁" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/eva-wallpaper.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">守株阁</span></a></span><div id="menus"></div></nav><div id="site-info"><h1 id="site-title">守株阁</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/magicliang" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:magicliang@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover left"><a href="/2018/03/07/%E8%AF%AD%E4%B9%89%E7%89%88%E6%9C%AC%E5%8C%96%E9%97%AE%E9%A2%98/" title="语义版本化问题"><img class="post-bg" src="/img/wall-paper-26.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="语义版本化问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/03/07/%E8%AF%AD%E4%B9%89%E7%89%88%E6%9C%AC%E5%8C%96%E9%97%AE%E9%A2%98/" title="语义版本化问题">语义版本化问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-03-07T11:43:10.000Z" title="Created 2018-03-07 19:43:10">2018-03-07</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.479Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/">软件工程</a></span></div><div class="content">语义化版本 2.0.0 《语义化版本 2.0.0》，三段版本号语义： 版本格式：主版本号.次版本号.修订号，版本号递增规则如下：  主版本号：当你做了不兼容的 API 修改， 次版本号：当你做了向下兼容的功能性新增， 修订号：当你做了向下兼容的问题修正。  先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。 </div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2018/03/01/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%9C%89-gas-%E7%B3%BB%E7%BB%9F%EF%BC%9F/" title="以太坊为什么会有 gas 系统？"><img class="post-bg" src="/img/wall-paper-170.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="以太坊为什么会有 gas 系统？"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/03/01/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%9C%89-gas-%E7%B3%BB%E7%BB%9F%EF%BC%9F/" title="以太坊为什么会有 gas 系统？">以太坊为什么会有 gas 系统？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-03-01T09:46:47.000Z" title="Created 2018-03-01 17:46:47">2018-03-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.478Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Ethereum/">Ethereum</a></span></div><div class="content">根据官方文档： Gas One important aspect of the way the EVM works is that every single operation that is executed inside the EVM is actually simultaneously executed by every full node. This is a necessary component of the Ethereum 1.0 consensus model, and has the benefit that any contract on the EVM can call any other contract at almost zero cost, but also has the drawback that computational steps on the EVM are very expensive. Roughly, a good heuristic to use is that you will not be able to do anyth...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2018/03/01/%E3%80%8A%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%88%B0%E5%BA%95%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" title="《以太坊到底是如何工作》读书笔记"><img class="post-bg" src="/img/wall-paper-172.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《以太坊到底是如何工作》读书笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/03/01/%E3%80%8A%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%88%B0%E5%BA%95%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" title="《以太坊到底是如何工作》读书笔记">《以太坊到底是如何工作》读书笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-03-01T09:35:22.000Z" title="Created 2018-03-01 17:35:22">2018-03-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.478Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Ethereum/">Ethereum</a></span></div><div class="content">《以太坊到底是如何工作》 以太坊的简单定义 transactional singleton machine with shared-state 事务性状态共享的单例机器 实际上就是逻辑上唯一，但物理上由多个节点维护的共识中的 world computer。这台机器的状态是由事务变迁驱动的：  幽灵协议 “GHOST” = “Greedy Heaviest Observed Subtree” 简而言之，就是只在拥有最大计算量的路径上进行计算（这个协议是从比特币那里来的吗？）。 账户与事务 外部账户由私钥控制，内部账户由代码控制。  外部账户可以主动发起事务，内部账户只有收到事务以后才能发起内部事务。  账户的状态构成 一个账户的状态总是由四个组件构成： nonce:如果这是个外部账户，则这个数字代表了这个账户地址发出的事务数。如果这是个合约账户，则这个数字代表了这个账户创造的合约数量。这两种情况下，nonce 都不是随机数。 balance：这个地址拥有的 Wei 数量。一个以太币有个 1e+18 Wei。 storageRoot：默认为空。Merkle Patricia 树的根。...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2018/03/01/IOTA/" title="IOTA"><img class="post-bg" src="/img/wall-paper-116.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IOTA"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/03/01/IOTA/" title="IOTA">IOTA</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-03-01T05:51:14.000Z" title="Created 2018-03-01 13:51:14">2018-03-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.478Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/IOTA/">IOTA</a></span></div><div class="content">IOTA 简介 IOTA 是下一代（第三代）加密货币，只做货币，不做其他用途的链（？）。专注于解决机器与机器（M2M）之间的交易问题。通过实现机器与机器间无交易费的支付来构建未来机器经济（machine economy）的蓝图，即物联网 + 数字货币的经济生态。物联网天然就有分布式特性，很适合搞区块链。 德国团队创立，由德国政府资助的一个中心化的研究去中心化下一代加密货币的项目。团队成员的上一个作品是第一代 POS 货币未来币（NXT）。 IOTA 的发行量极大，IOTA总供应量为（3 ^ 33-1）/ 2 或2,779,530,283,277,761个。所有IOTA都是在初始块创建的，总数不变，也不用开采。IOTA初上市的时候只募集到五十万美金，所以早期投资者的投资回报极高。有意思的是，因为 IOTA 基金会是非盈利组织，他们甚至没有锁定货币，所以他们持有的百分之五的 IOTA 代币，还是其他投资者捐献给基金会用以维持基金会运行的。 IOTA 的优势是，免手续费且使用平行验证而提高了性能，胜过了手续费高而清算速度缓慢的比特币。但因为它的安全模型弱于比特币，所以没有在普通交易场景...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2018/02/20/%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C%E3%80%81%E4%BE%A7%E9%93%BE%E3%80%81%E9%9A%94%E7%A6%BB%E8%A7%81%E8%AF%81%E4%B8%8E%E5%A4%A7%E5%8C%BA%E5%9D%97%E6%89%A9%E5%AE%B9%E9%97%AE%E9%A2%98/" title="闪电网络、侧链、隔离见证与大区块扩容问题"><img class="post-bg" src="/img/wall-paper-169.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="闪电网络、侧链、隔离见证与大区块扩容问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/02/20/%E9%97%AA%E7%94%B5%E7%BD%91%E7%BB%9C%E3%80%81%E4%BE%A7%E9%93%BE%E3%80%81%E9%9A%94%E7%A6%BB%E8%A7%81%E8%AF%81%E4%B8%8E%E5%A4%A7%E5%8C%BA%E5%9D%97%E6%89%A9%E5%AE%B9%E9%97%AE%E9%A2%98/" title="闪电网络、侧链、隔离见证与大区块扩容问题">闪电网络、侧链、隔离见证与大区块扩容问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-02-20T09:17:33.000Z" title="Created 2018-02-20 17:17:33">2018-02-20</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.478Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81/">比特币</a></span></div><div class="content">闪电网络 闪电网络的原理 闪电网络就是在链外专门设置一个通道（channel），所有的交易都在链上进行，只有最终结算在链上进行。这就好像我们的计算机体系结构里面加入的一个工作内存和主内存的 hiarachy。 过程描述如下：  假设我和你，咱俩人经常交易，于是就在闪电网络上开个通道，容量是2BTC； 通道里面AB在总量不超过2BTC的情况下随便相互收发，所有操作送到一个具有AB多重签名的地址，每次操作签名就好； 通道里面的操作没有手续费，因为真实的BTC在链上其实没动过，通道里面的操作本质上是只是对俩人那两个BTC份额所有权的交易； 等啥时候AB不想交易了，把隧道关闭，去真实的比特币主链上兑换一下自己在那两个BTC里的份额就好； 高手续费只发生在打开，或是关闭一个通道的时候。   为什么闪电网络会不安全 这种侧链的出现，必然会导致庞大的中间人出现：  网络上会演化出一些大的中间人节点，这些节点有足够多的BTC，足够的流动性，和足够多的通道数量，所以你再也不用担心高额的手续费，自己去找中间人等等一系列麻烦。 然而这些节点，和矿工不一样，他们并不和你直接交易BTC，他们更像是一种“第...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2018/02/20/EOS-%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/" title="EOS 相关问题"><img class="post-bg" src="/img/wall-paper-174.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="EOS 相关问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/02/20/EOS-%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/" title="EOS 相关问题">EOS 相关问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-02-20T04:51:36.000Z" title="Created 2018-02-20 12:51:36">2018-02-20</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.477Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/EOS/">EOS</a></span></div><div class="content">石墨烯（graphene，读作gurafin，没有尾音 i）技术本身是由 cryptonomex 开发的一个库，目前已经有国内的开发者开始使用它来开发公有链相关的基础设施。BM-丹尼尔•拉里默（Dan Larimer）是 cryptonomex 的创始人。 EOS 声称自己具有以下几个优点：  不易分叉 高 TPS 可以平滑升级  EOS 的365天众筹模式可以让 EOS 团队负成本的操盘。EOS 总量是无限的，（据说）增发的部分只是给矿工创造价值。 </div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2018/02/20/%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/" title="推荐算法笔记"><img class="post-bg" src="/img/wall-paper-37.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="推荐算法笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/02/20/%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/" title="推荐算法笔记">推荐算法笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-02-20T04:17:29.000Z" title="Created 2018-02-20 12:17:29">2018-02-20</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.477Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95/">推荐算法</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/">数据挖掘</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/AI/">AI</a></span></div><div class="content">分类的话： 用户画像算法 用户画像算法、聚类算法 分类算法： gbtd、随机森林 识别完了看哪个变量更重要。要有可解释性。 价格相关数据：体现在什么方面？一定要跟收入密切相关的。要对数据和业务的理解很重要。 分类项目：部分已知，有一部分训练集，用未知的和已知的做一个比较。打标签。寻找标签里最重要的因素。 gbtd（底层是很多决策树）。svm。dnn。可能解释性那么强。 决策树。xgbox。 输出是：分类的概率。 聚类项目：完全未知，从数据本身来发现特征。k-means。层次聚类。 输出是：不同类别的特征。 要理解商业逻辑。 </div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/" title="跨域与同源策略问题"><img class="post-bg" src="/img/wall-paper-130.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跨域与同源策略问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/" title="跨域与同源策略问题">跨域与同源策略问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-02-05T07:23:08.000Z" title="Created 2018-02-05 15:23:08">2018-02-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.476Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a></span></div><div class="content">什么是同源策略 同源策略(SOP same origin policy)指的是，两个网页的协议、域名和端口都相同。 但 Windows RT IE 是例外的，对它而言，端口号并不是同源策略的组成部分之一。 同源策略的变化 同源策略最初的要求是，同源的网页才能打开同源网页下的 cookie。cookie 实际上是一种对浏览器用户总是可见，但对 javascript 代码不总可见的内容。 同源策略大多数关于读，而且同源总能用沙箱解释 但现代的同源策略起了轻微的变化： 为了网络安全，浏览器为每一个“源”（Origin）都创建了一个独立的、互不干扰的沙箱环境。您可以把每个沙箱想象成一个独立的“安全屋”，里面存放着属于这个源的所有资源：它的 DOM 结构、数据存储（localStorage 等）以及运行的脚本。 同源策略就是这个沙箱模型的核心规则：一个沙箱里的脚本，不能随意访问另一个沙箱里的任何资源。 限制存储和当前页面的资源 DOM 访问限制 当一个页面（如a.com）通过&lt;iframe&gt;嵌入另一个不同源的页面（如 b.com）时，浏览器实际上是创建了两个独立的沙箱。  a....</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2018/02/03/Echart-%E8%AF%8D%E6%B1%87%E8%A1%A8/" title="Echart 词汇表"><img class="post-bg" src="/img/wall-paper-5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Echart 词汇表"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/02/03/Echart-%E8%AF%8D%E6%B1%87%E8%A1%A8/" title="Echart 词汇表">Echart 词汇表</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-02-03T06:51:05.000Z" title="Created 2018-02-03 14:51:05">2018-02-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.475Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Echart/">Echart</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%8D%E6%B1%87/">词汇</a></span></div><div class="content">emphasis n 强调 roam 漫游 scatterplot 散点图 effectscatter 特效散点 </div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2018/02/03/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E9%80%82%E5%90%88%E6%8B%BF%E6%9D%A5%E5%81%9A%E8%81%94%E7%9B%9F%E9%93%BE%EF%BC%9F/" title="以太坊为什么不适合拿来做联盟链？"><img class="post-bg" src="/img/wall-paper-58.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="以太坊为什么不适合拿来做联盟链？"></a></div><div class="recent-post-info"><a class="article-title" href="/2018/02/03/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E9%80%82%E5%90%88%E6%8B%BF%E6%9D%A5%E5%81%9A%E8%81%94%E7%9B%9F%E9%93%BE%EF%BC%9F/" title="以太坊为什么不适合拿来做联盟链？">以太坊为什么不适合拿来做联盟链？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-02-03T05:35:10.000Z" title="Created 2018-02-03 13:35:10">2018-02-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:06.475Z" title="Updated 2026-01-24 15:32:06">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Ethereum/">Ethereum</a></span></div><div class="content">联盟链必然要求多个账户系统存在，联盟中的每个节点都必须独立保存自己的私钥，则在当前的 gas 系统限制下，每个账户必须有自己的ether存款。 是不是允许多头出块？如果允许多头出块，则各个账户可以预先prefund或者在网络启动的时候充钱，不必考虑货币流通性问题。但多头出块的缺点是，不可抵挡分叉。而且，实际上极有可能还是存在货币流通性问题。 不允许多头出块，则必须由我们自己的中心账户来出块，我们自己来出块的话，其他账户发起合约请求需要的货币需要定期从我们的中心账户提取出来。 如果可以用强一致性的协议来预先持久化所有的写消息，也许可以靠监控把错误恢复过来，当然这也对业务产生了强依赖，业务的写操作必须是可以通过类似反幂等的方式恢复过来的。这就是把Raft分布式强一致性协议当做一个分布式的WAL来用了。ES 不适合拿来当这个 WAL，因为它不是强实时写的。 </div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/28/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/#content-inner">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/#content-inner">30</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/#content-inner">35</a><a class="extend next" rel="next" href="/page/30/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/rei.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">magicliang</div><div class="author-info-description">关于技术以及人生</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">342</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">204</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/magicliang"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/magicliang" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:magicliang@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">人生只是，守株待兔</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/02/06/%E8%B7%A8%E8%AF%AD%E8%A8%80%E8%B6%85%E6%97%B6%E6%9C%BA%E5%88%B6%E5%85%A8%E8%A7%A3%E6%9E%90/" title="跨语言超时机制全解析"><img src="/2026/02/06/%E8%B7%A8%E8%AF%AD%E8%A8%80%E8%B6%85%E6%97%B6%E6%9C%BA%E5%88%B6%E5%85%A8%E8%A7%A3%E6%9E%90/go-channel%E8%B6%85%E6%97%B6.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跨语言超时机制全解析"/></a><div class="content"><a class="title" href="/2026/02/06/%E8%B7%A8%E8%AF%AD%E8%A8%80%E8%B6%85%E6%97%B6%E6%9C%BA%E5%88%B6%E5%85%A8%E8%A7%A3%E6%9E%90/" title="跨语言超时机制全解析">跨语言超时机制全解析</a><time datetime="2026-02-06T10:30:00.000Z" title="Created 2026-02-06 18:30:00">2026-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/24/Java-%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%AC%94%E8%AE%B0/" title="Java 线程池笔记"><img src="/2026/01/24/Java-%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%AC%94%E8%AE%B0/ThreadPoolExecutorUML%E7%B1%BB%E5%9B%BE.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java 线程池笔记"/></a><div class="content"><a class="title" href="/2026/01/24/Java-%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%AC%94%E8%AE%B0/" title="Java 线程池笔记">Java 线程池笔记</a><time datetime="2026-01-24T13:50:09.000Z" title="Created 2026-01-24 21:50:09">2026-01-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/19/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E9%94%81%E4%BC%98%E5%8C%96/" title="线程安全与锁优化"><img src="/2026/01/19/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E9%94%81%E4%BC%98%E5%8C%96/synchronized%E5%8E%9F%E7%90%86.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线程安全与锁优化"/></a><div class="content"><a class="title" href="/2026/01/19/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E9%94%81%E4%BC%98%E5%8C%96/" title="线程安全与锁优化">线程安全与锁优化</a><time datetime="2026-01-19T11:18:44.000Z" title="Created 2026-01-19 19:18:44">2026-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/18/%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/" title="无锁队列"><img src="/2026/01/18/%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/%E8%AE%A1%E7%AE%97%E6%9C%BACPU%E4%B8%8E%E7%BC%93%E5%AD%98%E7%A4%BA%E6%84%8F%E5%9B%BE.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无锁队列"/></a><div class="content"><a class="title" href="/2026/01/18/%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/" title="无锁队列">无锁队列</a><time datetime="2026-01-18T14:50:42.000Z" title="Created 2026-01-18 22:50:42">2026-01-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/12/Java-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/" title="Java 并发编程笔记"><img src="/2026/01/12/Java-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/volatile%E7%9A%84%E5%8F%AF%E8%A7%81%E6%80%A7%E5%BD%B1%E5%93%8D.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java 并发编程笔记"/></a><div class="content"><a class="title" href="/2026/01/12/Java-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/" title="Java 并发编程笔记">Java 并发编程笔记</a><time datetime="2026-01-12T14:28:12.000Z" title="Created 2026-01-12 22:28:12">2026-01-12</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/%E8%81%8C%E5%9C%BA/" style="font-size: 1.23em; color: #999ea6">职场</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.1em; color: #999">前端</a> <a href="/tags/Composer/" style="font-size: 1.1em; color: #999">Composer</a> <a href="/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" style="font-size: 1.14em; color: #999b9d">性能测试</a> <a href="/tags/github/" style="font-size: 1.1em; color: #999">github</a> <a href="/tags/%E6%B1%89%E8%AF%AD/" style="font-size: 1.1em; color: #999">汉语</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/%E6%AF%9B/" style="font-size: 1.1em; color: #999">毛</a> <a href="/tags/%E7%BB%8F%E6%B5%8E%E5%AD%A6/" style="font-size: 1.1em; color: #999">经济学</a> <a href="/tags/%E7%BB%8F%E6%B5%8E/" style="font-size: 1.28em; color: #99a0aa">经济</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 1.41em; color: #99a5b7">软件工程</a> <a href="/tags/Kibana/" style="font-size: 1.1em; color: #999">Kibana</a> <a href="/tags/%E4%BC%9A%E8%AE%AE/" style="font-size: 1.1em; color: #999">会议</a> <a href="/tags/Vue/" style="font-size: 1.1em; color: #999">Vue</a> <a href="/tags/%E6%95%A3%E5%88%97/" style="font-size: 1.14em; color: #999b9d">散列</a> <a href="/tags/%E6%B3%9B%E5%9E%8B/" style="font-size: 1.1em; color: #999">泛型</a> <a href="/tags/MySQL/" style="font-size: 1.46em; color: #99a7bb">MySQL</a> <a href="/tags/MariaDB/" style="font-size: 1.1em; color: #999">MariaDB</a> <a href="/tags/%E8%A7%84%E8%8C%83/" style="font-size: 1.1em; color: #999">规范</a> <a href="/tags/Spark/" style="font-size: 1.19em; color: #999da1">Spark</a> <a href="/tags/Unix/" style="font-size: 1.19em; color: #999da1">Unix</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 1.1em; color: #999">运维</a> <a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 1.19em; color: #999da1">英语</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 1.1em; color: #999">大模型</a> <a href="/tags/%E8%B6%85%E6%97%B6/" style="font-size: 1.1em; color: #999">超时</a> <a href="/tags/%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">共识算法</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.1em; color: #999">面试</a> <a href="/tags/%E7%AE%A1%E7%90%86/" style="font-size: 1.37em; color: #99a4b2">管理</a> <a href="/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/" style="font-size: 1.1em; color: #999">线程池</a> <a href="/tags/Lombok/" style="font-size: 1.1em; color: #999">Lombok</a> <a href="/tags/%E7%89%A9%E7%90%86/" style="font-size: 1.1em; color: #999">物理</a> <a href="/tags/SQL/" style="font-size: 1.1em; color: #999">SQL</a> <a href="/tags/%E9%87%91%E8%9E%8D/" style="font-size: 1.23em; color: #999ea6">金融</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84/" style="font-size: 1.1em; color: #999">软件架构</a> <a href="/tags/vim/" style="font-size: 1.1em; color: #999">vim</a> <a href="/tags/Maven/" style="font-size: 1.32em; color: #99a2ae">Maven</a> <a href="/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/" style="font-size: 1.1em; color: #999">高可用</a> <a href="/tags/Java/" style="font-size: 1.5em; color: #99a9bf">Java</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 1.14em; color: #999b9d">微服务</a> <a href="/tags/%E8%AF%8D%E6%B1%87/" style="font-size: 1.1em; color: #999">词汇</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>Archives</span>
      <a class="card-more-btn" href="/archives/"
            title="View More">
            <i class="fas fa-angle-right"></i>
          </a>
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2026/02/">
            <span class="card-archive-list-date">
              February 2026
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2026/01/">
            <span class="card-archive-list-date">
              January 2026
            </span>
            <span class="card-archive-list-count">5</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/11/">
            <span class="card-archive-list-date">
              November 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/09/">
            <span class="card-archive-list-date">
              September 2025
            </span>
            <span class="card-archive-list-count">2</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/08/">
            <span class="card-archive-list-date">
              August 2025
            </span>
            <span class="card-archive-list-count">2</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/07/">
            <span class="card-archive-list-date">
              July 2025
            </span>
            <span class="card-archive-list-count">5</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/05/">
            <span class="card-archive-list-date">
              May 2025
            </span>
            <span class="card-archive-list-count">2</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/04/">
            <span class="card-archive-list-date">
              April 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Website Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article Count :</div><div class="item-count">342</div></div><div class="webinfo-item"><div class="item-name">Total Word Count :</div><div class="item-count">1433.6k</div></div><div class="webinfo-item"><div class="item-name">Unique Visitors :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Page Views :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2026-02-06T12:46:46.235Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2017 - 2026 By magicliang</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">簡</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="/js/tw_cn.js?v=5.5.2"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="/"></script></div></body></html>