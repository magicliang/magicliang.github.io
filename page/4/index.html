<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>守株阁 - 一切都是守株待兔，如切如磋，如琢如磨。I am just joking.</title><meta name="author" content="magicliang"><meta name="copyright" content="magicliang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="关于技术以及人生">
<meta property="og:type" content="website">
<meta property="og:title" content="守株阁">
<meta property="og:url" content="https://magicliang.github.io/page/4/index.html">
<meta property="og:site_name" content="守株阁">
<meta property="og:description" content="关于技术以及人生">
<meta property="og:locale">
<meta property="og:image" content="https://magicliang.github.io/img/rei.jpeg">
<meta property="article:author" content="magicliang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://magicliang.github.io/img/rei.jpeg"><script type="application/ld+json"></script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://magicliang.github.io/page/4/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: magicliang","link":"Link: ","source":"Source: 守株阁","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '守株阁',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="守株阁" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/eva-wallpaper.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">守株阁</span></a></span><div id="menus"></div></nav><div id="site-info"><h1 id="site-title">守株阁</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/magicliang" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:magicliang@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover left"><a href="/2025/07/29/%E5%89%AF%E6%9C%AC%E5%A4%8D%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E6%9E%B6%E6%9E%84/" title="副本复制算法与架构——PacificA、Elasticsearch、Kafka、Pulsar 全面对比"><img class="post-bg" src="/img/wall-paper-116.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="副本复制算法与架构——PacificA、Elasticsearch、Kafka、Pulsar 全面对比"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/07/29/%E5%89%AF%E6%9C%AC%E5%A4%8D%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E6%9E%B6%E6%9E%84/" title="副本复制算法与架构——PacificA、Elasticsearch、Kafka、Pulsar 全面对比">副本复制算法与架构——PacificA、Elasticsearch、Kafka、Pulsar 全面对比</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-29T07:05:34.000Z" title="Created 2025-07-29 15:05:34">2025-07-29</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-02-07T06:10:52.128Z" title="Updated 2026-02-07 14:10:52">2026-02-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7%E5%8D%8F%E8%AE%AE/">一致性协议</a></span></div><div class="content">本文将深入剖析 PacificA、Elasticsearch、Kafka、Pulsar 四大分布式系统的副本复制机制，揭示它们在一致性、可用性和性能之间的精妙权衡。这些系统虽然都通过副本复制来保证数据可靠性和高可用性，但在具体的实现策略上各有特色，反映了不同的设计哲学和适用场景。  引言：为什么需要副本复制 数据可靠性与高可用性 在分布式系统中，硬件故障是常态而非例外。Google 的统计数据显示，一个拥有 10,000 台服务器的数据中心，每天平均会有 2-3 台服务器发生故障。如果数据只存储在一台机器上，那么这台机器的故障就意味着数据的永久丢失。 副本复制（Replication） 是解决这个问题的核心手段：将数据复制到多台机器上，即使部分机器故障，数据仍然可用。 CAP 定理的实际影响 CAP 定理告诉我们，在网络分区（Partition）发生时，分布式系统只能在**一致性（Consistency）和可用性（Availability）**之间二选一：    选择 含义 代表系统     CP 网络分区时拒绝服务，保证一致性 ZooKeeper、etcd、HBase   AP...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2025/07/29/%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E7%9A%84%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%B3%95/" title="经典面试问题的大数据解法——Spark 与 Flink 实战"><img class="post-bg" src="/img/wall-paper-103.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="经典面试问题的大数据解法——Spark 与 Flink 实战"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/07/29/%E7%BB%8F%E5%85%B8%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E7%9A%84%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%B3%95/" title="经典面试问题的大数据解法——Spark 与 Flink 实战">经典面试问题的大数据解法——Spark 与 Flink 实战</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-29T07:05:34.000Z" title="Created 2025-07-29 15:05:34">2025-07-29</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-02-07T06:15:52.308Z" title="Updated 2026-02-07 14:15:52">2026-02-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Spark/">Spark</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Flink/">Flink</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95/">面试</a></span></div><div class="content">“100 亿个数中找出最大的 1000 个”、“两个 10GB 的文件找出共同的 URL”——这些经典面试题的本质都是内存放不下。本文将系统性地梳理大数据场景下的 TopK、排序、去重、词频统计等经典问题，给出从单机到分布式（Spark/Flink）的完整解法。  引言：大数据问题的共同特征 为什么&quot;内存放不下&quot;    数据规模 内存需求 典型服务器内存 能否放入内存     1 亿个 int 400 MB 16 GB ✅   10 亿个 int 4 GB 16 GB ✅   100 亿个 int 40 GB 16 GB ❌   10 亿个 URL（平均 100 字节） 100 GB 16 GB ❌    通用解题框架 123456789101112大数据问题    │    ▼能否放入内存？    ├── 能 → 直接用内存数据结构解决    │    ▼    不能 → 分而治之    │    ├── 1. 分区（Partition）：按哈希/范围将数据分成小块    ├── 2. 局部处理：每个小块在内存中处理    └── 3. 合并（Merge）：...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/07/28/Redis-%E7%9A%84%E7%A5%9E%E5%A5%87%E7%94%A8%E4%BE%8B/" title="Redis 经典用例全解：从数据结构到系统设计"><img class="post-bg" src="/img/wall-paper-42.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis 经典用例全解：从数据结构到系统设计"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/07/28/Redis-%E7%9A%84%E7%A5%9E%E5%A5%87%E7%94%A8%E4%BE%8B/" title="Redis 经典用例全解：从数据结构到系统设计">Redis 经典用例全解：从数据结构到系统设计</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-28T12:48:32.000Z" title="Created 2025-07-28 20:48:32">2025-07-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-02-07T05:15:14.279Z" title="Updated 2026-02-07 13:15:14">2026-02-07</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Redis/">Redis</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a></span></div><div class="content">Redis 不只是缓存。它是一把瑞士军刀——凭借五种基础数据结构和若干扩展模块，Redis 能解决从分布式锁到社交网络、从排行榜到消息队列的几乎所有高频系统设计问题。 本文的目标是：建立一套从业务问题到 Redis 数据结构的映射思维。对于每个用例，我们都会回答三个问题：  业务问题是什么？ 需求的本质是什么操作？ 为什么选 Redis？ 相比 MySQL、MQ 等方案，Redis 的优势和代价是什么？ 怎么设计？ 用哪种数据结构，Key 怎么命名，核心命令是什么？  mindmap   root((Redis 用例全景))     基础存储       缓存策略         Cache-Aside         穿透/击穿/雪崩       分布式会话         Session 共享         验证码/短链接       分布式 ID         INCR 自增         日期分段     并发控制       分布式锁         SET NX         Redlock         看门狗续期       计数器与限流        ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2025/07/15/%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BC%B9%E6%80%A7/" title="系统的弹性"><img class="post-bg" src="/2025/07/15/%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BC%B9%E6%80%A7/leaky-bucket.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="系统的弹性"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/07/15/%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BC%B9%E6%80%A7/" title="系统的弹性">系统的弹性</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-15T13:18:10.000Z" title="Created 2025-07-15 21:18:10">2025-07-15</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:08.635Z" title="Updated 2026-01-24 15:32:08">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/">系统架构</a></span></div><div class="content">背景介绍 1999年，Dan Kegel 在互联网上发表了一篇文章，首次将 C10K 问题带入软件工程师的视野。在那个互联网勃兴的年代，计算机的运算处理能力，ISP 能够提供的带宽和网速都还十分有限，用户的数量也很少（那时候一个网站几百个人是很正常的事）。Dan Kegel 却已经敏锐地注意到极端的场景下资源紧张的问题。按照他的观察，某些大型的网络站点需要面对高达10000个客户端的并行请求。以当时的通行系统架构，单机服务器并不足以处理这个这个问题（当时绝大部分系统也没有那么大的流量，所以大部分人也没意识到这个问题）。因此，系统设计者必须为 C10K 问题做好准备。在那篇文章之中， Dan Kegel 提出了使用非阻塞异步 IO 模型，和使用各种内核系统调用黑魔法来提高系统 IO 性能的方式，来提高单机的并行处理能力。不得不说，这篇文章在当时很有先驱意义，它使得大规模网络系统的流量问题浮上了水面，也让人们意识到了系统容量建模和扩容提升性能的重要性。在它的启发下，C10K 问题出现了很多变种，从并发 C10K clients，到并发 C10K connections，到 C10K ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/07/13/aws-%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3%E6%8C%91%E6%88%98/" title="aws 的分布式系统相关挑战"><img class="post-bg" src="/2025/07/13/aws-%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3%E6%8C%91%E6%88%98/reply-messaging-across-network.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="aws 的分布式系统相关挑战"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/07/13/aws-%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3%E6%8C%91%E6%88%98/" title="aws 的分布式系统相关挑战">aws 的分布式系统相关挑战</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-13T07:23:12.000Z" title="Created 2025-07-13 15:23:12">2025-07-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:08.633Z" title="Updated 2026-01-24 15:32:08">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">架构设计</a></span></div><div class="content">原文：《分布式系统相关挑战》 早期的亚马逊系统的相关挑战 当服务器出现到第二台的时候，分布式系统的挑战就出现了：  latencey scalablity 理解网络 API 数据编组和解组 Paxos 算法的复杂性  随着系统的不断快速扩展和分布程度的不断提高，理论上的边缘情况成为了常态。所以小系统不出问题主要是因为分布程度不够高。 开发分布式实用程序计算服务（例如可靠的长途电话网络或 Amazon Web Services (AWS) 服务）比较困难。与其他形式的计算相比，分布式计算也更古怪，而且不够直观，因为它存在两个相互关联的问题。在分布式系统中，造成最大问题的是故障独立性和不确定性。在分布式系统中，除了大多数工程师习以为常的计算故障外，故障还会以许多其他方式出现。更糟糕的是，不可能时刻知晓某事项是否发生了故障。 分布式系统的类型 离线分布式系统  批处理系统 大数据分析集群 电影场景渲染农场 蛋白质折叠集群  这种离线系统没有对 request 和 response 之间的强实时要求。 虽然离线分布式系统实现起来并不容易，但它却几乎囊括了分布式计算的所有优点（可扩展性和容...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2025/07/03/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF/" title="分布式会话技术"><img class="post-bg" src="/2025/07/03/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF/oauth2-arch.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="分布式会话技术"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/07/03/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF/" title="分布式会话技术">分布式会话技术</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-03T09:21:32.000Z" title="Created 2025-07-03 17:21:32">2025-07-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-02-07T05:07:51.943Z" title="Updated 2026-02-07 13:07:51">2026-02-07</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%89%B4%E6%9D%83/">鉴权</a></span></div><div class="content">全景导读 分布式会话技术的核心问题链条如下：HTTP 无状态 → 需要记住用户 → 需要安全地记住用户 → 需要跨系统记住用户 → 需要防止别人冒充用户。 本文沿着这条链条，逐层展开七个技术模块。每个模块以一个思考点（核心问题）开篇，用渐进式披露的方式引导读者从问题出发，理解每个解决方案的设计动机。 graph TD     A[&quot;HTTP 无状态&quot;] --&gt;|&quot;问题：怎么记住用户？&quot;| B[&quot;会话技术&lt;br/&gt;Cookie / URL / 隐藏表单&quot;]     B --&gt;|&quot;问题：Cookie 怎么安全？&quot;| C[&quot;Cookie 六大属性&lt;br/&gt;Domain/Path/Expires&lt;br/&gt;HttpOnly/Secure/SameSite&quot;]     C --&gt;|&quot;问题：服务端能不能不存 Session？&quot;| D[&quot;JWT&lt;br/&gt;签名验证 · 无状态&quot;]     D -...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/05/17/Unix-Linux-%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B8%B8%E8%A7%81%E7%9B%AE%E5%BD%95/" title="Unix/Linux 系统的常见目录"><img class="post-bg" src="/img/wall-paper-126.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unix/Linux 系统的常见目录"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/05/17/Unix-Linux-%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B8%B8%E8%A7%81%E7%9B%AE%E5%BD%95/" title="Unix/Linux 系统的常见目录">Unix/Linux 系统的常见目录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-05-17T05:18:35.000Z" title="Created 2025-05-17 13:18:35">2025-05-17</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:08.630Z" title="Updated 2026-01-24 15:32:08">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Unix/">Unix</a></span></div><div class="content">一级目录    目录路径 缩写解释 / 全称 用途描述 常见子目录/示例     / Root 根目录，所有其他目录的起点 无   /bin Binaries 基础命令的二进制文件（所有用户必需） ls, cp, mv, cat   /boot Boot 系统启动文件（内核、引导加载程序） vmlinuz-*（内核文件）、grub/（GRUB配置）、initramfs   /dev Devices 设备文件（物理/虚拟设备接口） sda（磁盘）、tty（终端）、null（空设备）、random（随机数生成器）   /etc Etcetera 系统级配置文件（全局配置） passwd（用户账户）、fstab（挂载表）、apt/（APT包管理器配置）、ssh/   /home Home 用户主目录（个人文件和数据） /home/alice（用户 Alice 的目录）   /lib Libraries 基础共享库和内核模块（支持 /bin 和 /sbin） libc.so（C标准库）、modules/（内核模块）   /media Media 可移动设备挂载点（自动挂载） usb/（U...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2025/04/17/Kubernetes-%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B%EF%BC%9A%E4%BB%8E%E5%AE%B9%E5%99%A8%E5%88%B0%E4%BA%91%E5%8E%9F%E7%94%9F%E5%BA%94%E7%94%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E6%95%85%E4%BA%8B/" title="Kubernetes 架构演进：从容器到云原生应用平台的故事"><img class="post-bg" src="/2025/04/17/Kubernetes-%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B%EF%BC%9A%E4%BB%8E%E5%AE%B9%E5%99%A8%E5%88%B0%E4%BA%91%E5%8E%9F%E7%94%9F%E5%BA%94%E7%94%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E6%95%85%E4%BA%8B/k8s.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes 架构演进：从容器到云原生应用平台的故事"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/04/17/Kubernetes-%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B%EF%BC%9A%E4%BB%8E%E5%AE%B9%E5%99%A8%E5%88%B0%E4%BA%91%E5%8E%9F%E7%94%9F%E5%BA%94%E7%94%A8%E5%B9%B3%E5%8F%B0%E7%9A%84%E6%95%85%E4%BA%8B/" title="Kubernetes 架构演进：从容器到云原生应用平台的故事">Kubernetes 架构演进：从容器到云原生应用平台的故事</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-04-17T12:16:55.000Z" title="Created 2025-04-17 20:16:55">2025-04-17</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:08.629Z" title="Updated 2026-01-24 15:32:08">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/k8s/">k8s</a></span></div><div class="content">本文由 Claude-3.7-Sonnet 生成。 从裸机到容器：应对复杂性的演进 1. 物理服务器时代的困境 最初，应用程序直接部署在物理服务器上，导致：  资源利用率低下（一台服务器只运行一个应用） 环境一致性问题（“在我的机器上能运行”） 应用隔离性差  2. 虚拟机的改进 虚拟化技术出现，每台物理服务器可运行多个虚拟机：  提高了资源利用率 但启动慢、资源占用大  3. 容器(Container)的革命 容器技术解决了关键痛点：  轻量级（共享宿主机OS内核） 快速启动（秒级） 可移植性强（构建一次，到处运行） 资源占用小  但问题出现了： 当容器数量增长，单机管理变得困难，集群管理更是挑战。 Kubernetes组件的逐步演进 1. Pod：为什么不直接使用容器？ 容器本身有局限性：  单个容器难以满足应用的协作需求 需要将紧密关联的功能组合在一起  因此诞生了Pod：  Pod是最小部署单元，包含一个或多个容器 共享网络命名空间和存储卷 同一Pod中的容器总是在同一节点上运行 适合边车(sidecar)模式，如日志收集、代理容器  多容器Pod的深度实践 当我们需要在...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/02/18/Go-%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="Go 语言学习"><img class="post-bg" src="/img/wall-paper-137.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go 语言学习"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/02/18/Go-%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="Go 语言学习">Go 语言学习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-02-18T12:56:11.000Z" title="Created 2025-02-18 20:56:11">2025-02-18</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:08.629Z" title="Updated 2026-01-24 15:32:08">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Go/">Go</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Golang/">Golang</a></span></div><div class="content">#《Go 语言编程》学习笔记 Herb Sutter 在2003年写的《免费午餐已经结束》，言犹在耳，尽量通过并发来压榨硬件性能是大势所趋。但是并发难写。 并发执行是有执行体的。process、thread 和 coroutine 都是执行体。线程是轻量级进程，协程是轻量级线程。但大多数语言在语法层面上并不支持创建协程，而通过库的方式支持的协程功能也不完善。Go 语言提供的协程叫 Goroutine。Go 语言标准库提供的所有系统调用（syscall）操作，当然也包括所有同步 IO 操作，都会出让 CPU 给其他 goroutine，这让事情变得非常简单（哪里简单了，它自动产生了 yield 吗？）。 执行体间的通信，包括几个方式：  执行体之间的互斥与同步 执行体之间的消息传递  执行体之间存在共享资源时，为保证内存访问逻辑的确定性，需要对访问该共享资源的相关执行体进行互斥。当多个执行体之间的逻辑存在时序上的依赖时，也往往需要在执行体之间进行同步。护持与同步是执行体间最基础的交互方式。 在并发编程模型的选择上，有两个流派，一个是共享内存模型，一个是消息传递模型。多数传统语言选择...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2025/01/20/%E7%A7%A6%E6%99%96%EF%BC%9A21%E4%B8%96%E7%BA%AA%E5%85%A8%E7%90%83%E5%8C%96%E5%8D%B1%E6%9C%BA/" title="秦晖：21世纪全球化危机"><img class="post-bg" src="/2025/01/20/%E7%A7%A6%E6%99%96%EF%BC%9A21%E4%B8%96%E7%BA%AA%E5%85%A8%E7%90%83%E5%8C%96%E5%8D%B1%E6%9C%BA/382.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="秦晖：21世纪全球化危机"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/01/20/%E7%A7%A6%E6%99%96%EF%BC%9A21%E4%B8%96%E7%BA%AA%E5%85%A8%E7%90%83%E5%8C%96%E5%8D%B1%E6%9C%BA/" title="秦晖：21世纪全球化危机">秦晖：21世纪全球化危机</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-01-20T04:17:10.000Z" title="Created 2025-01-20 12:17:10">2025-01-20</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-01-24T07:32:08.628Z" title="Updated 2026-01-24 15:32:08">2026-01-24</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%94%BF%E6%B2%BB/">政治</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BB%96%E5%B1%B1%E4%B9%8B%E7%9F%B3/">他山之石</a></span></div><div class="content">本文原载思想，引自公众号。 2018年4月2日晚，清华大学人文学院历史系教授秦晖在上海喜马拉雅美术馆发表了题为“21世纪的全球化危机”的学术演讲。秦晖教授认为，全球化在西方那里造成了社会不平等的加剧，在中国这里本来应该增加社会平等的一些功能，也没有真正能够落实。这样，全球化在全球都造成了不平等加剧的现象。秦晖教授提醒听众，在全球化进行了一段时间以后，如果我们说，以前中国改革决定的是中国的命运的话，那么现在，中国改革在某种意义上还决定着世界的命运，决定着全球化到底趋向于一种良性的进步，还是趋向于劣币驱逐良币。以下为演讲内容： 今天晚上我们讲的是21世纪的全球化危机，当然也可以说是困境。 从两三年前开始，就是2016年吧，大家就开始感到，有很多异乎寻常的事情发生。第一件事，英国脱欧，这个事情出乎很多人意料。当时的英国保守党政府本来的估计是大家会反对脱欧，但结果在脱欧公投中，脱欧居然就是成为多数的民意。 再就是，美国选出一个既不是传统左派、也不是传统右派的奇葩总统，这也是出乎很多人意料的。而且他上台以后提出的一系列主张也非常令人吃惊，不管是传统的左派还是右派，不管是民主党的主流派还是共...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/#content-inner">36</a><a class="extend next" rel="next" href="/page/5/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/rei.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">magicliang</div><div class="author-info-description">关于技术以及人生</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">353</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">222</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/magicliang"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/magicliang" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:magicliang@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">人生只是，守株待兔</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/02/07/Docker-%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/" title="Docker 完全指南"><img src="/img/wall-paper-41.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 完全指南"/></a><div class="content"><a class="title" href="/2026/02/07/Docker-%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/" title="Docker 完全指南">Docker 完全指南</a><time datetime="2026-02-07T11:31:35.000Z" title="Created 2026-02-07 19:31:35">2026-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/02/07/Guava-%E8%A7%A3%E6%9E%90/" title="Guava 解析"><img src="/2026/02/07/Guava-%E8%A7%A3%E6%9E%90/Guava.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Guava 解析"/></a><div class="content"><a class="title" href="/2026/02/07/Guava-%E8%A7%A3%E6%9E%90/" title="Guava 解析">Guava 解析</a><time datetime="2026-02-07T08:59:49.000Z" title="Created 2026-02-07 16:59:49">2026-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/02/07/%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%88%86%E7%89%87/" title="一致性哈希与数据分片"><img src="/img/wall-paper-74.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一致性哈希与数据分片"/></a><div class="content"><a class="title" href="/2026/02/07/%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%88%86%E7%89%87/" title="一致性哈希与数据分片">一致性哈希与数据分片</a><time datetime="2026-02-07T08:00:00.000Z" title="Created 2026-02-07 16:00:00">2026-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/02/07/API-%E5%85%BC%E5%AE%B9%E6%80%A7%E8%AE%BE%E8%AE%A1/" title="API 兼容性设计"><img src="/img/wall-paper-147.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="API 兼容性设计"/></a><div class="content"><a class="title" href="/2026/02/07/API-%E5%85%BC%E5%AE%B9%E6%80%A7%E8%AE%BE%E8%AE%A1/" title="API 兼容性设计">API 兼容性设计</a><time datetime="2026-02-07T06:30:00.000Z" title="Created 2026-02-07 14:30:00">2026-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/02/07/%E9%87%8D%E8%AF%BB-Eric-Evans-%E7%9A%84-DDD-%E8%93%9D%E7%9A%AE%E4%B9%A6/" title="重读 Eric Evans 的 DDD 蓝皮书"><img src="/img/wall-paper-87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重读 Eric Evans 的 DDD 蓝皮书"/></a><div class="content"><a class="title" href="/2026/02/07/%E9%87%8D%E8%AF%BB-Eric-Evans-%E7%9A%84-DDD-%E8%93%9D%E7%9A%AE%E4%B9%A6/" title="重读 Eric Evans 的 DDD 蓝皮书">重读 Eric Evans 的 DDD 蓝皮书</a><time datetime="2026-02-07T06:00:00.000Z" title="Created 2026-02-07 14:00:00">2026-02-07</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"><span class="card-category-list-name">大数据</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"><span class="card-category-list-name">程序设计</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/"><span class="card-category-list-name">系统设计</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F/"><span class="card-category-list-name">编程范式</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">计算机基础</span><span class="card-category-list-count">1</span></a></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/%E6%AD%A6%E4%BE%A0%E5%B0%8F%E8%AF%B4/" style="font-size: 1.1em; color: #999">武侠小说</a> <a href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" style="font-size: 1.1em; color: #999">_函数式编程_</a> <a href="/tags/%E4%BF%9D%E9%99%A9/" style="font-size: 1.21em; color: #999ea4">保险</a> <a href="/tags/%E4%BA%BA%E7%94%9F/" style="font-size: 1.1em; color: #999">人生</a> <a href="/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" style="font-size: 1.1em; color: #999">推荐系统</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="font-size: 1.33em; color: #99a2af">分布式系统</a> <a href="/tags/Play/" style="font-size: 1.1em; color: #999">Play</a> <a href="/tags/%E5%AD%98%E5%82%A8/" style="font-size: 1.16em; color: #999b9e">存储</a> <a href="/tags/IOTA/" style="font-size: 1.1em; color: #999">IOTA</a> <a href="/tags/%E5%8E%86%E5%8F%B2/" style="font-size: 1.39em; color: #99a4b4">历史</a> <a href="/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" style="font-size: 1.16em; color: #999b9e">架构设计</a> <a href="/tags/%E4%BA%A7%E5%93%81/" style="font-size: 1.1em; color: #999">产品</a> <a href="/tags/Go/" style="font-size: 1.33em; color: #99a2af">Go</a> <a href="/tags/Lombok/" style="font-size: 1.1em; color: #999">Lombok</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/" style="font-size: 1.1em; color: #999">数据仓库</a> <a href="/tags/%E4%BA%92%E8%81%94%E7%BD%91%E9%87%91%E8%9E%8D/" style="font-size: 1.1em; color: #999">互联网金融</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 1.1em; color: #999">虚拟化</a> <a href="/tags/MySQL/" style="font-size: 1.5em; color: #99a9bf">MySQL</a> <a href="/tags/%E6%AF%9B/" style="font-size: 1.1em; color: #999">毛</a> <a href="/tags/happens-before/" style="font-size: 1.1em; color: #999">happens-before</a> <a href="/tags/Mac/" style="font-size: 1.1em; color: #999">Mac</a> <a href="/tags/%E7%AE%A1%E7%90%86/" style="font-size: 1.39em; color: #99a4b4">管理</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 1.16em; color: #999b9e">缓存</a> <a href="/tags/KOA/" style="font-size: 1.1em; color: #999">KOA</a> <a href="/tags/misc/" style="font-size: 1.1em; color: #999">misc</a> <a href="/tags/Ethereum/" style="font-size: 1.44em; color: #99a7ba">Ethereum</a> <a href="/tags/%E5%93%B2%E5%AD%A6/" style="font-size: 1.16em; color: #999b9e">哲学</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.27em; color: #99a0a9">计算机网络</a> <a href="/tags/%E7%BB%8F%E6%B5%8E%E5%AD%A6/" style="font-size: 1.1em; color: #999">经济学</a> <a href="/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/" style="font-size: 1.1em; color: #999">高可用</a> <a href="/tags/CoffeeScript/" style="font-size: 1.1em; color: #999">CoffeeScript</a> <a href="/tags/gradle/" style="font-size: 1.16em; color: #999b9e">gradle</a> <a href="/tags/%E9%87%91%E8%9E%8D%E7%A7%91/" style="font-size: 1.1em; color: #999">金融科</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84/" style="font-size: 1.1em; color: #999">软件架构</a> <a href="/tags/Echart/" style="font-size: 1.1em; color: #999">Echart</a> <a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 1.21em; color: #999ea4">数学</a> <a href="/tags/%E6%80%9D%E7%BB%B4%E6%A8%A1%E5%9E%8B/" style="font-size: 1.1em; color: #999">思维模型</a> <a href="/tags/k8s/" style="font-size: 1.1em; color: #999">k8s</a> <a href="/tags/UML/" style="font-size: 1.1em; color: #999">UML</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.21em; color: #999ea4">设计模式</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>Archives</span>
      <a class="card-more-btn" href="/archives/"
            title="View More">
            <i class="fas fa-angle-right"></i>
          </a>
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2026/02/">
            <span class="card-archive-list-date">
              February 2026
            </span>
            <span class="card-archive-list-count">12</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2026/01/">
            <span class="card-archive-list-date">
              January 2026
            </span>
            <span class="card-archive-list-count">5</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/09/">
            <span class="card-archive-list-date">
              September 2025
            </span>
            <span class="card-archive-list-count">2</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/08/">
            <span class="card-archive-list-date">
              August 2025
            </span>
            <span class="card-archive-list-count">2</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/07/">
            <span class="card-archive-list-date">
              July 2025
            </span>
            <span class="card-archive-list-count">15</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/05/">
            <span class="card-archive-list-date">
              May 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/04/">
            <span class="card-archive-list-date">
              April 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/02/">
            <span class="card-archive-list-date">
              February 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Website Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article Count :</div><div class="item-count">353</div></div><div class="webinfo-item"><div class="item-name">Total Word Count :</div><div class="item-count">1592.9k</div></div><div class="webinfo-item"><div class="item-name">Unique Visitors :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Page Views :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2026-02-07T12:19:06.972Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2017 - 2026 By magicliang</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">簡</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="/js/tw_cn.js?v=5.5.2"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="/"></script></div></body></html>