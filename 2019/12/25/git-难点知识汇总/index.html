<!DOCTYPE html>

<html lang="zh-Hans">
    <head>
    <meta charset="utf-8">
    <!--
        hexo-theme-suka © SukkaW
        GitHub: https://github.com/SukkaW/hexo-theme-suka
    -->

    <!-- ### Resource Hint ### -->

    <!-- ## DNS Prefetch ## -->
    <meta http-equiv="x-dns-prefetch-control" content="on">

<!-- busuanzi -->

    <link rel="dns-prefetch" href="//busuanzi.ibruce.info">


<!-- comment -->







<!-- analytics -->







    <!-- ## Preload ## -->
    
    <!-- Busuanzi -->
    
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" as="script">







    <!-- ### Meta & Title & Info ### -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <meta name="renderer" content="webkit">

    <!-- Title -->
    <title>git 难点知识汇总 | 守株阁</title>

    <!-- Favicons -->
    <link rel="icon" type="image&#x2F;ico" href="/img/suka-favicon.ico">

    <!-- ### Import File ### -->
    <link rel="stylesheet" href="/lib/spectre/spectre.min.css"><style>
    body {
        background-color: #f8f9fa;
    }

    a, a:visited {
        color: #0070ff;
    }

    a:active, a:focus, a:hover {
        color: #0070ff;
        opacity: .75;
    }

    #post-content a,
    #post-content a:hover,
    #post-content a:focus,
    #post-content a:visited {
        color: #005eb9;
        opacity: 1;
    }

    

    .post-entry .card-body a {
        color: #0070ff;
    }

    .avatar {
        background: #444;
    }

    .navbar-link,
    .navbar-link:visited,
    .timeline .timeline-item .timeline-icon.icon-lg {
        color: #0070ff;
    }

    .navbar-link:hover {
        color: #0070ff;
        opacity: .8;
    }

    #search-input .btn,
    #disqus_click_btn,
    #disqus-switch-to-direct,
    #disqus-loadmore-button {
        background: #727e96;
        border-color: #727e96;
        color: #fff;
    }

    #post-toc a.post-toc-link,
    #post-toc a.post-toc-link:visited,
    .share-menu.menu .menu-item>a {
        color: #727e96;
    }

    .share-menu.menu .menu-item>a:hover,
    .share-menu.menu .menu-item>a:focus,
    .share-menu.menu .menu-item>a:visited {
        color: #50596c;
        background: #f8f9fa;
        opacity: .85;
    }
</style><link rel="stylesheet" href="/css/style.min.css">








    <!-- Prettify Theme -->
    
    <link rel="preload" href="/css/highlight/github.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/css/highlight/github.min.css"></noscript>





<script>
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
</script>

    <!-- ### Site Verification ### -->
    


    <link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="守株阁"><meta name="msapplication-starturl" content="http://magicliang.github.io"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="守株阁"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- ### The Open Graph & Twitter Card Protocol ### -->
    <meta property="og:title" content="git 难点知识汇总 | 守株阁"><meta property="og:site_name" content="守株阁"><meta property="og:type" content="article"><meta property="og:url" content="http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/"><meta property="og:locale" content="zh-Hans"><meta name="description" content="初始化命令123456789101112131415161718192021git config --global user.name &amp;quot;magicliang&amp;quot;                    # 请换成你自己的名字git config --global user.email &amp;quot;magicliang@qq.com&amp;quot;    # 请换成你自己的邮箱git  - magicliang - 守株阁"><meta name="keywords" content="git"><meta property="og:image" content="https://ws1.sinaimg.cn/large/66dd581fly1fx7ifbcqpoj20m80c90sy.jpg"><meta property="og:image" content="https://ws1.sinaimg.cn/large/66dd581fly1fx7kv8ud9hj20rs0li74b.jpg"><meta property="og:image" content="https://ws1.sinaimg.cn/large/66dd581fly1fx7m5u2y5jj20rs0lx3yn.jpg"><meta property="og:image" content="https://ws1.sinaimg.cn/large/66dd581fly1fx7m7vai0fj20ic0e076w.jpg"><meta property="article:published_time" content="2019-12-25T07:52:48.000Z"><meta property="article:modified_time" content="2020-04-16T15:23:35.000Z"><meta property="og:updated_time" content="2020-04-16T15:23:35.000Z"><meta property="article:author" content="magicliang"><meta property="article:tag" content="git"><meta name="twitter:card" content="summary">

    

    <!-- ### Canonical link ### -->
    <link rel="canonical" href="http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/">

    <meta name="generator" content="Hexo 6.0.0">

    <!-- ### Analytics ### -->
    







    <!-- ### Structured Data ### -->
    



<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "url": "http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/",
    "@type": "BlogPosting",
    "logo": "http://magicliang.github.io/img/suka-favicon.ico",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/"
    },
    "headline": "git 难点知识汇总 | 守株阁",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://magicliang.github.io/img/suka-favicon.ico"
    },
    
    "datePublished": "2019-12-25T07:52:48.000Z",
    "dateModified": "2020-04-16T15:23:35.000Z",
    "author": {
        "@type": "Person",
        "name": "magicliang",
        "image": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/default_avatar.png"
        },
        "description": "Hi, nice to meet you."
    },
    "publisher": {
        "@type": "Organization",
        "name": "守株阁",
        "logo": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/suka-favicon.ico"
        }
    },
    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "http://magicliang.github.io/search?s={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    
    "keywords": "git",
    "description": "初始化命令123456789101112131415161718192021git config --global user.name &amp;amp;quot;magicliang&amp;amp;quot;                    # 请换成你自己的名字git config --global user.email &amp;amp;quot;magicliang@qq.com&amp;amp;quot;    # 请换成你自己的邮箱git  - magicliang - 守株阁"
}
</script>



    <!-- ### Custom Head ### -->
    
</head>

    <body>
            

            <!-- ### Main content ### -->
            <!-- ## Header ##-->
<header>
    <h1 class="header-title text-center"><a href="/">守株阁</a></h1>

    <p class="text-center header-slogan">
        
            
                Hi, nice to meet you.
            
        
    </p>

    <nav class="navbar-section text-center">
    
        <a href="/" class="navbar-link">Home</a>
    
    
        <a href="/archives/" class="navbar-link">Archives</a>
    
    
        <a href="/search" class="navbar-link">Search</a>
    
    
    
        <div class="dropdown dropdown-right">
    <a class="navbar-link dropdown-toggle" tabindex="0">Share</a>
    <ul class="menu share-menu">

        <!-- Share Weibo -->
        
        <li class="menu-item">
            <a href="http://service.weibo.com/share/share.php?appkey=&title=守株阁&url=http://magicliang.github.io&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
        </li>
        

        <!-- Share Twitter -->
        
        <li class="menu-item">
            <a href="https://twitter.com/intent/tweet?text=守株阁&url=http://magicliang.github.io&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
        </li>
        

        <!-- Share Facebook -->
        
        <li class="menu-item">
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
        </li>
        

        <!-- Share Google+ -->
        
        <li class="menu-item">
            <a href="https://plus.google.com/share?url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
        </li>
        

        <!-- Share LinkedIn -->
        
        <li class="menu-item">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io&title=git 难点知识汇总" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
        </li>
        

        <!-- Share QQ -->
        
        <li class="menu-item">
            <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=git 难点知识汇总&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
        </li>
        

        <!-- Share Telegram -->
        
        <li class="menu-item">
            <a href="https://t.me/share/url?url=http://magicliang.github.io&text=git 难点知识汇总" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
        </li>
        

        <!-- QRCode -->
        
        <li class="menu-item">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAAAAAAYplnuAAACuUlEQVR42u3cS04DMRRE0ex/0zBCQqj96pbjDJBvJkA+zulIlt8vvL7+4e0lWrRo0ReiX8Pt5/G/z/t7/++1ntZ9BAzrPzlEi27QZFHy3NUHsbqgaY3HD0K06AKd3oSgpvvTRkUO0aIPoNOBMx0s06aeNr5o0Z9EE8QUGLWbVLToU+gxUFlswOmAmYKj6T2ORHmir0fTxPbTPz+SjYu+Dh2LfosFUlI6bUqy5ltVU9FXo1fBy4nNmIL8KYl4DNREiy7QpCiTLowktLuHmWjRFE03ySohTQfT9IGsDqTl46JFA3SCTJsrJbFTYEQCp+pEFC36jY2YCixNQ6kpaIoWTdGkSTmhyDAAaT4lvGjRFE2Cl53mUNO4T4V80aIbdFM0TA3Qdthqeg2qmooWHRpFJNghhZim+E6TW9GiCXo3+EmvJQnzV3kTLbrtI1LETsJLijaxwCNadIFOgTx5jB40O0PhokVTNEooQaMoJakkmUiFdtGiKZo2hmjhPD2fDMigqqlo0cOA7FjMBgUY2qCfDqV04aJFE3QaKCGBDQ3+pwtGm1i0aIBOC7WJbNsQmtZBia1o0aFYQzchSRzaphAeUhEtGgxeNQESGfxLDVXaWB2LNaJFhxyRFtrJgMo7z0EBk2jRIJ6eijNTAJQOKpJA1FMIokWD+nQaxiZBUboIGlw9/i5aNECTxLYJ+MlAYbOJt7Nx0deim2RgZ3CWbHby5TXRoht0OgRSM4kMHKZC43QxokW36PYNSHMzBvRhuLCaQhAtuvyHaOMwFPjSDfnCWT0gK1p0OT89LdIOvabgaWsjihYd0CkhJQdNOnRSQJaGZEWLPoFOTctTjSNU7BEt+hA6DbqmLzhMB1L6W7ToXTRpqpMGKCk+NofQVhIg+no0TWxJk5MOxKYP4Fg2Lvo69H+6iRYtWvRF6G+wymi2s7yy4wAAAABJRU5ErkJggg==" alr="QRCode">
        </li>
        

    </ul>
</div>
    
    
</nav>
</header>

            
    <!-- ## Post ## -->
    <div class="post-container">
    <div id="post-card" class="card">
        
        <div class="card-item-container">
            <div class="card-inner-cell">
                <!-- # Post Header Info # -->
                <div class="card-header">
                    
    <h1 class="card-title h3 mb-2">git 难点知识汇总</h1>




<div class="post-header-info">
    <p class="post-header-info-left text-gray">
        <img class="author-thumb lazyload" data-src="/img/default_avatar.png" src="/img/suka-lazyload.gif" alt="magicliang's Avatar">
        <span>2019-12-25</span>
        
        
            <!-- Busuanzi Post Views -->
<span id="busuanzi_container_page_pv" hidden>
    <span class="suka-devide-dot"></span>
    <span></span>
    <span id="busuanzi_value_page_pv"></span>
    <span>Views</span>
</span>
        
        
    </p>
    <div class="post-header-info-right">
        
            <div class="dropdown dropdown-right">
<a class="dropdown-toggle" tabindex="0">Share the post</a>
<ul class="menu share-menu">
    <!-- Share Weibo -->
    
    <li class="menu-item">
        <a href="http://service.weibo.com/share/share.php?appkey=&title=git 难点知识汇总&url=http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
    </li>
    

    <!-- Share Twitter -->
    
    <li class="menu-item">
        <a href="https://twitter.com/intent/tweet?text=git 难点知识汇总&url=http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
    </li>
    

    <!-- Share Facebook -->
    
    <li class="menu-item">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
    </li>
    

    <!-- Share Google+ -->
    
    <li class="menu-item">
        <a href="https://plus.google.com/share?url=http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
    </li>
    

    <!-- Share LinkedIn -->
    
    <li class="menu-item">
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/&title=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
    </li>
    

    <!-- Share QQ -->
    
    <li class="menu-item">
        <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=守株阁&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
    </li>
    

    <!-- Share Telegram -->
    
    <li class="menu-item">
        <a href="https://t.me/share/url?url=http://magicliang.github.io/2019/12/25/git-%E9%9A%BE%E7%82%B9%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/&text=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
    </li>
    

    <!-- QRCode -->
    
    <li class="menu-item">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAAAAAAYplnuAAACuUlEQVR42u3cS04DMRRE0ex/0zBCQqj96pbjDJBvJkA+zulIlt8vvL7+4e0lWrRo0ReiX8Pt5/G/z/t7/++1ntZ9BAzrPzlEi27QZFHy3NUHsbqgaY3HD0K06AKd3oSgpvvTRkUO0aIPoNOBMx0s06aeNr5o0Z9EE8QUGLWbVLToU+gxUFlswOmAmYKj6T2ORHmir0fTxPbTPz+SjYu+Dh2LfosFUlI6bUqy5ltVU9FXo1fBy4nNmIL8KYl4DNREiy7QpCiTLowktLuHmWjRFE03ySohTQfT9IGsDqTl46JFA3SCTJsrJbFTYEQCp+pEFC36jY2YCixNQ6kpaIoWTdGkSTmhyDAAaT4lvGjRFE2Cl53mUNO4T4V80aIbdFM0TA3Qdthqeg2qmooWHRpFJNghhZim+E6TW9GiCXo3+EmvJQnzV3kTLbrtI1LETsJLijaxwCNadIFOgTx5jB40O0PhokVTNEooQaMoJakkmUiFdtGiKZo2hmjhPD2fDMigqqlo0cOA7FjMBgUY2qCfDqV04aJFE3QaKCGBDQ3+pwtGm1i0aIBOC7WJbNsQmtZBia1o0aFYQzchSRzaphAeUhEtGgxeNQESGfxLDVXaWB2LNaJFhxyRFtrJgMo7z0EBk2jRIJ6eijNTAJQOKpJA1FMIokWD+nQaxiZBUboIGlw9/i5aNECTxLYJ+MlAYbOJt7Nx0deim2RgZ3CWbHby5TXRoht0OgRSM4kMHKZC43QxokW36PYNSHMzBvRhuLCaQhAtuvyHaOMwFPjSDfnCWT0gK1p0OT89LdIOvabgaWsjihYd0CkhJQdNOnRSQJaGZEWLPoFOTctTjSNU7BEt+hA6DbqmLzhMB1L6W7ToXTRpqpMGKCk+NofQVhIg+no0TWxJk5MOxKYP4Fg2Lvo69H+6iRYtWvRF6G+wymi2s7yy4wAAAABJRU5ErkJggg==" alt="QRCode">
    </li>
    

</ul>
</div>
        
    </div>
</div>
                </div>
                <div class="card-body">
                    
                        
                        
                            <div id="post-toc"><ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%91%BD%E4%BB%A4"><span class="post-toc-number">1.</span> <span class="post-toc-text">初始化命令</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#areas"><span class="post-toc-number">2.</span> <span class="post-toc-text">areas</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%BF%AE%E6%94%B9%E6%8F%90%E4%BA%A4"><span class="post-toc-number">3.</span> <span class="post-toc-text">修改提交</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E7%AD%BE%E5%87%BA%E6%93%8D%E4%BD%9C"><span class="post-toc-number">4.</span> <span class="post-toc-text">签出操作</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%8F%90%E4%BA%A4%E5%9B%9E%E9%80%80"><span class="post-toc-number">5.</span> <span class="post-toc-text">提交回退</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#merge"><span class="post-toc-number">6.</span> <span class="post-toc-text">merge</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#rebase"><span class="post-toc-number">7.</span> <span class="post-toc-text">rebase</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#remote"><span class="post-toc-number">8.</span> <span class="post-toc-text">remote</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#commit"><span class="post-toc-number">9.</span> <span class="post-toc-text">commit</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E7%89%B9%E6%AE%8A%E6%8A%80%E5%B7%A7"><span class="post-toc-number">10.</span> <span class="post-toc-text">特殊技巧</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%80%8E%E6%A0%B7%E6%8A%8A%E4%B8%80%E4%BA%9B-commit-%E4%BB%8E%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF%EF%BC%88%E9%80%9A%E5%B8%B8%E6%98%AF-master%EF%BC%89%E7%A7%BB%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">怎样把一些 commit 从当前分支（通常是 master）移到另一个分支</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%80%8E%E6%A0%B7%E6%8A%8A%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF%E7%9A%84%E6%8F%90%E4%BA%A4%E7%9B%B4%E6%8E%A5%E5%A4%8D%E5%88%B6%E5%88%B0%E5%85%B6%E4%BB%96%E5%88%86%E6%94%AF"><span class="post-toc-number">10.2.</span> <span class="post-toc-text">怎样把当前分支的提交直接复制到其他分支</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%9F%90%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF%E5%8E%8B%E7%BC%A9%E6%9C%AC%E5%88%86%E6%94%AF%E4%B8%8A%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="post-toc-number">10.3.</span> <span class="post-toc-text">基于某一个分支压缩本分支上的修改</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%80%8E%E6%A0%B7%E5%BD%BB%E5%A4%B4%E5%BD%BB%E5%B0%BE%E5%9C%B0-ignore-%E4%B8%8D%E9%9C%80%E8%A6%81%E7%9A%84%E6%96%87%E4%BB%B6"><span class="post-toc-number">10.4.</span> <span class="post-toc-text">怎样彻头彻尾地 ignore 不需要的文件</span></a></li></ol></li></ol></div>
                        
                    
                    <article id="post-content">
                        <h1 id="初始化命令"><a href="#初始化命令" class="headerlink" title="初始化命令"></a>初始化命令</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;magicliang&quot;</span>                    <span class="comment"># 请换成你自己的名字</span></span><br><span class="line">git config --global user.email <span class="string">&quot;magicliang@qq.com&quot;</span>    <span class="comment"># 请换成你自己的邮箱</span></span><br><span class="line">git config --global push.default simple     <span class="comment"># 我们要求 Git 版本 1.9.5 以上</span></span><br><span class="line">git config --global core.autocrlf <span class="literal">false</span>     <span class="comment"># 让Git不要管Windows/Unix换行符转换的事</span></span><br><span class="line"></span><br><span class="line">git config --global --list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 所以实际上没有 git 协议，只有 ssh 协议</span></span><br><span class="line">ssh git@gitlab.abc</span><br><span class="line"></span><br><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;First commit&quot;</span></span><br><span class="line">git remote remove origin</span><br><span class="line"><span class="comment"># 没有 ssh:// 这个协议 scheme</span></span><br><span class="line">git remote add origin git@git.somecompany.com/someuser/somerepo.git</span><br><span class="line">git push</span><br><span class="line"><span class="comment"># 如果遇上冲突，使用</span></span><br><span class="line">git pull origin master --allow-unrelated-histories</span><br><span class="line"><span class="comment"># 查看远程仓库的可视化内容</span></span><br><span class="line">git remote -v</span><br></pre></td></tr></table></figure>

<p>…or create a new repository on the command line</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;# SpringBootMVCUI&quot;</span> &gt;&gt; README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git remote add origin git@github.com:magicliang/SpringBootMVCUI.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>…or push an existing repository from the command line</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:magicliang/SpringBootMVCUI.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>…or import code from another repository<br>You can initialize this repository with code from a Subversion, Mercurial, or TFS project.</p>
<h1 id="areas"><a href="#areas" class="headerlink" title="areas"></a>areas</h1><p><img src="https://ws1.sinaimg.cn/large/66dd581fly1fx7ifbcqpoj20m80c90sy.jpg"></p>
<p>staging area 也叫 index。</p>
<p>HEAD 指向的 commit，是当前分支的顶端。哪怕这个 commit 后面还有很多其他 commit，看起来 branch 在最后一个 commit 上，实际上 branch 的顶端，还是在 head 上的。</p>
<h1 id="修改提交"><a href="#修改提交" class="headerlink" title="修改提交"></a>修改提交</h1><p>用git log可以查看提交历史，以便确定要回退到哪个版本。</p>
<p>要重返未来，用git reflog查看命令历史，以便确定要回到未来的哪个版本。这个命令的本质，是找到没有 branch 的 head 指向的悬垂节点。</p>
<ol>
<li><p>大部分情况下，我们可以使用<code>git reset --hard commit_id</code> 的方式来调整当前整个 git 仓库内的内容，这个操作会把代码仓库里的多余内容抹掉。**<code>git reset --hard</code>大部分时间没什么用，因为 head 本来已经是 head 了，但它会把 working directory 里的内容给丢掉。**</p>
</li>
<li><p>如果我们想把代码回滚到特定的版本，但保留 commit 之间的修改，则可以使用<code>git -c core.quotepath=false -c log.showSignature=false reset --soft 6ef50b9f2186fbb0f89b100dfe7399c2b918446d</code> 命令，这样特定版本之间的修改，会停留在 staged 区域，等待再次被修改为一个 commit 并提交。<strong>同样是保留文件修改，soft 会帮你写好 commit</strong>。</p>
</li>
<li><p>：<code>git -c core.quotepath=false -c log.showSignature=false reset --mixed 6ef50b9f2186fbb0f89b100dfe7399c2b918446d</code>，则 commit 之间的代码会被放到 working directory（而不是 staging area），等待 add 和 commit。<strong>同样是保留文件修改，mixed 不会帮你写好 commit。而且，它是 reset 的默认选项</strong>。</p>
</li>
<li><p><code> git -c core.quotepath=false -c log.showSignature=false reset --keep 6ef50b9f2186fbb0f89b100dfe7399c2b918446d</code> 看不出这个命令和<code>hard</code>有什么区别。</p>
</li>
</ol>
<h1 id="签出操作"><a href="#签出操作" class="headerlink" title="签出操作"></a>签出操作</h1><p>git checkout最简单的用法，显示工作区，暂存区和HEAD的差异。</p>
<p>注意 checkout 本身不是 reset，纯粹的 checkout 会导致 head 指针比 branch 的最后头指针更加 behind。head 会因此进入 detached HEAD STATE。因为 checkout 本来是拿来移动 branch 的。</p>
<p>我们在 detached head 上乱修改，也可以产生提交。但这个提交是不能当做任何一个 branch 的内容的，也就是在一个匿名的 branch 内。但我们可以再做一次 checkout -b，新建出真正的分支。似乎可以这么理解，git checkout 历史版本，是为了<strong>在历史版本上创建新分支而不是更正当前版本</strong>而存在的。</p>
<p>因为 checkout 总是被用来切换分支，所以它会导致 local modification 被覆盖，所以我们在 checkout 的时候，总是要先 commit 或者 stash 一下我们的修改。</p>
<h1 id="提交回退"><a href="#提交回退" class="headerlink" title="提交回退"></a>提交回退</h1><p>我们可以用以下的命令，产生某一个 commit 涉及到的文件的反操作，而不是 commit 和 head 之间的反操作。</p>
<p><code>git -c core.quotepath=false -c log.showSignature=false revert 6ef50b9f2186fbb0f89b100dfe7399c2b918446d --no-commit</code></p>
<p>这样可以提交反操作，而不丢失正操作的 commit。这样做的好处是，commit 历史是 append only 的，不会被修改。</p>
<h1 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h1><p>merge 的用途是把一个分支的内容合入另一个分支。</p>
<p>要把 master 的代码合并入 feature。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 方法一</span><br><span class="line">git checkout feature</span><br><span class="line">git merge master</span><br><span class="line"></span><br><span class="line"># 方法二</span><br><span class="line">git merge master feature</span><br></pre></td></tr></table></figure>

<p>git merge 当然会产生一个多余的 commit，而且如果有冲突的话，还必须在这个 commit 里修改，化解冲突。我们在工程上倒是可以规定所有的 merge 都必须是 no conflict 的，这就要求我们合并里的 source 分支，反而要先 merge target 分支，这样所有的 merge 都是 fast-forward 的。</p>
<h1 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h1><p>rebase 的用途也是把一个分支的内容合入另一个分支。</p>
<p>作为 merge 的替代选择，它会产生一个非常整洁的提交记录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 经典变基</span><br><span class="line">git checkout feature</span><br><span class="line">git rebase master</span><br><span class="line"></span><br><span class="line"># 交互式变基</span><br><span class="line"></span><br><span class="line"># 进入编辑窗口后，除了最上的 commit 不能够 squash，其他全部都可以 squash。然后提交还会出现一个重新修改注释的地方。</span><br><span class="line">git rebase -i 还可以加上要变基的最后一个 commit（开区间）</span><br><span class="line"></span><br><span class="line"># 如果出了问题，可以用这个命令退出</span><br><span class="line">git rebase --abort</span><br><span class="line"></span><br><span class="line"># 查看全部提交历史</span><br><span class="line">git log</span><br><span class="line"></span><br><span class="line"># 查看某个提交的具体细节</span><br><span class="line">git show a828e5a2ea49845a8136df62b5bab536676c975e</span><br><span class="line"></span><br><span class="line"># 修改最后一次提交的细节</span><br><span class="line">git commit --amend</span><br></pre></td></tr></table></figure>

<p>rebase 的本质，顾名思义，<strong>是改变当前分支的 branch out 的位置</strong>。即，把当前 feature 整个移动到 master 的 head 之后，即所谓的 rebase onto。</p>
<p><img src="https://ws1.sinaimg.cn/large/66dd581fly1fx7kv8ud9hj20rs0li74b.jpg"></p>
<p>rebase 导致最后的项目历史呈现出完美的线性——你可以从项目终点到起点浏览而不需要任何的 fork。如果你想把 rebase 之后的 master 分支推送到远程仓库，Git 会阻止你这么做，因为两个分支包含冲突。但你可以传入 –force 标记来强行推送。就像下面一样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 小心使用这个命令！</span><br><span class="line">git push --force</span><br></pre></td></tr></table></figure>

<p>它会重写远程的 master 分支来匹配你仓库中 rebase 之后的 master 分支，对于团队中其他成员来说这看上去很诡异。所以，务必小心这个命令，只有当你知道你在做什么的时候再使用。</p>
<p><img src="https://ws1.sinaimg.cn/large/66dd581fly1fx7m5u2y5jj20rs0lx3yn.jpg"></p>
<p>rebase 因为会修改 branch 的历史，所以 never use it on public branches。因为这会给其他人的开发分支带来分歧。</p>
<p>而如果我们使用交互式的 rebase，就是把<code>git rebase -i master</code>。则会把我们要 branch out 的 commit 做一个整理。</p>
<p><img src="https://ws1.sinaimg.cn/large/66dd581fly1fx7m7vai0fj20ic0e076w.jpg"></p>
<h1 id="remote"><a href="#remote" class="headerlink" title="remote"></a>remote</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 列出所有远程仓库</span><br><span class="line">git remote -v</span><br><span class="line"></span><br><span class="line"># 增加一个 ssh 协议/git 协议的 git repo，命名为 pb（通常还是命名为 origin）。</span><br><span class="line">git remote add pb git://github.com/paulboone/ticgit.git</span><br><span class="line"></span><br><span class="line"># 从远程仓库获取信息</span><br><span class="line">git fetch pb</span><br><span class="line"></span><br><span class="line"># 推送修改到 origin 里，可以修改这个参数推送到不同的 origin 里</span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line"># 显示远程仓库</span><br><span class="line">git remote show origin</span><br><span class="line"></span><br><span class="line"># 重命名</span><br><span class="line">git remote rename pb paul</span><br><span class="line"></span><br><span class="line"># 删除</span><br><span class="line">git remote rm paul</span><br></pre></td></tr></table></figure>

<h1 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 多行注释</span><br><span class="line">git commit -m &quot;</span><br><span class="line">多行注释</span><br><span class="line">&quot;</span><br><span class="line"></span><br><span class="line"># 修改最近一次提交的 comment</span><br><span class="line"># 如果要修改多个 commit 的注释，要先 rebase 到一个 commit，在交互过程中修改</span><br><span class="line">git commit --amend</span><br></pre></td></tr></table></figure>

<h1 id="特殊技巧"><a href="#特殊技巧" class="headerlink" title="特殊技巧"></a>特殊技巧</h1><h2 id="怎样把一些-commit-从当前分支（通常是-master）移到另一个分支"><a href="#怎样把一些-commit-从当前分支（通常是-master）移到另一个分支" class="headerlink" title="怎样把一些 commit 从当前分支（通常是 master）移到另一个分支"></a>怎样把一些 commit 从当前分支（通常是 master）移到另一个分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 移走而不是复制</span></span><br><span class="line">git branch newbranch      <span class="comment"># Create a new branch, saving the desired commits</span></span><br><span class="line">git reset --hard HEAD~3   <span class="comment"># Move master back by 3 commits (GONE from master)</span></span><br><span class="line">git checkout newbranch    <span class="comment"># Go to the new branch that still has the desired commits</span></span><br></pre></td></tr></table></figure>

<h2 id="怎样把当前分支的提交直接复制到其他分支"><a href="#怎样把当前分支的提交直接复制到其他分支" class="headerlink" title="怎样把当前分支的提交直接复制到其他分支"></a>怎样把当前分支的提交直接复制到其他分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 用 cherry-pick 挑选一个 branch 上的 commit 单独 apply 到另一个 branch 上。</span></span><br><span class="line">git checkout master</span><br><span class="line">git cherry-pick --no-commit d0的哈希 d1的哈希 d2的哈希</span><br><span class="line">git commit -m <span class="string">&quot;merged commit&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># merge squash</span></span><br><span class="line">git merge d2 --squash</span><br></pre></td></tr></table></figure>

<h2 id="基于某一个分支压缩本分支上的修改"><a href="#基于某一个分支压缩本分支上的修改" class="headerlink" title="基于某一个分支压缩本分支上的修改"></a>基于某一个分支压缩本分支上的修改</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 这样本分支就可以基于对 master 的 head 的指针变化，衍生一套新的 commit 集合，在这个集合生成的时候可以使用 squash。</span><br><span class="line"></span><br><span class="line">git rebase --interactive --rebase-merges refs/heads/master</span><br></pre></td></tr></table></figure>

<h2 id="怎样彻头彻尾地-ignore-不需要的文件"><a href="#怎样彻头彻尾地-ignore-不需要的文件" class="headerlink" title="怎样彻头彻尾地 ignore 不需要的文件"></a>怎样彻头彻尾地 ignore 不需要的文件</h2><p>参考<a target="_blank" rel="noopener" href="https://www.gitignore.io/">gitignore.io</a>。</p>
<ol>
<li>Edit .gitignore to match the file you want to ignore</li>
<li><code>git rm --cached /path/to/file</code></li>
</ol>

                    </article>
                    


    <blockquote id="date-expire-notification" class="post-expired-notify">This article was last updated on <span id="date-expire-num"></span> days ago, and the information described in the article may have changed.</blockquote>
    <script>
    (function() {
        var dateUpdate = Date.parse("2020-04-16");
        var nowDate = new Date();
        var a = nowDate.getTime();
        var b = a - dateUpdate;
        var daysUpdateExpire = Math.floor(b/(24*3600*1000));
        if (daysUpdateExpire >= 120) {
            document.getElementById('date-expire-num').innerHTML = daysUpdateExpire;
        } else {
            document.getElementById('date-expire-notification').style.display = 'none';
        }
    })();
    </script>


<p class="post-footer-info mb-0 pt-0">Published at&nbsp;<time datetime="2019-12-25T07:52:48.000Z" itemprop="datePublished">2019-12-25</time>

    , Updated at&nbsp;<time datetime="2020-04-16T15:23:35.000Z" itemprop="dateModified">2020-04-16</time>

</p>
<p class="post-footer-info mb-0 pt-2">



<span class="post-tags-list mt-2">

<a class="post-tags-list-item" href="/tags/git/" rel="tag">#&nbsp;git</a>

</span>


</p>

                </div>
                <div class="post-nav px-2 bg-gray">
<ul class="pagination">
    <!-- Prev Nav -->
    
        <li class="page-item page-prev">
            <a href="/2019/12/29/%E5%BD%A9%E8%89%B2-UML-%E5%BB%BA%E6%A8%A1/" rel="prev">
                <div class="page-item-title"><i class="icon icon-back" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">彩色 UML 建模</div>
            </a>
        </li>
    

    <!-- Next Nav -->
    
        <li class="page-item page-next">
            <a href="/2019/12/25/IPv6-%E9%97%AE%E9%A2%98/" rel="next">
                <div class="page-item-title"><i class="icon icon-forward" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">IPv6 问题</div>
            </a>
        </li>
    
</ul>
</div>

                
                    <!-- # Comment # -->
                    
                
            </div>
        </div>
    </div>
</div>

            <!-- ### Footer ### -->
            <footer class="text-center">
    <!-- footer copyright -->
    
        <p class="footer-copyright mb-0">Copyright&nbsp;©&nbsp;<span id="copyright-year"></span>
            <a class="footer-copyright-a" href="http://magicliang.github.io">守株阁</a>
        </p>

    <!-- footer custom text -->
    <p class="footer-text mb-0">
    
    </p>
    <!-- footer develop info -->
    <p class="footer-develop mb-0">
        
    <!-- Busuanzi User Views -->
    <span id="busuanzi_container_site_uv" hidden>
        <span></span>
        <span id="busuanzi_value_site_uv"></span>
        <span>Viewers</span>
        
            <span>|</span>
        
    </span>




        
        Powered by&nbsp;<!--
         --><a href="https://hexo.io" target="_blank" class="footer-develop-a" rel="external nofollow noopener noreferrer">Hexo</a><span class="footer-develop-divider"></span>Theme&nbsp;-&nbsp;<!--
         --><a href="https://github.com/SukkaW/hexo-theme-suka" target="_blank" class="footer-develop-a" rel="external noopener">Suka</a>
    </p>
</footer>


        <!-- ### Import File ### -->
        <!-- ### Footer JS Import ### -->

<script>

    
window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
};
document.getElementById('copyright-year').textContent = new Date().getFullYear();
console.log('\n %c Suka Theme (hexo-theme-suka) | © SukkaW | Verision 1.3.3 %c https://github.com/SukkaW/hexo-theme-suka \n', 'color: #fff; background: #444; padding:5px 0;', 'background: #bbb; padding:5px 0;');

</script>

<script src="/lib/vanilla-lazyload/lazyload.min.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" async></script>


<!-- Offset -->




<!-- Comment -->


<!-- ### Custom Footer ### -->

    </body>

</html>