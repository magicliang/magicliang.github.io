<!DOCTYPE html>

<html lang="zh-Hans">
    <head>
    <meta charset="utf-8">
    <!--
        hexo-theme-suka © SukkaW
        GitHub: https://github.com/SukkaW/hexo-theme-suka
    -->

    <!-- ### Resource Hint ### -->

    <!-- ## DNS Prefetch ## -->
    <meta http-equiv="x-dns-prefetch-control" content="on">

<!-- busuanzi -->

    <link rel="dns-prefetch" href="//busuanzi.ibruce.info">


<!-- comment -->







<!-- analytics -->







    <!-- ## Preload ## -->
    
    <!-- Busuanzi -->
    
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" as="script">







    <!-- ### Meta & Title & Info ### -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <meta name="renderer" content="webkit">

    <!-- Title -->
    <title>如何画架构图 | 守株阁</title>

    <!-- Favicons -->
    <link rel="icon" type="image&#x2F;ico" href="/img/suka-favicon.ico">

    <!-- ### Import File ### -->
    <link rel="stylesheet" href="/lib/spectre/spectre.min.css"><style>
    body {
        background-color: #f8f9fa;
    }

    a, a:visited {
        color: #0070ff;
    }

    a:active, a:focus, a:hover {
        color: #0070ff;
        opacity: .75;
    }

    #post-content a,
    #post-content a:hover,
    #post-content a:focus,
    #post-content a:visited {
        color: #005eb9;
        opacity: 1;
    }

    

    .post-entry .card-body a {
        color: #0070ff;
    }

    .avatar {
        background: #444;
    }

    .navbar-link,
    .navbar-link:visited,
    .timeline .timeline-item .timeline-icon.icon-lg {
        color: #0070ff;
    }

    .navbar-link:hover {
        color: #0070ff;
        opacity: .8;
    }

    #search-input .btn,
    #disqus_click_btn,
    #disqus-switch-to-direct,
    #disqus-loadmore-button {
        background: #727e96;
        border-color: #727e96;
        color: #fff;
    }

    #post-toc a.post-toc-link,
    #post-toc a.post-toc-link:visited,
    .share-menu.menu .menu-item>a {
        color: #727e96;
    }

    .share-menu.menu .menu-item>a:hover,
    .share-menu.menu .menu-item>a:focus,
    .share-menu.menu .menu-item>a:visited {
        color: #50596c;
        background: #f8f9fa;
        opacity: .85;
    }
</style><link rel="stylesheet" href="/css/style.min.css">








    <!-- Prettify Theme -->
    
    <link rel="preload" href="/css/highlight/github.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/css/highlight/github.min.css"></noscript>





<script>
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
</script>

    <!-- ### Site Verification ### -->
    


    <link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="守株阁"><meta name="msapplication-starturl" content="http://magicliang.github.io"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="守株阁"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- ### The Open Graph & Twitter Card Protocol ### -->
    <meta property="og:title" content="如何画架构图 | 守株阁"><meta property="og:site_name" content="守株阁"><meta property="og:type" content="article"><meta property="og:url" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/"><meta property="og:locale" content="zh-Hans"><meta name="description" content="前言 有意义且具备一致性（coherence）的架构图有助于为不同的利益相关者（stakeholder）澄清（illustrate）事实，并达成共识-反之，图表杂乱无章。 有意义的图表胜过建模（建模指的是With modelling, you&amp;#39;re building up a non-visual model of something (e.g. the software architec - magicliang - 守株阁"><meta name="keywords" content="系统架构"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/c4-overview-1536x1152.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/total-diagram.jpeg"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/context-diagram.jpeg"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-SystemContext-with-enterprise-boundary-key.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-SystemContext-with-enterprise-boundary.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/container-diagram.jpeg"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-Containers-key.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-Components.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-Components-key.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/code-diagram.jpeg"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-SystemLandscape.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-SignIn.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/bigbankplc-LiveDeployment.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/%E9%A3%8E%E9%99%A9landscape.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/%E5%9C%BA%E6%99%AF%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E5%9B%BE.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/Runtime%E5%9B%BE.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/Flink-Kafka-TSDB-Grafana-stack.jpg"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/Promethueus%E5%88%86%E9%9B%86%E7%BE%A4.jpg"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/%E6%9F%90%E7%B1%BB%E4%BF%9D%E9%99%A9%E6%9E%B6%E6%9E%84%E5%9B%BE.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/Aeraki%E6%9E%B6%E6%9E%84%E5%9B%BE.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/gRPC%E6%97%A0%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC%E6%9E%B6%E6%9E%84.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/revision-tag.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/operation-suggest.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/%E7%A6%BB%E7%BA%BF%E8%AE%A1%E7%AE%97%E5%B9%B3%E5%8F%B0%E6%9E%B6%E6%9E%84.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/SmartDNSProxy.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/istio%E5%85%B3%E9%94%AE%E6%A6%82%E5%BF%B5.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/istio%E6%9E%B6%E6%9E%84%E5%9B%BE.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/olap%E5%92%8Coltp.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/db%E5%AF%B9%E6%AF%94.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/ELK-stack.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/ingest-pipeline-process.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/pipeline%E6%98%AF%E4%B8%80%E7%BB%84processor.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/log-data-warehouse-arch.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%E8%AE%A2%E5%8D%95%E6%B5%81%E7%A8%8B%E5%9B%BE.png"><meta property="og:image" content="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/JVM%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.jpeg"><meta property="article:published_time" content="2021-05-07T12:39:55.000Z"><meta property="article:modified_time" content="2022-01-30T09:26:53.799Z"><meta property="og:updated_time" content="2022-01-30T09:26:53.799Z"><meta property="article:author" content="magicliang"><meta property="article:tag" content="系统架构"><meta name="twitter:card" content="summary">

    

    <!-- ### Canonical link ### -->
    <link rel="canonical" href="http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/">

    <meta name="generator" content="Hexo 6.0.0">

    <!-- ### Analytics ### -->
    







    <!-- ### Structured Data ### -->
    



<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "url": "http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/",
    "@type": "BlogPosting",
    "logo": "http://magicliang.github.io/img/suka-favicon.ico",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/"
    },
    "headline": "如何画架构图 | 守株阁",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://magicliang.github.io/img/suka-favicon.ico"
    },
    
    "datePublished": "2021-05-07T12:39:55.000Z",
    "dateModified": "2022-01-30T09:26:53.799Z",
    "author": {
        "@type": "Person",
        "name": "magicliang",
        "image": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/default_avatar.png"
        },
        "description": "Hi, nice to meet you."
    },
    "publisher": {
        "@type": "Organization",
        "name": "守株阁",
        "logo": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/suka-favicon.ico"
        }
    },
    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "http://magicliang.github.io/search?s={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    
    "keywords": "系统架构",
    "description": "前言 有意义且具备一致性（coherence）的架构图有助于为不同的利益相关者（stakeholder）澄清（illustrate）事实，并达成共识-反之，图表杂乱无章。 有意义的图表胜过建模（建模指的是With modelling, you&amp;amp;#39;re building up a non-visual model of something (e.g. the software architec - magicliang - 守株阁"
}
</script>



    <!-- ### Custom Head ### -->
    
</head>

    <body>
            

            <!-- ### Main content ### -->
            <!-- ## Header ##-->
<header>
    <h1 class="header-title text-center"><a href="/">守株阁</a></h1>

    <p class="text-center header-slogan">
        
            
                Hi, nice to meet you.
            
        
    </p>

    <nav class="navbar-section text-center">
    
        <a href="/" class="navbar-link">Home</a>
    
    
        <a href="/archives/" class="navbar-link">Archives</a>
    
    
        <a href="/search" class="navbar-link">Search</a>
    
    
    
        <div class="dropdown dropdown-right">
    <a class="navbar-link dropdown-toggle" tabindex="0">Share</a>
    <ul class="menu share-menu">

        <!-- Share Weibo -->
        
        <li class="menu-item">
            <a href="http://service.weibo.com/share/share.php?appkey=&title=守株阁&url=http://magicliang.github.io&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
        </li>
        

        <!-- Share Twitter -->
        
        <li class="menu-item">
            <a href="https://twitter.com/intent/tweet?text=守株阁&url=http://magicliang.github.io&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
        </li>
        

        <!-- Share Facebook -->
        
        <li class="menu-item">
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
        </li>
        

        <!-- Share Google+ -->
        
        <li class="menu-item">
            <a href="https://plus.google.com/share?url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
        </li>
        

        <!-- Share LinkedIn -->
        
        <li class="menu-item">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io&title=如何画架构图" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
        </li>
        

        <!-- Share QQ -->
        
        <li class="menu-item">
            <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=如何画架构图&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
        </li>
        

        <!-- Share Telegram -->
        
        <li class="menu-item">
            <a href="https://t.me/share/url?url=http://magicliang.github.io&text=如何画架构图" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
        </li>
        

        <!-- QRCode -->
        
        <li class="menu-item">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAAAAAAYplnuAAACpUlEQVR42u3c0U7DQAxE0fz/T8Mrgqznzm5UCeXmBQFtclLhru11ub7+4XGJFi1a9AvR13D8/P3q8X9OvHjudD7iEC26Qd/+0f/6+d2FCHZ13hV+cogW3aDvAnAFWwVmOt90U8QhWvQT6NVNLE883Pi4cIgW/WH0FIzTIpReBBLAokXvoKfEJgUTWUhoMfBIlif69egE+NTXR6tx0a9Fx6bfECBTUTAVsqnYOO6ain41mhaYaWFIgZyukYoD0aJP0QmXEiuCo80g0aIbdGosNps7pIlDm0G31xUtGqJT4JFF6DRhWgafaNElmpyUJDgpWaKBPW7AihYN0O1gCdncTM+lgwMoYRItGjQgp2Ro9eZPbnY30EWLbtDkzb0dRGk2+skAgGjRp2i6adQUrKnps5UwiRYd0HQzqH3MVLBWNytaNECnRIlCmuI33fSysBAtGqB3NuhJYKaFJTUy0RSCaNGLBmRKapoGOm0s0iAf3z1EiwYNSBpUqRCgwydHWZ5o0WEfsVkkmoGUtKmZ3hBEi95Bk2GV9vsJnBozaMdWtOghn27w5GvaVCKJP67GRYsePsgwFaykwUIaNmSz6DYwRYsG6NSkIUXp9Nw2OMcXS7ToAt1s6JCilS482wOyokWHoW86XFUHTzmwggJRtOii70GaMM1wFh2uStcRLZqi22DbSeKbYmC8jmjRBXpKnkhydBJ4U6M9VuOiRYPBq1WyngrYBkReENSsES06NCCb4JweTwbHyblRU1206IN/BN8MUNHAnTaPRIveQdOGC10kyKKVigzRok/R00VoAdosIjRhEi36aXRC0oGA5rnLIBUt+kF0tQhc3QeMyY2KFt2iU0DRxuPU3CGDMeM1RYuG6Hbojx7Nhiq6CdGiAfo/HaJFixb9IvQ3XSU7uTpm0KMAAAAASUVORK5CYII=" alr="QRCode">
        </li>
        

    </ul>
</div>
    
    
</nav>
</header>

            
    <!-- ## Post ## -->
    <div class="post-container">
    <div id="post-card" class="card">
        
        <div class="card-item-container">
            <div class="card-inner-cell">
                <!-- # Post Header Info # -->
                <div class="card-header">
                    
    <h1 class="card-title h3 mb-2">如何画架构图</h1>




<div class="post-header-info">
    <p class="post-header-info-left text-gray">
        <img class="author-thumb lazyload" data-src="/img/default_avatar.png" src="/img/suka-lazyload.gif" alt="magicliang's Avatar">
        <span>2021-05-07</span>
        
        
            <!-- Busuanzi Post Views -->
<span id="busuanzi_container_page_pv" hidden>
    <span class="suka-devide-dot"></span>
    <span></span>
    <span id="busuanzi_value_page_pv"></span>
    <span>Views</span>
</span>
        
        
    </p>
    <div class="post-header-info-right">
        
            <div class="dropdown dropdown-right">
<a class="dropdown-toggle" tabindex="0">Share the post</a>
<ul class="menu share-menu">
    <!-- Share Weibo -->
    
    <li class="menu-item">
        <a href="http://service.weibo.com/share/share.php?appkey=&title=如何画架构图&url=http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
    </li>
    

    <!-- Share Twitter -->
    
    <li class="menu-item">
        <a href="https://twitter.com/intent/tweet?text=如何画架构图&url=http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
    </li>
    

    <!-- Share Facebook -->
    
    <li class="menu-item">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
    </li>
    

    <!-- Share Google+ -->
    
    <li class="menu-item">
        <a href="https://plus.google.com/share?url=http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
    </li>
    

    <!-- Share LinkedIn -->
    
    <li class="menu-item">
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/&title=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
    </li>
    

    <!-- Share QQ -->
    
    <li class="menu-item">
        <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=守株阁&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
    </li>
    

    <!-- Share Telegram -->
    
    <li class="menu-item">
        <a href="https://t.me/share/url?url=http://magicliang.github.io/2021/05/07/%E5%A6%82%E4%BD%95%E7%94%BB%E6%9E%B6%E6%9E%84%E5%9B%BE/&text=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
    </li>
    

    <!-- QRCode -->
    
    <li class="menu-item">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAAAAAAYplnuAAACpUlEQVR42u3c0U7DQAxE0fz/T8Mrgqznzm5UCeXmBQFtclLhru11ub7+4XGJFi1a9AvR13D8/P3q8X9OvHjudD7iEC26Qd/+0f/6+d2FCHZ13hV+cogW3aDvAnAFWwVmOt90U8QhWvQT6NVNLE883Pi4cIgW/WH0FIzTIpReBBLAokXvoKfEJgUTWUhoMfBIlif69egE+NTXR6tx0a9Fx6bfECBTUTAVsqnYOO6ain41mhaYaWFIgZyukYoD0aJP0QmXEiuCo80g0aIbdGosNps7pIlDm0G31xUtGqJT4JFF6DRhWgafaNElmpyUJDgpWaKBPW7AihYN0O1gCdncTM+lgwMoYRItGjQgp2Ro9eZPbnY30EWLbtDkzb0dRGk2+skAgGjRp2i6adQUrKnps5UwiRYd0HQzqH3MVLBWNytaNECnRIlCmuI33fSysBAtGqB3NuhJYKaFJTUy0RSCaNGLBmRKapoGOm0s0iAf3z1EiwYNSBpUqRCgwydHWZ5o0WEfsVkkmoGUtKmZ3hBEi95Bk2GV9vsJnBozaMdWtOghn27w5GvaVCKJP67GRYsePsgwFaykwUIaNmSz6DYwRYsG6NSkIUXp9Nw2OMcXS7ToAt1s6JCilS482wOyokWHoW86XFUHTzmwggJRtOii70GaMM1wFh2uStcRLZqi22DbSeKbYmC8jmjRBXpKnkhydBJ4U6M9VuOiRYPBq1WyngrYBkReENSsES06NCCb4JweTwbHyblRU1206IN/BN8MUNHAnTaPRIveQdOGC10kyKKVigzRok/R00VoAdosIjRhEi36aXRC0oGA5rnLIBUt+kF0tQhc3QeMyY2KFt2iU0DRxuPU3CGDMeM1RYuG6Hbojx7Nhiq6CdGiAfo/HaJFixb9IvQ3XSU7uTpm0KMAAAAASUVORK5CYII=" alt="QRCode">
    </li>
    

</ul>
</div>
        
    </div>
</div>
                </div>
                <div class="card-body">
                    
                        
                        
                            <div id="post-toc"><ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%89%8D%E8%A8%80"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%B8%A4%E7%B1%BB%E6%9E%B6%E6%9E%84%E5%B8%88%E8%A7%84%E8%8C%83"><span class="post-toc-number">2.</span> <span class="post-toc-text">两类架构师规范</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#TOGAF"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">TOGAF</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ArchiMate"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">ArchiMate</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#C4"><span class="post-toc-number">3.</span> <span class="post-toc-text">C4</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Context-Diagram"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">Context Diagram</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Container-Diagram"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">Container Diagram</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Component-Diagram"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">Component Diagram</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Code-Diagram"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">Code Diagram</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#System-Landscape-diagram"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">System Landscape diagram</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Dynamic-diagram"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">Dynamic diagram</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Deployment-diagram"><span class="post-toc-number">3.7.</span> <span class="post-toc-text">Deployment diagram</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%80%E4%BA%9B%E5%8F%8B%E5%96%84%E7%9A%84%E5%BB%BA%E8%AE%AE"><span class="post-toc-number">3.8.</span> <span class="post-toc-text">一些友善的建议</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Diagrams"><span class="post-toc-number">3.8.1.</span> <span class="post-toc-text">Diagrams</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Elements"><span class="post-toc-number">3.8.2.</span> <span class="post-toc-text">Elements</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Relationships"><span class="post-toc-number">3.8.3.</span> <span class="post-toc-text">Relationships</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#4-1-%E8%A7%86%E5%9B%BE"><span class="post-toc-number">4.</span> <span class="post-toc-text">4 + 1 视图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%BC%8F%E6%96%97%E5%9B%BE"><span class="post-toc-number">5.</span> <span class="post-toc-text">漏斗图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Plant-UML"><span class="post-toc-number">6.</span> <span class="post-toc-text">Plant UML</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%9C%BA%E6%99%AF%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="post-toc-number">7.</span> <span class="post-toc-text">场景分层架构图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Runtime-%E5%9B%BE"><span class="post-toc-number">8.</span> <span class="post-toc-text">Runtime 图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="post-toc-number">9.</span> <span class="post-toc-text">数据处理系统</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%BF%9D%E9%99%A9%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="post-toc-number">10.</span> <span class="post-toc-text">保险架构图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="post-toc-number">11.</span> <span class="post-toc-text">大数据架构图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="post-toc-number">12.</span> <span class="post-toc-text">服务治理架构图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Visual-Paradigm-%E7%9A%84%E6%97%B6%E5%BA%8F%E5%9B%BE"><span class="post-toc-number">13.</span> <span class="post-toc-text">Visual Paradigm 的时序图</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#DB-%E6%9E%B6%E6%9E%84"><span class="post-toc-number">14.</span> <span class="post-toc-text">DB 架构</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ELK"><span class="post-toc-number">15.</span> <span class="post-toc-text">ELK</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E8%AE%A2%E5%8D%95%E7%B3%BB%E7%BB%9F"><span class="post-toc-number">16.</span> <span class="post-toc-text">订单系统</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80"><span class="post-toc-number">17.</span> <span class="post-toc-text">内存布局</span></a></li></ol></div>
                        
                    
                    <article id="post-content">
                        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul>
<li>有意义且具备<strong>一致性（coherence）</strong>的架构图有助于为不同的<strong>利益相关者（stakeholder）澄清（illustrate）事实</strong>，并达成共识-反之，图表杂乱无章。</li>
<li>有意义的图表胜过建模（建模指的是<code>With modelling, you&#39;re building up a non-visual model of something (e.g. the software architecture of a software system), and then creating different views (e.g. diagrams) on top of that model. </code>），在架构沟通上，visualization 胜过千言万语。</li>
<li>一致性要求我们有足够好的指导原则，让我们知道标准的<strong>图元</strong>是什么。</li>
<li>“架构是一项复杂的工作，只使用单个图表来表示架构很容易造成莫名其妙的语义混乱”。</li>
<li>在同一个架构图里添加不同层级的抽象可能会导致冲突的出现，因为它们是从不同的角度描述问题的。</li>
<li>应该在架构图旁边加上图例（legend），沟通者应该懂得图元（key）是什么。key 和 legend 都是一种 explicit notion。</li>
<li>架构图越多就越难以理解，而且维护起来也很费劲。最直接的后果就是有可能出现碎片化（比如，通过两到三个架构图来描述同样的质量属性——性能、伸缩性等等——但每一个架构图都无法完整地描述它们）。在这种情况下，建议移除不能反映相关质量属性的架构图，或者把它们合并起来。</li>
</ul>
<h1 id="两类架构师规范"><a href="#两类架构师规范" class="headerlink" title="两类架构师规范"></a>两类架构师规范</h1><h2 id="TOGAF"><a href="#TOGAF" class="headerlink" title="TOGAF"></a>TOGAF</h2><p>The Open Group Architecture Framework</p>
<h2 id="ArchiMate"><a href="#ArchiMate" class="headerlink" title="ArchiMate"></a>ArchiMate</h2><p>ArchiMate，是一种整合多种架构的一种可视化业务分析模型语言，属于架构描述语言（ADL）它从业务、应用和技术三个层次（Layer），物件、行为和主体三个方面（Aspect）和产品、组织、流程、资讯、资料、应用、技术领域（Domain）来进行描述。ArchiMate是 The Open Group 发布的企业级标准。它是一种图形化描述语言，正好可以作为 TOGAF 图形工件的建模工具。</p>
<p>一个比较好的实现是 <a target="_blank" rel="noopener" href="https://www.archimatetool.com/">Archi</a>，其文档见<a href="docs">这里</a>。</p>
<h1 id="C4"><a href="#C4" class="headerlink" title="C4"></a>C4</h1><p>为什么会有 C4？因为每个团队都有自己的 confused mess of box and lines。</p>
<p>我们当然可以使用 UML 来体现包、组件和其他 stereotypes，但UML 不适合加上描述性文本（descriptive text）。</p>
<blockquote>
<p>The C4 model was created as a way to help software development teams<br>describe and communicate software architecture, both during up-front<br>design sessions and when retrospectively documenting an existing<br>codebase. It’s a way to create maps of your code, at various levels of<br>detail, in the same way you would use something like Google Maps to<br>zoom in and out of an area you are interested in.</p>
<p>Although primarily aimed at software architects and developers, the C4<br>model provides a way for software development teams to efficiently and<br>effectively communicate their software architecture, at different<br>levels of detail, telling different stories to different types of<br>audience, when doing up front design or retrospectively documenting an<br>existing codebase.</p>
<p>The C4 model consists of a hierarchical set of software architecture<br>diagrams for context, containers, components, and code.</p>
</blockquote>
<blockquote>
<p>创建 C4 模型是为了帮助软件开发团队在前期设计会议和回顾性记录现有代码库时描述和交流软件架构。这是一种创建代码地图的方法，具有不同的详细程度，就像您使用 Google Maps 之类的工具放大和缩小您感兴趣的区域一样。<br>尽管主要针对软件架构师和开发人员，但 C4 模型为软件开发团队提供了一种有效地交流他们的软件架构的方法，在进行前期设计或回顾时，以不同的细节级别，向不同类型的受众讲述不同的故事记录现有的代码库。<br>C4 模型由一组分层的软件架构图组成，用于上下文、容器、组件和代码。</p>
</blockquote>
<p>C4 提倡“抽象为先”，<strong>由一系列抽象引出架构决策</strong>。它的设计模仿了谷歌地图，认为应该通过不同级别的 zoom-in 和 zoom-out 来获取不同层次的信息量。</p>
<p><code>Context -&gt; Container -&gt; Component -&gt; Code</code></p>
<p>Context 是把价值交付给用户（stakeholder）的最高级抽象。Context 里有多个 System。<br>Container 指的是应用程序或者数据存储（<strong>这个词在软件工业里被滥用了</strong>）。代码在 Container 的边界里执行，数据在 Container 里存储。一个 Container 图就是把一个 System 展开，看到里面的多个 Container（<strong>每个 container 是一个 deployable 或者 runnable unit</strong>）。<br>Component 指的是<strong>interface 背后</strong>被组织起来的一系列相关功能。<br>代码是 Code Elements。</p>
<p><img src="c4-overview-1536x1152.png" alt="c4-overview-1536x1152"><br><img src="total-diagram.jpeg" alt="total-diagram"><br><img src="context-diagram.jpeg" alt="context-diagram"></p>
<p>值得注意的是 context 中的图元总共有 5 种，灰色的盒子是已存在系统的意思。</p>
<h2 id="Context-Diagram"><a href="#Context-Diagram" class="headerlink" title="Context Diagram"></a>Context Diagram</h2><blockquote>
<p>系统上下文图是绘制和记录软件系统的良好起点，允许您退后一步并查看大图。画一个图表，将您的系统显示为中心的一个盒子，周围是它的用户和与之交互的其他系统。</p>
<p>细节在这里并不重要，因为这是显示系统景观大图的缩小视图。重点应该放在人（演员、角色、画像等）和软件系统上，而不是技术、协议和其他低级细节。<strong>这是您可以向非技术人员展示的那种图表</strong>。</p>
<p><strong>范围</strong>：单个软件系统。</p>
<p><strong>主要元素</strong>：范围内的软件系统。<br><strong>支持元素</strong>：在范围内直接连接到软件系统的人员（例如用户、参与者、角色或角色）和软件系统（外部依赖项）。通常，这些其他软件系统位于您自己的软件系统的范围或边界之外，您对它们没有责任或所有权。</p>
<p><strong>目标受众</strong>：软件开发团队内外的每个人，包括技术人员和非技术人员。</p>
<p><strong>推荐给大多数团队</strong>：是的。</p>
</blockquote>
<p><img src="bigbankplc-SystemContext-with-enterprise-boundary-key.png" alt="context-图元"><br><img src="bigbankplc-SystemContext-with-enterprise-boundary.png" alt="有企业边界的-context-图例"></p>
<h2 id="Container-Diagram"><a href="#Container-Diagram" class="headerlink" title="Container Diagram"></a>Container Diagram</h2><blockquote>
<p>一旦您了解您的系统如何适应整个 IT 环境，下一步非常有用的是使用容器图放大系统边界。 “容器”类似于服务器端 Web<br>应用程序、单页应用程序、桌面应用程序、移动应用程序、数据库架构、文件系统等。本质上，容器是一个可单独运行/可部署的单元（例如一个单独的进程空间)<br>执行代码或存储数据。</p>
<p>容器图显示了软件架构的高级形状以及如何在其中分配职责。它还显示了主要的技术选择以及容器如何相互通信。这是一个简单的、专注于技术的高级图表，对软件开发人员和支持/运营人员都很有用。</p>
<p><strong>范围</strong>：单个软件系统。</p>
<p><strong>主要元素</strong>：软件系统范围内的容器。<br><strong>支持元素</strong>：直接连接到容器的人员和软件系统。</p>
<p><strong>目标受众</strong>：软件开发团队内外的技术人员；包括软件架构师、开发人员和运营/支持人员。</p>
<p><strong>推荐给大多数团队</strong>：是的。</p>
<p><strong>注意</strong>：此图没有说明部署方案、集群、复制、故障转移等。</p>
</blockquote>
<p>注意，container 相比 context 是把企业边界内的系统进行了下钻（drill down）。</p>
<p><img src="container-diagram.jpeg" alt="容器图"><br><img src="bigbankplc-Containers-key.png" alt="容器图图元"></p>
<p>接下来，您可以进一步放大和分解每个容器，以确定主要的结构构建块及其相互作用。</p>
<h2 id="Component-Diagram"><a href="#Component-Diagram" class="headerlink" title="Component Diagram"></a>Component Diagram</h2><p>组件图显示了容器是如何由多个“组件”组成的，每个组件是什么，它们的职责以及技术/实现细节。</p>
<blockquote>
<p><strong>范围</strong>：单个容器。</p>
<p><strong>主要元素</strong>：范围内容器内的组件。<br><strong>支持元素</strong>：容器（在范围内的软件系统内）加上直接连接到组件的人员和软件系统。</p>
<p><strong>目标受众</strong>：软件架构师和开发人员。</p>
<p><strong>推荐给大多数团队</strong>：不，仅在您认为组件图增加价值时才创建组件图，并考虑自动创建长期文档。</p>
</blockquote>
<p><img src="bigbankplc-Components.png" alt="组件图"><br><img src="bigbankplc-Components-key.png" alt="组件图元"></p>
<h2 id="Code-Diagram"><a href="#Code-Diagram" class="headerlink" title="Code Diagram"></a>Code Diagram</h2><blockquote>
<p>最后，您可以放大每个组件以显示它是如何作为代码实现的；使用 UML 类图、实体关系图或类似的。</p>
<p>这是一个可选的详细级别，通常可以通过 IDE 等工具按需提供。理想情况下，该图将使用工具（例如 IDE 或 UML<br>建模工具）自动生成，您应该考虑仅显示那些允许您讲述想要讲述的故事的属性和方法。除了最重要或最复杂的组件外，不建议将这种详细程度用于任何其他组件。</p>
</blockquote>
<blockquote>
<p><strong>范围</strong>：单个组件。</p>
<p><strong>主要元素</strong>：范围内组件的代码元素（例如类、接口、对象、函数、数据库表等）。</p>
<p><strong>目标受众</strong>：软件架构师和开发人员。</p>
<p><strong>推荐给大多数团队</strong>：不，对于长期存在的文档，大多数 IDE 可以按需生成这种级别的详细信息。</p>
</blockquote>
<p><img src="code-diagram.jpeg" alt="代码图"></p>
<p><strong>我们画 c4 的视图的时候，重点关注 container 和 component 即可。</strong>很多时候我们甚至不需要画出component。</p>
<p>c4 意味着 4 个层次的架构图，自顶向下。</p>
<blockquote>
<p>C4 模型没有预定义任何特定的符号，你在这些示例图中看到的是一个个简单的符号，适用于白板、纸张、便签、索引卡片和各种图表工具。你也可以使用 UML 作为符号，并适当使用包、组件和原型。无论你使用哪种符号，我都会建议让每个元素都包含名称、元素类型（即“人”、“软件系统”，“容器”或“组件”）、技术选型（如果有的话），以及一些描述性文字。在图表中包含如此多的文本可能看起来很不寻常，但这些附加文本有助于消除软件架构图中通常会出现的不明确的表示。</p>
</blockquote>
<p>图元素里至少要包括：名称、类型、描述和其他属性。<br>线头至少包括：方向、多对多关系、动作（有时候包含宾语）。</p>
<h2 id="System-Landscape-diagram"><a href="#System-Landscape-diagram" class="headerlink" title="System Landscape diagram"></a>System Landscape diagram</h2><p><img src="bigbankplc-SystemLandscape.png" alt="系统景观图"></p>
<p>系统景观图的特点是，可以总览企业边界内的系统。注意企业边界给我们带来的各个系统的关联。</p>
<h2 id="Dynamic-diagram"><a href="#Dynamic-diagram" class="headerlink" title="Dynamic diagram"></a>Dynamic diagram</h2><p><img src="bigbankplc-SignIn.png" alt="动态视图"></p>
<p>动态视图让我们看到在一个功能/用例/用户故事视角下，系统的组件和容器之间是如何交互的。画图时，不必拘泥于颗粒度在抽象上层次的统一。</p>
<h2 id="Deployment-diagram"><a href="#Deployment-diagram" class="headerlink" title="Deployment diagram"></a>Deployment diagram</h2><p><img src="bigbankplc-LiveDeployment.png" alt="部署视图"></p>
<p>部署视图在视觉上突出了 IaaS 和 Paas 的存在，各种 boundaries 本质上就是划定 containers and deployment nodes。</p>
<h2 id="一些友善的建议"><a href="#一些友善的建议" class="headerlink" title="一些友善的建议"></a>一些友善的建议</h2><h3 id="Diagrams"><a href="#Diagrams" class="headerlink" title="Diagrams"></a>Diagrams</h3><ul>
<li>每个图都应该有一个描述图类型和范围的标题（例如“我的软件系统的系统上下文图”）。</li>
<li>每个图表都应该有一个键/图例来解释所使用的符号（例如形状、颜色、边框样式、线型、箭头等）。</li>
<li>首字母缩略词和缩写词（业务/领域或技术）应为所有受众都能理解，或在图表键/图例中进行解释。</li>
</ul>
<h3 id="Elements"><a href="#Elements" class="headerlink" title="Elements"></a>Elements</h3><ul>
<li>应明确指定每个元素的类型（例如人员、软件系统、容器或组件）。</li>
<li>每个元素都应该有一个简短的描述，以提供关键职责的“概览”视图。</li>
<li>每个容器和组件都应该有明确指定的技术。</li>
</ul>
<h3 id="Relationships"><a href="#Relationships" class="headerlink" title="Relationships"></a>Relationships</h3><ul>
<li>每条线都应该代表一种单向关系。</li>
<li>每一行都应该有标签，标签与关系的方向和意图一致（例如依赖或数据流）。尝试使用标签尽可能具体，最好避免使用诸如“使用”之类的单词。</li>
<li>容器之间的关系（通常代表进程间通信）应该有明确标记的技术/协议。</li>
</ul>
<h1 id="4-1-视图"><a href="#4-1-视图" class="headerlink" title="4 + 1 视图"></a>4 + 1 视图</h1><p>![4+1 view of software architecture](4+1 view of software architecture.png)<br>[4+1 view of software architecture.xmind](4+1 view of software architecture.xmind)</p>
<h1 id="漏斗图"><a href="#漏斗图" class="headerlink" title="漏斗图"></a>漏斗图</h1><h1 id="Plant-UML"><a href="#Plant-UML" class="headerlink" title="Plant UML"></a>Plant UML</h1><p><a target="_blank" rel="noopener" href="https://real-world-plantuml.com/?type=sequence">Real World PlantUML</a><br>Plant UML本地使用扩展名 .puml。</p>
<p>使用 <a target="_blank" rel="noopener" href="http://www.plantuml.com/plantuml/uml/hP9BZzem4CVl-HHUr0ChBPj3sqkbIek0Tf5uK1v5FQ59F05NZfrw9l3rEmvXD-f3wg4dE_EV-VyyCtaYXi1rQPCxut9RQrGdvee-f6c0o-FHyAdEQiAGUyVe-37tPLfPSB5cGAojoTBHky4gXdRpMLe2CGO97KPI0SPXUAoYVtAdiP1FDPvydOwMYyq_WBYkG8Uthq0Zwg2GZ05LmJ3IZQVn73LweNnQBhR3_MIpd4_-AwY9mGN9bpXu_pgrMrSfk6DjeMtwT_axdE5lMaa_x84mdF7NyautQNmxjJET3RyjTzl3VhfzFimcdoUBSVy-ILQIu5q_9ZwetgWczYM6djnNw2kBYa_0oY5gLGMlwvn9n3VNJZ_s6a3lFdbPO9ygaEBDQXWzsWRZTNj2LKgACeun592trYpnlCLUDH26kiZikw2RKnS5bH7ZuMeQ_UEmulaCJbia1TOgsPqa4YdhZoRlsiNihjSuw-jCgiV0a05XT9gRF7Zo1QlDbrbZxQscsnWUb0yQWnASFFliJOvo5ZwKmCQxBgopAs4cQxJjlA-psX5Ij6z-FKc8UgD8Vt-M3-jhxysJrmYQqdr4HVa9dPPz_mG0">Web Server</a> 来绘制<a target="_blank" rel="noopener" href="https://github.com/plantuml-stdlib/C4-PlantUML#supported-diagram-types">自己的 C4 图</a>，相应的 <a target="_blank" rel="noopener" href="https://github.com/tupadr3/plantuml-icon-font-sprites">icons</a>。</p>
<p>注意边界：</p>
<ul>
<li>Boundary(alias, label, ?type, ?tags, $link) </li>
<li>Enterprise_Boundary(alias, label, ?tags, $link)</li>
<li>System_Boundary</li>
<li>Container_Boundary(alias, label, ?tags, $link) component 图应该使用这种边界</li>
</ul>
<p>tags 参考 github 例子，link 是真的让这个图表可以被点击的 link（只在 plantUml 的矢量图上可以点，没什么实际用处），所以这两个 attribute 一般是空白的。</p>
<p>一个<a target="_blank" rel="noopener" href="https://www.plantuml.com/plantuml/uml/j91FJy904CNl_HGByO29PG_gnPEaL2K1IW98F3LBEyYQ_RFkp4ByzcvjAYPSFEZrlJVpcpVtIC9Jq2hfILEfK0FR4pcyuzoBu_1LqZvi0uAlh24mDAoivau9qyoaIBMIMvxTf8j6Mi-cN0iay54gCsj8I0D-wFvfltRMWA5sVzAhOHTnR9m_Jx9Yllm5Y88JjRy-0MLqqrrCfEYy9C2ELyEXyV2Ryb3CLwDDlYnc-P-2lZHn1BGQqjlJrxfM_4qSHDlutDFuhig8Ffmz_SUvl3aEMp-PZbwAzQhSJ5PFvJH_pEVZmMMIB6B0ca4Jl6BzYS7WXQc0PG79Ql3zg2x0EWMCzeBODdmmsQMYUT6M-coi_7wJXg8u_hw_WlI9FQhF9iRuPlQYVq3Jb4eQeSMMcbIpP0Z3CVbHTP3zc33KoOnPrmNZX6RmnzZJM_uBxwMrk-E2QLz8sdE-vvpF_Tx3VMvUYbjVUshYuVByGzLGCe9cfiKxMC4R3-1Z2UeTv5OyznTSlk7MKw_NKlY9lNEJeidwSpuZYR8kgmgV5nGXA-KnNnupBJvJjJnMd7rfpWw-GtM8pZlei8BiFhAgC1f2oucaoHCR9_rIrWqX9xyIYaHJ_FSUAq7h8XXKuzx8m0Gy-Gtig0AEyTpJuFEFE1WNz9i3BaKHc6UjCvLrIJHmWCaND3LZY6nzkmRRPsYlXo6nBVWjoviSWLL1WmQqwi7L-pzR9V_aRM0xyA6EIWwCl-7vORSNbAzNjREvYhHQaBIG28QSCtLPfna7KokmJc6dwdUjrMYZuo9tHMQ6Yux9FlH6DNQuy7qOWovTwBvB0hGeP6bJqEKm67G-2SsmakN5Y0vB1czjapNstNW-_-GtJCj9N2sgchIGjfHfJjPlJmPM0nfjTgPmYF1hmkDFcx9Y2afsGzOqLIFTxF-SxGzdxMCY65sfeOlSNdX6tTd1jbyR1FtwmgNpZnkms-VOeajWtRinGs-C-blXHc1vfL_8WlBOK3Q40jaRemby-Wf74ovEHxKHJ4gH7MC0qRUzCzXnS6TX4DqPjI_d3JwHSloZQEqbsJVUzHIhauBplm2iGIkmzoX9ReAwj6a2funbGlf4J1MBQaehYB7UoYuOfUOLj3f-s_4Rzb8bAlYMMP9qiP10d-V_2Z-Gb8oHp_q5">风险landscape的例子</a>：<br><img src="%E9%A3%8E%E9%99%A9landscape.png" alt="风险landscape的例子"></p>
<h1 id="场景分层架构图"><a href="#场景分层架构图" class="headerlink" title="场景分层架构图"></a>场景分层架构图</h1><p>这种架构图能够表达用例、场景、context、container 和 component，像 landscape view。</p>
<p><img src="%E5%9C%BA%E6%99%AF%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="场景分层架构图"><br><a href="%E5%9C%BA%E6%99%AF%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84%E5%9B%BE.drawio">场景分层架构图.drawio</a></p>
<h1 id="Runtime-图"><a href="#Runtime-图" class="headerlink" title="Runtime 图"></a>Runtime 图</h1><p><a href="Runtime%E5%9B%BE.drawio">Runtime图.drawio</a><br><img src="Runtime%E5%9B%BE.png" alt="Runtime图.png"></p>
<h1 id="数据处理系统"><a href="#数据处理系统" class="headerlink" title="数据处理系统"></a>数据处理系统</h1><p><img src="Flink-Kafka-TSDB-Grafana-stack.jpg" alt="Flink-Kafka-TSDB-Grafana-stack"><br><img src="Promethueus%E5%88%86%E9%9B%86%E7%BE%A4.jpg" alt="Promethueus分集群"></p>
<h1 id="保险架构图"><a href="#保险架构图" class="headerlink" title="保险架构图"></a>保险架构图</h1><p><img src="%E6%9F%90%E7%B1%BB%E4%BF%9D%E9%99%A9%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="某类保险架构图"></p>
<h1 id="大数据架构图"><a href="#大数据架构图" class="headerlink" title="大数据架构图"></a>大数据架构图</h1><p><img src="Aeraki%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="Aeraki架构图"><br><img src="gRPC%E6%97%A0%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC%E6%9E%B6%E6%9E%84.png" alt="gRPC无代理服务网格架构"><br><img src="revision-tag.png" alt="revision-tag"><br><img src="operation-suggest.png" alt="operation-suggest"><br><img src="%E7%A6%BB%E7%BA%BF%E8%AE%A1%E7%AE%97%E5%B9%B3%E5%8F%B0%E6%9E%B6%E6%9E%84.png" alt="离线计算平台架构"></p>
<h1 id="服务治理架构图"><a href="#服务治理架构图" class="headerlink" title="服务治理架构图"></a>服务治理架构图</h1><p><img src="SmartDNSProxy.png" alt="SmartDNSProxy"><br><img src="istio%E5%85%B3%E9%94%AE%E6%A6%82%E5%BF%B5.png" alt="istio关键概念"><br><img src="istio%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="istio架构图"></p>
<h1 id="Visual-Paradigm-的时序图"><a href="#Visual-Paradigm-的时序图" class="headerlink" title="Visual Paradigm 的时序图"></a>Visual Paradigm 的时序图</h1><p><a target="_blank" rel="noopener" href="https://online.visual-paradigm.com/diagrams/tutorials/sequence-diagram-tutorial/#return-message">Sequence Diagram Tutorial</a></p>
<h1 id="DB-架构"><a href="#DB-架构" class="headerlink" title="DB 架构"></a>DB 架构</h1><p><a href="olap%E5%92%8Coltp.drawio">olap和oltp.drawio</a><br><img src="olap%E5%92%8Coltp.png" alt="olap和oltp"><br><a href="db%E5%AF%B9%E6%AF%94.drawio">db对比.drawio</a><br><img src="db%E5%AF%B9%E6%AF%94.png" alt="db对比.png"></p>
<h1 id="ELK"><a href="#ELK" class="headerlink" title="ELK"></a>ELK</h1><p><img src="ELK-stack.png" alt="ELK-stack"><br><img src="ingest-pipeline-process.png" alt="ingest-pipeline-process"><br><img src="pipeline%E6%98%AF%E4%B8%80%E7%BB%84processor.png" alt="pipeline是一组processor"><br><a href="log-data-warehouse-arch.drawio">log-data-warehouse-arch.drawio</a><br><img src="log-data-warehouse-arch.png" alt="log-data-warehouse-arch.png"></p>
<h1 id="订单系统"><a href="#订单系统" class="headerlink" title="订单系统"></a>订单系统</h1><p><img src="%E7%BE%8E%E5%9B%A2%E5%A4%96%E5%8D%96%E8%AE%A2%E5%8D%95%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="美团外卖订单流程图"></p>
<h1 id="内存布局"><a href="#内存布局" class="headerlink" title="内存布局"></a>内存布局</h1><p><img src="JVM%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.jpeg" alt="JVM内存布局"></p>
<p>关于常量池的变化，可以参考：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1690589">《面试题系列第5篇：JDK的运行时常量池、字符串常量池、静态常量池，还傻傻分不清？》</a>。<br>总而言之，常量池理论上都会被实现在方法区内，但方法区有时候在 JVM的内存区域里，有时候不在。字符串常量池有时候在方法区内实现，有时候在 managed heap 里实现，这些实现都遵循 JVM 规范。</p>

                    </article>
                    


    <blockquote id="date-expire-notification" class="post-expired-notify">This article was last updated on <span id="date-expire-num"></span> days ago, and the information described in the article may have changed.</blockquote>
    <script>
    (function() {
        var dateUpdate = Date.parse("2022-01-30");
        var nowDate = new Date();
        var a = nowDate.getTime();
        var b = a - dateUpdate;
        var daysUpdateExpire = Math.floor(b/(24*3600*1000));
        if (daysUpdateExpire >= 120) {
            document.getElementById('date-expire-num').innerHTML = daysUpdateExpire;
        } else {
            document.getElementById('date-expire-notification').style.display = 'none';
        }
    })();
    </script>


<p class="post-footer-info mb-0 pt-0">Published at&nbsp;<time datetime="2021-05-07T12:39:55.000Z" itemprop="datePublished">2021-05-07</time>

    , Updated at&nbsp;<time datetime="2022-01-30T09:26:53.799Z" itemprop="dateModified">2022-01-30</time>

</p>
<p class="post-footer-info mb-0 pt-2">



<span class="post-tags-list mt-2">

<a class="post-tags-list-item" href="/tags/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/" rel="tag">#&nbsp;系统架构</a>

</span>


</p>

                </div>
                <div class="post-nav px-2 bg-gray">
<ul class="pagination">
    <!-- Prev Nav -->
    
        <li class="page-item page-prev">
            <a href="/2021/05/10/ElasticSearch-%E6%80%BB%E7%BB%93/" rel="prev">
                <div class="page-item-title"><i class="icon icon-back" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">ElasticSearch 总结</div>
            </a>
        </li>
    

    <!-- Next Nav -->
    
        <li class="page-item page-next">
            <a href="/2021/04/12/%E7%BB%93%E7%AE%97%E9%97%AE%E9%A2%98/" rel="next">
                <div class="page-item-title"><i class="icon icon-forward" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">结算问题</div>
            </a>
        </li>
    
</ul>
</div>

                
                    <!-- # Comment # -->
                    
                
            </div>
        </div>
    </div>
</div>

            <!-- ### Footer ### -->
            <footer class="text-center">
    <!-- footer copyright -->
    
        <p class="footer-copyright mb-0">Copyright&nbsp;©&nbsp;<span id="copyright-year"></span>
            <a class="footer-copyright-a" href="http://magicliang.github.io">守株阁</a>
        </p>

    <!-- footer custom text -->
    <p class="footer-text mb-0">
    
    </p>
    <!-- footer develop info -->
    <p class="footer-develop mb-0">
        
    <!-- Busuanzi User Views -->
    <span id="busuanzi_container_site_uv" hidden>
        <span></span>
        <span id="busuanzi_value_site_uv"></span>
        <span>Viewers</span>
        
            <span>|</span>
        
    </span>




        
        Powered by&nbsp;<!--
         --><a href="https://hexo.io" target="_blank" class="footer-develop-a" rel="external nofollow noopener noreferrer">Hexo</a><span class="footer-develop-divider"></span>Theme&nbsp;-&nbsp;<!--
         --><a href="https://github.com/SukkaW/hexo-theme-suka" target="_blank" class="footer-develop-a" rel="external noopener">Suka</a>
    </p>
</footer>


        <!-- ### Import File ### -->
        <!-- ### Footer JS Import ### -->

<script>

    
window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
};
document.getElementById('copyright-year').textContent = new Date().getFullYear();
console.log('\n %c Suka Theme (hexo-theme-suka) | © SukkaW | Verision 1.3.3 %c https://github.com/SukkaW/hexo-theme-suka \n', 'color: #fff; background: #444; padding:5px 0;', 'background: #bbb; padding:5px 0;');

</script>

<script src="/lib/vanilla-lazyload/lazyload.min.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" async></script>


<!-- Offset -->




<!-- Comment -->


<!-- ### Custom Footer ### -->

    </body>

</html>