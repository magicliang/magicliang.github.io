<!DOCTYPE html>

<html lang="zh-Hans">
    <head>
    <meta charset="utf-8">
    <!--
        hexo-theme-suka © SukkaW
        GitHub: https://github.com/SukkaW/hexo-theme-suka
    -->

    <!-- ### Resource Hint ### -->

    <!-- ## DNS Prefetch ## -->
    <meta http-equiv="x-dns-prefetch-control" content="on">

<!-- busuanzi -->

    <link rel="dns-prefetch" href="//busuanzi.ibruce.info">


<!-- comment -->







<!-- analytics -->







    <!-- ## Preload ## -->
    
    <!-- Busuanzi -->
    
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" as="script">







    <!-- ### Meta & Title & Info ### -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <meta name="renderer" content="webkit">

    <!-- Title -->
    <title>《恰如其分的软件架构》 | 守株阁</title>

    <!-- Favicons -->
    <link rel="icon" type="image&#x2F;ico" href="/img/suka-favicon.ico">

    <!-- ### Import File ### -->
    <link rel="stylesheet" href="/lib/spectre/spectre.min.css"><style>
    body {
        background-color: #f8f9fa;
    }

    a, a:visited {
        color: #0070ff;
    }

    a:active, a:focus, a:hover {
        color: #0070ff;
        opacity: .75;
    }

    #post-content a,
    #post-content a:hover,
    #post-content a:focus,
    #post-content a:visited {
        color: #005eb9;
        opacity: 1;
    }

    

    .post-entry .card-body a {
        color: #0070ff;
    }

    .avatar {
        background: #444;
    }

    .navbar-link,
    .navbar-link:visited,
    .timeline .timeline-item .timeline-icon.icon-lg {
        color: #0070ff;
    }

    .navbar-link:hover {
        color: #0070ff;
        opacity: .8;
    }

    #search-input .btn,
    #disqus_click_btn,
    #disqus-switch-to-direct,
    #disqus-loadmore-button {
        background: #727e96;
        border-color: #727e96;
        color: #fff;
    }

    #post-toc a.post-toc-link,
    #post-toc a.post-toc-link:visited,
    .share-menu.menu .menu-item>a {
        color: #727e96;
    }

    .share-menu.menu .menu-item>a:hover,
    .share-menu.menu .menu-item>a:focus,
    .share-menu.menu .menu-item>a:visited {
        color: #50596c;
        background: #f8f9fa;
        opacity: .85;
    }
</style><link rel="stylesheet" href="/css/style.min.css">








    <!-- Prettify Theme -->
    
    <link rel="preload" href="/css/highlight/github.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/css/highlight/github.min.css"></noscript>





<script>
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
</script>

    <!-- ### Site Verification ### -->
    


    <link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="守株阁"><meta name="msapplication-starturl" content="http://magicliang.github.io"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="守株阁"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- ### The Open Graph & Twitter Card Protocol ### -->
    <meta property="og:title" content="《恰如其分的软件架构》 | 守株阁"><meta property="og:site_name" content="守株阁"><meta property="og:type" content="article"><meta property="og:url" content="http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/"><meta property="og:locale" content="zh-Hans"><meta name="description" content="前言这两周集中时间间歇性读完了《恰如其分的软件架构》这本书。这本书讲的是架构方法，架构方法是一种思维模型（mind set），这种思维模型叫作“风险驱动模型”。 这本书经我们团队的架构师推荐，列在我们团队的集体书目里很久了。但真正去读它、读完它的人又很少。究其原因，还是这本书的内容以谈概念为主，虽然书中举的例子非常生动，仍然始终无法摆脱“为了谈概念而举玩具例子”的问题-这几乎是所有架构书的通病。似 - magicliang - 守株阁"><meta name="keywords" content="系统架构"><meta property="article:published_time" content="2021-02-10T06:56:27.000Z"><meta property="article:modified_time" content="2021-02-10T09:40:52.000Z"><meta property="og:updated_time" content="2021-02-10T09:40:52.000Z"><meta property="article:author" content="magicliang"><meta property="article:tag" content="系统架构"><meta name="twitter:card" content="summary">

    

    <!-- ### Canonical link ### -->
    <link rel="canonical" href="http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/">

    <meta name="generator" content="Hexo 6.0.0">

    <!-- ### Analytics ### -->
    







    <!-- ### Structured Data ### -->
    



<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "url": "http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/",
    "@type": "BlogPosting",
    "logo": "http://magicliang.github.io/img/suka-favicon.ico",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/"
    },
    "headline": "《恰如其分的软件架构》 | 守株阁",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://magicliang.github.io/img/suka-favicon.ico"
    },
    
    "datePublished": "2021-02-10T06:56:27.000Z",
    "dateModified": "2021-02-10T09:40:52.000Z",
    "author": {
        "@type": "Person",
        "name": "magicliang",
        "image": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/default_avatar.png"
        },
        "description": "Hi, nice to meet you."
    },
    "publisher": {
        "@type": "Organization",
        "name": "守株阁",
        "logo": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/suka-favicon.ico"
        }
    },
    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "http://magicliang.github.io/search?s={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    
    "keywords": "系统架构",
    "description": "前言这两周集中时间间歇性读完了《恰如其分的软件架构》这本书。这本书讲的是架构方法，架构方法是一种思维模型（mind set），这种思维模型叫作“风险驱动模型”。 这本书经我们团队的架构师推荐，列在我们团队的集体书目里很久了。但真正去读它、读完它的人又很少。究其原因，还是这本书的内容以谈概念为主，虽然书中举的例子非常生动，仍然始终无法摆脱“为了谈概念而举玩具例子”的问题-这几乎是所有架构书的通病。似 - magicliang - 守株阁"
}
</script>



    <!-- ### Custom Head ### -->
    
</head>

    <body>
            

            <!-- ### Main content ### -->
            <!-- ## Header ##-->
<header>
    <h1 class="header-title text-center"><a href="/">守株阁</a></h1>

    <p class="text-center header-slogan">
        
            
                Hi, nice to meet you.
            
        
    </p>

    <nav class="navbar-section text-center">
    
        <a href="/" class="navbar-link">Home</a>
    
    
        <a href="/archives/" class="navbar-link">Archives</a>
    
    
        <a href="/search" class="navbar-link">Search</a>
    
    
    
        <div class="dropdown dropdown-right">
    <a class="navbar-link dropdown-toggle" tabindex="0">Share</a>
    <ul class="menu share-menu">

        <!-- Share Weibo -->
        
        <li class="menu-item">
            <a href="http://service.weibo.com/share/share.php?appkey=&title=守株阁&url=http://magicliang.github.io&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
        </li>
        

        <!-- Share Twitter -->
        
        <li class="menu-item">
            <a href="https://twitter.com/intent/tweet?text=守株阁&url=http://magicliang.github.io&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
        </li>
        

        <!-- Share Facebook -->
        
        <li class="menu-item">
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
        </li>
        

        <!-- Share Google+ -->
        
        <li class="menu-item">
            <a href="https://plus.google.com/share?url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
        </li>
        

        <!-- Share LinkedIn -->
        
        <li class="menu-item">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io&title=《恰如其分的软件架构》" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
        </li>
        

        <!-- Share QQ -->
        
        <li class="menu-item">
            <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=《恰如其分的软件架构》&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
        </li>
        

        <!-- Share Telegram -->
        
        <li class="menu-item">
            <a href="https://t.me/share/url?url=http://magicliang.github.io&text=《恰如其分的软件架构》" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
        </li>
        

        <!-- QRCode -->
        
        <li class="menu-item">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAADUCAAAAADBtVLEAAADm0lEQVR42u3c0U7DMAxG4b3/S8MVEkK1/+PAqDed3oBY2+Wr1DixLR4fb3g8RIkSJUrU26EezfH1+ffzfl7X3ef79dW9qp/VNdX3iBK1CXX50hU3o+ekwVx9/8/rq4dzNQZRorahJoO6mhzIBNCBumvIOEWJehVUFWzLRSUM4N3kQwK3KFGviupe8G6S6CYYikqBXpSozahuoUgGUgXQ7to0+DQeUaK2omji5e6fT8kmiRL1xyiUeC+wNNGZNpspwD6l6iFK1JNQKck/CZD0xU6L5DbAdgttUaIWoUgRoBv85Py0KU3FuPJhixK1CEUT83SgNBGZJqVRMV2UqCUokhAhTSBdQW5aBKAPMjZciRL1zyja5JEWwKkRK51PCxPtAxclahEqBeH0opOJgWwUTxpRRInahpo0DU4nFFKoS4tkPOmIErUYRZpApokSMvFMJzBRorajSOGMJFnohvLk/HJyEiVqAYomO8iCt0umxAE1GLKYFSVqC4oWoVPCcpqoIQ3D089FidqA6goD5MXtUF3wPH0Q7UQlStQCFEn8TwPyZKI4ba4SJWo7Kg1+2iBFHhpteqQLY1GitqDSjdPkQYpnNMifLHBFidqG6ophKemYGqNSsCaf0eKgKFGbUSQ4ls2EoHmEfD65jyhRW1Ck0EaDNCkATH4nE05b9RAl6gbUZJAk2NKJZVLAxvcRJWoBijRPkc1fapqaLIgnSU9RojaipsU1Ujg4mRhIM1bb7CVK1BJUKpyRgnJqhKQJTpKAKRObokQtQf1F8wedFMh1tAgRg68oUTeiyGJ0UkSrPuv+nooG8XtFiVqCIi/ppOicBj+FpYSrKFHbUF1icpL4J41TNHCThypK1EYUbVacNkGRRq246WsK2agxWJSoBahJwwf5/TdFhlRcKBe0okTdjCILy9NgXZ1DNn7deZfnixK1BEWacUnDIZkYCJI0m8SGK1GibkSRYnRKqBAMedlPiwqiRG1DpYGThqlR4vEx+6e9qNguStQC1GnSg15Pg+/kOC5kixL1D6h0TJsYJxMBKdjRhyhK1BbUSYMVWfROmrEIPm1URYnahOpe9OlmMF13UtjDTVmiRC1CdQvGlFikDSJ0ATwtmosS9cookuSfFLOnG9L2+0SJegFUCsgpqE4TMt3iNRYHRYlahEqJE1KUJueT5ilaeDhepYsS9WTUJPGSgi9J+leJlVgASOMTJWoB6p0OUaJEiRL1NscnH4rWU9bZQ00AAAAASUVORK5CYII=" alr="QRCode">
        </li>
        

    </ul>
</div>
    
    
</nav>
</header>

            
    <!-- ## Post ## -->
    <div class="post-container">
    <div id="post-card" class="card">
        
        <div class="card-item-container">
            <div class="card-inner-cell">
                <!-- # Post Header Info # -->
                <div class="card-header">
                    
    <h1 class="card-title h3 mb-2">《恰如其分的软件架构》</h1>




<div class="post-header-info">
    <p class="post-header-info-left text-gray">
        <img class="author-thumb lazyload" data-src="/img/default_avatar.png" src="/img/suka-lazyload.gif" alt="magicliang's Avatar">
        <span>2021-02-10</span>
        
        
            <!-- Busuanzi Post Views -->
<span id="busuanzi_container_page_pv" hidden>
    <span class="suka-devide-dot"></span>
    <span></span>
    <span id="busuanzi_value_page_pv"></span>
    <span>Views</span>
</span>
        
        
    </p>
    <div class="post-header-info-right">
        
            <div class="dropdown dropdown-right">
<a class="dropdown-toggle" tabindex="0">Share the post</a>
<ul class="menu share-menu">
    <!-- Share Weibo -->
    
    <li class="menu-item">
        <a href="http://service.weibo.com/share/share.php?appkey=&title=《恰如其分的软件架构》&url=http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
    </li>
    

    <!-- Share Twitter -->
    
    <li class="menu-item">
        <a href="https://twitter.com/intent/tweet?text=《恰如其分的软件架构》&url=http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
    </li>
    

    <!-- Share Facebook -->
    
    <li class="menu-item">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
    </li>
    

    <!-- Share Google+ -->
    
    <li class="menu-item">
        <a href="https://plus.google.com/share?url=http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
    </li>
    

    <!-- Share LinkedIn -->
    
    <li class="menu-item">
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/&title=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
    </li>
    

    <!-- Share QQ -->
    
    <li class="menu-item">
        <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=守株阁&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
    </li>
    

    <!-- Share Telegram -->
    
    <li class="menu-item">
        <a href="https://t.me/share/url?url=http://magicliang.github.io/2021/02/10/%E3%80%8A%E6%81%B0%E5%A6%82%E5%85%B6%E5%88%86%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E3%80%8B/&text=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
    </li>
    

    <!-- QRCode -->
    
    <li class="menu-item">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAADUCAAAAADBtVLEAAADm0lEQVR42u3c0U7DMAxG4b3/S8MVEkK1/+PAqDed3oBY2+Wr1DixLR4fb3g8RIkSJUrU26EezfH1+ffzfl7X3ef79dW9qp/VNdX3iBK1CXX50hU3o+ekwVx9/8/rq4dzNQZRorahJoO6mhzIBNCBumvIOEWJehVUFWzLRSUM4N3kQwK3KFGviupe8G6S6CYYikqBXpSozahuoUgGUgXQ7to0+DQeUaK2omji5e6fT8kmiRL1xyiUeC+wNNGZNpspwD6l6iFK1JNQKck/CZD0xU6L5DbAdgttUaIWoUgRoBv85Py0KU3FuPJhixK1CEUT83SgNBGZJqVRMV2UqCUokhAhTSBdQW5aBKAPMjZciRL1zyja5JEWwKkRK51PCxPtAxclahEqBeH0opOJgWwUTxpRRInahpo0DU4nFFKoS4tkPOmIErUYRZpApokSMvFMJzBRorajSOGMJFnohvLk/HJyEiVqAYomO8iCt0umxAE1GLKYFSVqC4oWoVPCcpqoIQ3D089FidqA6goD5MXtUF3wPH0Q7UQlStQCFEn8TwPyZKI4ba4SJWo7Kg1+2iBFHhpteqQLY1GitqDSjdPkQYpnNMifLHBFidqG6ophKemYGqNSsCaf0eKgKFGbUSQ4ls2EoHmEfD65jyhRW1Ck0EaDNCkATH4nE05b9RAl6gbUZJAk2NKJZVLAxvcRJWoBijRPkc1fapqaLIgnSU9RojaipsU1Ujg4mRhIM1bb7CVK1BJUKpyRgnJqhKQJTpKAKRObokQtQf1F8wedFMh1tAgRg68oUTeiyGJ0UkSrPuv+nooG8XtFiVqCIi/ppOicBj+FpYSrKFHbUF1icpL4J41TNHCThypK1EYUbVacNkGRRq246WsK2agxWJSoBahJwwf5/TdFhlRcKBe0okTdjCILy9NgXZ1DNn7deZfnixK1BEWacUnDIZkYCJI0m8SGK1GibkSRYnRKqBAMedlPiwqiRG1DpYGThqlR4vEx+6e9qNguStQC1GnSg15Pg+/kOC5kixL1D6h0TJsYJxMBKdjRhyhK1BbUSYMVWfROmrEIPm1URYnahOpe9OlmMF13UtjDTVmiRC1CdQvGlFikDSJ0ATwtmosS9cookuSfFLOnG9L2+0SJegFUCsgpqE4TMt3iNRYHRYlahEqJE1KUJueT5ilaeDhepYsS9WTUJPGSgi9J+leJlVgASOMTJWoB6p0OUaJEiRL1NscnH4rWU9bZQ00AAAAASUVORK5CYII=" alt="QRCode">
    </li>
    

</ul>
</div>
        
    </div>
</div>
                </div>
                <div class="card-body">
                    
                        
                        
                            <div id="post-toc"><ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%89%8D%E8%A8%80"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E6%9E%B6%E6%9E%84%E5%B8%88%E7%9A%84%E6%97%B6%E4%BB%A3%E8%83%8C%E6%99%AF"><span class="post-toc-number">2.</span> <span class="post-toc-text">架构师的时代背景</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%BD%95%E8%B0%93%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84"><span class="post-toc-number">3.</span> <span class="post-toc-text">何谓软件架构</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%9E%B6%E6%9E%84%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">架构的定义</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%9E%B6%E6%9E%84%E4%B8%BA%E4%BB%80%E4%B9%88%E9%87%8D%E8%A6%81"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">架构为什么重要</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%9E%B6%E6%9E%84%E4%BD%95%E6%97%B6%E9%87%8D%E8%A6%81"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">架构何时重要</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8E%A8%E5%AE%9A%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%8F%82%E8%80%83%E6%9E%B6%E6%9E%84"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">推定架构与参考架构</span></a></li></ol></li></ol></div>
                        
                    
                    <article id="post-content">
                        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这两周集中时间间歇性读完了《恰如其分的软件架构》这本书。这本书讲的是架构方法，架构方法是一种思维模型（mind set），这种思维模型叫作“风险驱动模型”。</p>
<p>这本书经我们团队的架构师推荐，列在我们团队的集体书目里很久了。但真正去读它、读完它的人又很少。究其原因，还是这本书的内容以谈概念为主，虽然书中举的例子非常生动，仍然始终无法摆脱“为了谈概念而举玩具例子”的问题-这几乎是所有架构书的通病。似乎正统的架构书籍都不可避免地举一些传统行业或者经典软件（比如很多书籍都会反复出现在“xxx 播放器”）的例子。这些软件架构非常经典，可以只用一些小的组件、场景，就讲清楚典型的组件、模式和架构风格的用处。但没有很深的工程/架构经验的读者读这些书的时候，仿佛重新回到了抄书和念书的大学课堂，对于脱离现实的例子只会产生“左耳进右耳出”的感觉。能够温故而知新，是一本书经典化的特征。而能够阅读非入门级的纯理论书籍，则是一个程序员的认知能力和经验达到了一定程度的特征。我读这本书里很多细节还是很痛苦，证明我还是对于形式化的符号（symbol）、记法（notion）还不是很熟悉，而且对于书中运用的问题解析方式、高细节设计具体化的方式，不具有很好的辨析能力。证明我还不是一个已经搭建起来足够成熟的思维框架的架构师。</p>
<p>本文不同于之前我读架构书的总结文，不再是简单地抄书，而是尽量用框架式的方式来重新谈论架构问题，有时候使用书中的论述，有时候使用自己的论述。</p>
<p>另外，这本书的内容很繁复，在现实中应该是给 CMU 的研究生在讲习班上讨论研究的参考教程，可能需要一个学期来专门研究。</p>
<h1 id="架构师的时代背景"><a href="#架构师的时代背景" class="headerlink" title="架构师的时代背景"></a>架构师的时代背景</h1><p>这个时代的软件规模和复杂度增长得非常迅速，开发者与软件复杂度的战争也随之升级。我们能够使用的武器从汇编到高级编程语言，从子例程到子对象，但这些东西都不是银弹（<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%B2%A1%E6%9C%89%E9%93%B6%E5%BC%B9">没有银弹</a>）。真正能够让我们破解这个“永久的软件工程问题”的，只有化繁为简的思维方式。按照 Fred Brooks 的观点，只有运用各种“武器”，<strong>分割系统（1 partitioning），提供知识（2 knowledge），并利用抽象来揭示问题的本质（3 abstract），我们才能应对我们现实中的挑战</strong>。</p>
<p>接下来本书作者举了一个现实中的例子，“rackspace 公司的日志文件系统”：</p>
<p>rackspace 公司是一间现实中存在的企业，它的数据库经历了本地日志文件-中央数据库（基础的 ETL）-索引簇（使用大数据的 ETL）。</p>
<p>作者观察这个案例，得出了以下结论：</p>
<ul>
<li>相对于大相径庭的架构，每一代系统的功能大致相同，这证明了正交的设计能够保证功能和业务的延续性。</li>
<li>有以下几种质量属性特别值得关注（这些质量属性接下来还会在下文中反复出现）：</li>
<li>可修改性（modifiability）</li>
<li>可伸缩性（scalability）</li>
<li>延迟时间（latency）</li>
<li>我们需要建立概念模型，以帮助推理。这个例子说明了 C/S 和 map-reduce 这两种架构风格在性能上的差别如此之大。<strong>如前文中 alan kay 所说，洞察到领域里的问题，是开始推理的关键。</strong></li>
<li>我们不能直接陷入细节里难以自拔，这样会阻碍我们推理问题。比较合适的方法是引入一个具有约束的概念，<strong>约束帮我们减少了可能性，这样让我们在解空间里搜索解决方案变得简单</strong>。比如本例子中我们使用了 job 来专门描述在系统之间传递、执行的子程序，<strong>这样我们可以不必把“小程序是如何在大程序里执行”这种大得没边的问题引入我们的思考</strong>。</li>
</ul>
<p>时代在变化，在旧的时代，人们习惯用现成技术（通常就是一门编程语言）里的抽象方式（通常就是这门编程语言里的逻辑单元：类、模块、例程）。在现代，我们要主动做出观念转变（perspective shift），使用架构抽象（architecture abstract）来思考问题，按照本文的观点，要使用组件和连接器来思考问题。</p>
<p>我们历史上已经出现了太多的软件过程（process）了，敏捷过程、瀑布过程和螺旋（spiral）过程，都强调设计。但本书提到了风险驱动模型（risk-driven model），是一种推陈出新的模型，它强调：设计的度，要和风险的度相匹配。接下来作者举了非常多很细节的例子，要理解、认同和记住这些全部细节是不可能的；要对这些观点完全弃之不顾，也无法建立正确的工作方式。一个好的架构师，应该在实战中用最精华的方式，来解决最紧要的问题，而不要导致求全之毁。</p>
<p>这也意味着，我们可能在现实中遇到这样的一些情况：</p>
<ul>
<li>对于流程很复杂，对功能和质量的要求很 critical，我们可能需要做很严格的复杂设计。我们要求从顶层开始推导我们的系统的全貌，建立领域模型、设计模型和代码模型，借助系统的主模型，把系统的视图导出来，关注单一维度的质量属性。然后我们的系统的每一个子问题足够小，让每一个独立工作的工程师都可以单打独斗解决问题。进行架构提升（architecture-hoisting design），得到一个参考架构（reference architecture）。</li>
<li>只做一些初步的设计，把关键的问题定义好，把解决方案勾勒出来。进行架构无关（architecture-indifferent design）的设计，构建推定架构（presumptive architecture 适用于大多数场景的架构）。</li>
</ul>
<p>这两种情况都是正常的，都是恰如其分的架构。事实上，大部分的复杂架构只适用于大型项目，而大部分的项目实际上是小项目（现实总是与架构师的雄心壮志相反）。敏捷之所以流行起来，就是因为众多工作者对重型工作流程心怀不满，做出反击。<strong>我们不要浪费我们最重要的资源（时间）和次重要的资源（其他人的工作成果）。不要纠结于无法流畅使用的东西，那不是适合我们的解决方案。</strong></p>
<p>大型系统之所以要做恰如其分的架构，是因为如果出现问题，架构重构的风险极大。本身讲的“风险驱动的模型”大体上仍然是一种敏捷过程（所以这是一本关于敏捷架构的书），这种敏捷过程至少让我们关注：</p>
<ul>
<li>恰如其分的软件架构（just good enough architecture）</li>
<li>概念模型（conceptual model）</li>
</ul>
<p>这些东西并非敏捷过程所独创，但敏捷过程需要将他们阐发得足够简单易行，让只有一些工程经验的工程师只要读过此书就能看碟下菜，也是一种对于工程学的改进。</p>
<p>市面上有如此多的架构书籍，讲述的架构方法，有的简单，有的复杂，对于自有软件流程的工程师而言，无法分辨哪些方法是高阶的，哪些方法是低阶的，哪些东西是已经过去了的无需学习的，哪些是未来的尚未达到的，真是一个令人苦恼的问题。这也反映了软件工程界百家争鸣，观念混乱。有时候一个读者读完一本书觉得自己能够理解架构和流程，读到第二本书的时候反而发现自己不会了。这本书看待问题的基本观点是“<strong>任何一本书，如果只对某种技术只知道一味颂扬，而缺乏批判精神，都是不值得信任的</strong>”，值得称道。但这本书高谈阔论的东西对于现实互联网公司的流程而言，又过于理想化，大部分人都无法仔细看待架构问题，所以无法做出很漂亮的架构设计。</p>
<h1 id="何谓软件架构"><a href="#何谓软件架构" class="headerlink" title="何谓软件架构"></a>何谓软件架构</h1><h2 id="架构的定义"><a href="#架构的定义" class="headerlink" title="架构的定义"></a>架构的定义</h2><p>破这个题非常难。</p>
<p>软件中存在架构，架构决定了软件的基本形态和性质，这是软件工程师的朴素认识，如何导出这种基本基本形态和性质？这就是架构这类学问要探讨的问题了。</p>
<p>有无数本书大谈特谈架构的宏大之处及其种种细节，仿佛架构是一套概念堆积起来的体系大厦。但很少有人能够对谈论的内容进行进行很好的总结，把架构收敛为一个简单的概念。</p>
<p>本书列举了业界关于架构的定义，解释了定义的清晰之处和模糊之处。</p>
<p>清晰的定义包括：</p>
<ul>
<li>架构这个词实际上是 nasa 发明的。</li>
<li>架构是系统的骨架。</li>
<li>架构与功能（基本上）是正交的-这意味着它们可以单独抽象。这又应了国内某些架构师说的话，架构应该是架子，上面放一些业务。因此架构和功能可以独立升级。</li>
<li>CMU 的定义是被普遍接受的：架构是元素和元素之间的一种结构。这衍生出一种新口号（architecture-as-artifact）。</li>
<li>Martin Fowler 与 Ralpha Johnson 之间的讨论则告诉我们：架构是项目早期必须做出的一组设计决策（design decision）。</li>
</ul>
<p>架构的模糊之处在于：<br>我们无法把架构和详细设计区分出来。有时候我们要做很细很细的设计，但我们仍然是在做架构设计-比如决定某些关键流程里面性能、安全性相关的流程。架构要传达很关键的决策和意图。</p>
<p>所以如果要去面试架构师，要阐述什么是架构，一个折中的答案是：<strong>架构是必须早期做出的，关于组件和交互的宏观设计。</strong></p>
<h2 id="架构为什么重要"><a href="#架构为什么重要" class="headerlink" title="架构为什么重要"></a>架构为什么重要</h2><p>软件架构太重要了，它影响系统的：</p>
<ul>
<li>质量属性</li>
<li>功能的实现</li>
<li>约束（约束是用“专制”带来自由的权衡，是导轨 guiding rail）</li>
<li>概念的完整性（这条特别容易被忽略）</li>
</ul>
<h2 id="架构何时重要"><a href="#架构何时重要" class="headerlink" title="架构何时重要"></a>架构何时重要</h2><ul>
<li>小的解空间。这点很反直觉，在我们没有多少好的选择，只能做差强人意的设计的时候，架构反而特别特别重要。因为这时候我们已经没有质量下降的空间了。</li>
<li>高的失败风险。</li>
<li>难以实现的质量属性。</li>
<li>全新的领域。这时候进行架构设计有助于借助流程帮我们看清楚问题。</li>
<li>产品线。当我们有一类产品时，我们需要通用架构-如，对于保险而言，架构的通用性很重要。</li>
</ul>
<p>在现实中，金融系统的架构需要特别关注质量属性，因此往往不能采取简单的推定架构，而需要复杂的参考架构。</p>
<h2 id="推定架构与参考架构"><a href="#推定架构与参考架构" class="headerlink" title="推定架构与参考架构"></a>推定架构与参考架构</h2><p>推定架构（presumptive architecture）是在特定领域中占据主导地位的架构族。参考架构（reference architecture）描述了针对某一问题在架构层面的解决方案。参考架构意味着着那种雄心勃勃的架构（如 OSI 七层架构），而推定架构意味着（该领域）事实上的标准（如 TCP/IP 五层架构）。</p>
<p>传统的 3-tier 架构至少能够实现了这种封装：</p>
<ul>
<li>一层处理用户界面。</li>
<li>一层处理业务逻辑。</li>
<li>一层处理数据存储。</li>
</ul>
<p>事实上，<strong>采用推定的 N 层架构的开发者几乎总能做得不错，他们真正的架构决策往往是使用哪些 COTS 现成商业软件</strong>，如使用哪种数据库-这也是外包解决方案能够解决一揽子问题的简单解释，这也是很多技术团队能够快速构建业务系统的原因。</p>

                    </article>
                    


    <blockquote id="date-expire-notification" class="post-expired-notify">This article was last updated on <span id="date-expire-num"></span> days ago, and the information described in the article may have changed.</blockquote>
    <script>
    (function() {
        var dateUpdate = Date.parse("2021-02-10");
        var nowDate = new Date();
        var a = nowDate.getTime();
        var b = a - dateUpdate;
        var daysUpdateExpire = Math.floor(b/(24*3600*1000));
        if (daysUpdateExpire >= 120) {
            document.getElementById('date-expire-num').innerHTML = daysUpdateExpire;
        } else {
            document.getElementById('date-expire-notification').style.display = 'none';
        }
    })();
    </script>


<p class="post-footer-info mb-0 pt-0">Published at&nbsp;<time datetime="2021-02-10T06:56:27.000Z" itemprop="datePublished">2021-02-10</time>

</p>
<p class="post-footer-info mb-0 pt-2">



<span class="post-tags-list mt-2">

<a class="post-tags-list-item" href="/tags/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/" rel="tag">#&nbsp;系统架构</a>

</span>


</p>

                </div>
                <div class="post-nav px-2 bg-gray">
<ul class="pagination">
    <!-- Prev Nav -->
    
        <li class="page-item page-prev">
            <a href="/2021/02/20/%E4%B8%AD%E9%AB%98%E5%B1%82%E9%A2%86%E5%AF%BC%E5%8A%9B/" rel="prev">
                <div class="page-item-title"><i class="icon icon-back" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">中高层领导力</div>
            </a>
        </li>
    

    <!-- Next Nav -->
    
        <li class="page-item page-next">
            <a href="/2021/01/29/Journal-%E4%B8%8E-EBS/" rel="next">
                <div class="page-item-title"><i class="icon icon-forward" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">Journal 与 EBS</div>
            </a>
        </li>
    
</ul>
</div>

                
                    <!-- # Comment # -->
                    
                
            </div>
        </div>
    </div>
</div>

            <!-- ### Footer ### -->
            <footer class="text-center">
    <!-- footer copyright -->
    
        <p class="footer-copyright mb-0">Copyright&nbsp;©&nbsp;<span id="copyright-year"></span>
            <a class="footer-copyright-a" href="http://magicliang.github.io">守株阁</a>
        </p>

    <!-- footer custom text -->
    <p class="footer-text mb-0">
    
    </p>
    <!-- footer develop info -->
    <p class="footer-develop mb-0">
        
    <!-- Busuanzi User Views -->
    <span id="busuanzi_container_site_uv" hidden>
        <span></span>
        <span id="busuanzi_value_site_uv"></span>
        <span>Viewers</span>
        
            <span>|</span>
        
    </span>




        
        Powered by&nbsp;<!--
         --><a href="https://hexo.io" target="_blank" class="footer-develop-a" rel="external nofollow noopener noreferrer">Hexo</a><span class="footer-develop-divider"></span>Theme&nbsp;-&nbsp;<!--
         --><a href="https://github.com/SukkaW/hexo-theme-suka" target="_blank" class="footer-develop-a" rel="external noopener">Suka</a>
    </p>
</footer>


        <!-- ### Import File ### -->
        <!-- ### Footer JS Import ### -->

<script>

    
window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
};
document.getElementById('copyright-year').textContent = new Date().getFullYear();
console.log('\n %c Suka Theme (hexo-theme-suka) | © SukkaW | Verision 1.3.3 %c https://github.com/SukkaW/hexo-theme-suka \n', 'color: #fff; background: #444; padding:5px 0;', 'background: #bbb; padding:5px 0;');

</script>

<script src="/lib/vanilla-lazyload/lazyload.min.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" async></script>


<!-- Offset -->




<!-- Comment -->


<!-- ### Custom Footer ### -->

    </body>

</html>