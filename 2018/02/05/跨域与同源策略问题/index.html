<!DOCTYPE html>

<html lang="zh-Hans">
    <head>
    <meta charset="utf-8">
    <!--
        hexo-theme-suka © SukkaW
        GitHub: https://github.com/SukkaW/hexo-theme-suka
    -->

    <!-- ### Resource Hint ### -->

    <!-- ## DNS Prefetch ## -->
    <meta http-equiv="x-dns-prefetch-control" content="on">

<!-- busuanzi -->

    <link rel="dns-prefetch" href="//busuanzi.ibruce.info">


<!-- comment -->







<!-- analytics -->







    <!-- ## Preload ## -->
    
    <!-- Busuanzi -->
    
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" as="script">







    <!-- ### Meta & Title & Info ### -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <meta name="renderer" content="webkit">

    <!-- Title -->
    <title>跨域与同源策略问题 | 守株阁</title>

    <!-- Favicons -->
    <link rel="icon" type="image&#x2F;ico" href="/img/suka-favicon.ico">

    <!-- ### Import File ### -->
    <link rel="stylesheet" href="/lib/spectre/spectre.min.css"><style>
    body {
        background-color: #f8f9fa;
    }

    a, a:visited {
        color: #0070ff;
    }

    a:active, a:focus, a:hover {
        color: #0070ff;
        opacity: .75;
    }

    #post-content a,
    #post-content a:hover,
    #post-content a:focus,
    #post-content a:visited {
        color: #005eb9;
        opacity: 1;
    }

    

    .post-entry .card-body a {
        color: #0070ff;
    }

    .avatar {
        background: #444;
    }

    .navbar-link,
    .navbar-link:visited,
    .timeline .timeline-item .timeline-icon.icon-lg {
        color: #0070ff;
    }

    .navbar-link:hover {
        color: #0070ff;
        opacity: .8;
    }

    #search-input .btn,
    #disqus_click_btn,
    #disqus-switch-to-direct,
    #disqus-loadmore-button {
        background: #727e96;
        border-color: #727e96;
        color: #fff;
    }

    #post-toc a.post-toc-link,
    #post-toc a.post-toc-link:visited,
    .share-menu.menu .menu-item>a {
        color: #727e96;
    }

    .share-menu.menu .menu-item>a:hover,
    .share-menu.menu .menu-item>a:focus,
    .share-menu.menu .menu-item>a:visited {
        color: #50596c;
        background: #f8f9fa;
        opacity: .85;
    }
</style><link rel="stylesheet" href="/css/style.min.css">








    <!-- Prettify Theme -->
    
    <link rel="preload" href="/css/highlight/github.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/css/highlight/github.min.css"></noscript>





<script>
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
</script>

    <!-- ### Site Verification ### -->
    


    <link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="守株阁"><meta name="msapplication-starturl" content="http://magicliang.github.io"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="守株阁"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- ### The Open Graph & Twitter Card Protocol ### -->
    <meta property="og:title" content="跨域与同源策略问题 | 守株阁"><meta property="og:site_name" content="守株阁"><meta property="og:type" content="article"><meta property="og:url" content="http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/"><meta property="og:locale" content="zh-Hans"><meta name="description" content="什么是同源策略同源策略(same origin policy)指的是，两个网页的协议、域名和端口都相同。 但 Windows RT IE 是例外的，对它而言，端口号并不是同源策略的组成部分之一。 同源策略的变化同源策略最初的要求是，同源的网页才能打开同源网页下的 cookie。但现代的同源策略起了轻微的变化：  localStorage 和 IndexedDB 也受同源策略限制。 “Cookies - magicliang - 守株阁"><meta name="keywords" content="JavaScript"><meta property="og:image" content="https://ws1.sinaimg.cn/large/66dd581fly1fo5k27suwmj21ai0k2aha.jpg"><meta property="og:image" content="https://ws1.sinaimg.cn/large/66dd581fly1fo5k53vzx0j20t80gharw.jpg"><meta property="og:image" content="https://ws1.sinaimg.cn/large/66dd581fly1fo5kybis1zj21jg0p847q.jpg"><meta property="article:published_time" content="2018-02-05T07:23:08.000Z"><meta property="article:modified_time" content="2020-11-09T11:57:48.000Z"><meta property="og:updated_time" content="2020-11-09T11:57:48.000Z"><meta property="article:author" content="magicliang"><meta property="article:tag" content="JavaScript"><meta name="twitter:card" content="summary">

    

    <!-- ### Canonical link ### -->
    <link rel="canonical" href="http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/">

    <meta name="generator" content="Hexo 6.0.0">

    <!-- ### Analytics ### -->
    







    <!-- ### Structured Data ### -->
    



<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "url": "http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/",
    "@type": "BlogPosting",
    "logo": "http://magicliang.github.io/img/suka-favicon.ico",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/"
    },
    "headline": "跨域与同源策略问题 | 守株阁",
    
    "image": {
        "@type": "ImageObject",
        "url": "http://magicliang.github.io/img/suka-favicon.ico"
    },
    
    "datePublished": "2018-02-05T07:23:08.000Z",
    "dateModified": "2020-11-09T11:57:48.000Z",
    "author": {
        "@type": "Person",
        "name": "magicliang",
        "image": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/default_avatar.png"
        },
        "description": "Hi, nice to meet you."
    },
    "publisher": {
        "@type": "Organization",
        "name": "守株阁",
        "logo": {
            "@type": "ImageObject",
            "url": "http://magicliang.github.io/img/suka-favicon.ico"
        }
    },
    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "http://magicliang.github.io/search?s={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    
    "keywords": "JavaScript",
    "description": "什么是同源策略同源策略(same origin policy)指的是，两个网页的协议、域名和端口都相同。 但 Windows RT IE 是例外的，对它而言，端口号并不是同源策略的组成部分之一。 同源策略的变化同源策略最初的要求是，同源的网页才能打开同源网页下的 cookie。但现代的同源策略起了轻微的变化：  localStorage 和 IndexedDB 也受同源策略限制。 “Cookies - magicliang - 守株阁"
}
</script>



    <!-- ### Custom Head ### -->
    
</head>

    <body>
            

            <!-- ### Main content ### -->
            <!-- ## Header ##-->
<header>
    <h1 class="header-title text-center"><a href="/">守株阁</a></h1>

    <p class="text-center header-slogan">
        
            
                Hi, nice to meet you.
            
        
    </p>

    <nav class="navbar-section text-center">
    
        <a href="/" class="navbar-link">Home</a>
    
    
        <a href="/archives/" class="navbar-link">Archives</a>
    
    
        <a href="/search" class="navbar-link">Search</a>
    
    
    
        <div class="dropdown dropdown-right">
    <a class="navbar-link dropdown-toggle" tabindex="0">Share</a>
    <ul class="menu share-menu">

        <!-- Share Weibo -->
        
        <li class="menu-item">
            <a href="http://service.weibo.com/share/share.php?appkey=&title=守株阁&url=http://magicliang.github.io&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
        </li>
        

        <!-- Share Twitter -->
        
        <li class="menu-item">
            <a href="https://twitter.com/intent/tweet?text=守株阁&url=http://magicliang.github.io&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
        </li>
        

        <!-- Share Facebook -->
        
        <li class="menu-item">
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
        </li>
        

        <!-- Share Google+ -->
        
        <li class="menu-item">
            <a href="https://plus.google.com/share?url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
        </li>
        

        <!-- Share LinkedIn -->
        
        <li class="menu-item">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io&title=跨域与同源策略问题" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
        </li>
        

        <!-- Share QQ -->
        
        <li class="menu-item">
            <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=跨域与同源策略问题&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
        </li>
        

        <!-- Share Telegram -->
        
        <li class="menu-item">
            <a href="https://t.me/share/url?url=http://magicliang.github.io&text=跨域与同源策略问题" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
        </li>
        

        <!-- QRCode -->
        
        <li class="menu-item">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAADECAAAAADlzdG3AAADLUlEQVR42u3b21LbQBBFUf//TyevhDB99pHV2FDbLwmFdVmqGk3fePz5BZ+HCBEiRIhYRzyGzz8HfPg5fTde/NNxn89N70uEiC3E6ULkol/9/qvzpN9P/z9+X4SIRcTpRv9bTMOCnJDpRUIWuAgR74JIN0IfQkJOx4sQ8W6IaZM7bXxpEyQbqggRr0KQwO2YnATolBy1vxMh4jsQJCh7xb+3VTtEiCgQbaErFcFScJeOaQpxIkRsINJFThseLQBMQSIt2B2/L0LEEoIu3CZ5oUUGUmg7/ixCxAKi2eROxa9UGGsbmXgjFSFiCTHdHLlQKjKQhs10jeODEyFiEZEKYtOmdrVxcjUREyFiE0EvQBcdTfxJ4/7SgIoIETchyKIiDcMETi+BVIQbqx0iRNyISDfeJPGokT40M+lwiwgRW4iUpKfCcmraX3l5kI1QhIgNRGp8TAUv+t3pgaWi9HicCBFLCNoYnE5MF3l6UZChRxEithFksdImPNm8SLKUhshEiNhCkMFB2nB/dkCF3rwIEZuIprCVBnJpgbgtrNUBoAgRTyDSEEo72EiOTy+E9KBEiNhGkIIVKRKnBKsJFkmAKULEBoIuNJIs0eNJsxKBRYhYQNALkgYI2cDo0CQJMEWI2EA0Ba4mCCTJFUmQxo1VhIgFRHujU8BHb5AOS07nFiFiG5FONi1MEtSRARQ6CCNCxDYCNflIMevB/9gjFRtIgUGEiA0Eba6kBX2p+PXIf4BeDaiIEHETIgZaYMNrjmkbNjEAFCHiRgQphjXDJaTp2AaCOIoVIeIGRBomScnNdONXCgKk4CZCxHchSOCXTt6+DJoEKVbFRYi4CZGKuKQJQgZc2kHh9CBEiNhAkATlSoKUhhObgXfceBQh4gZE+tDBk1SEawoSuBkpQsQCohkejIl7GFifFjo5/pgUiRBxM6JJ0smwL0my6MMbH6oIEYuIJlgjwV16CTTB3/FBixDxIgQN/kjDkCZGU1FChIh3QKRiQRouSUNetEDx1MIWIaKsxaZArlmwKeFpN8enolgRIkpEKuLGk8Eh3eYB1FVxESJuQvzkjwgRIkSIWPv8BbvAnhusbiXiAAAAAElFTkSuQmCC" alr="QRCode">
        </li>
        

    </ul>
</div>
    
    
</nav>
</header>

            
    <!-- ## Post ## -->
    <div class="post-container">
    <div id="post-card" class="card">
        
        <div class="card-item-container">
            <div class="card-inner-cell">
                <!-- # Post Header Info # -->
                <div class="card-header">
                    
    <h1 class="card-title h3 mb-2">跨域与同源策略问题</h1>




<div class="post-header-info">
    <p class="post-header-info-left text-gray">
        <img class="author-thumb lazyload" data-src="/img/default_avatar.png" src="/img/suka-lazyload.gif" alt="magicliang's Avatar">
        <span>2018-02-05</span>
        
        
            <!-- Busuanzi Post Views -->
<span id="busuanzi_container_page_pv" hidden>
    <span class="suka-devide-dot"></span>
    <span></span>
    <span id="busuanzi_value_page_pv"></span>
    <span>Views</span>
</span>
        
        
    </p>
    <div class="post-header-info-right">
        
            <div class="dropdown dropdown-right">
<a class="dropdown-toggle" tabindex="0">Share the post</a>
<ul class="menu share-menu">
    <!-- Share Weibo -->
    
    <li class="menu-item">
        <a href="http://service.weibo.com/share/share.php?appkey=&title=跨域与同源策略问题&url=http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/&pic=http://magicliang.github.io/img/suka-favicon.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">Share to Weibo</a>
    </li>
    

    <!-- Share Twitter -->
    
    <li class="menu-item">
        <a href="https://twitter.com/intent/tweet?text=跨域与同源策略问题&url=http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/&via=magicliang" target="_blank" rel="external noopener noreferrer nofollow">Share to Twitter</a>
    </li>
    

    <!-- Share Facebook -->
    
    <li class="menu-item">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/" target="_blank" rel="external noopener noreferrer nofollow">Share to Facebook</a>
    </li>
    

    <!-- Share Google+ -->
    
    <li class="menu-item">
        <a href="https://plus.google.com/share?url=http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/" target="_blank" rel="external noopener noreferrer nofollow">Share to Google+</a>
    </li>
    

    <!-- Share LinkedIn -->
    
    <li class="menu-item">
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/&title=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to LinkedIn</a>
    </li>
    

    <!-- Share QQ -->
    
    <li class="menu-item">
        <a href="http://connect.qq.com/widget/shareqq/index.html?site=守株阁&title=守株阁&summary=关于技术以及人生&pics=http://magicliang.github.io/img/suka-favicon.ico&url=http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/" target="_blank" rel="external noopener noreferrer nofollow"> Share to QQ</a>
    </li>
    

    <!-- Share Telegram -->
    
    <li class="menu-item">
        <a href="https://t.me/share/url?url=http://magicliang.github.io/2018/02/05/%E8%B7%A8%E5%9F%9F%E4%B8%8E%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%97%AE%E9%A2%98/&text=守株阁" target="_blank" rel="external noopener noreferrer nofollow">Share to Telegram</a>
    </li>
    

    <!-- QRCode -->
    
    <li class="menu-item">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAADECAAAAADlzdG3AAADLUlEQVR42u3b21LbQBBFUf//TyevhDB99pHV2FDbLwmFdVmqGk3fePz5BZ+HCBEiRIhYRzyGzz8HfPg5fTde/NNxn89N70uEiC3E6ULkol/9/qvzpN9P/z9+X4SIRcTpRv9bTMOCnJDpRUIWuAgR74JIN0IfQkJOx4sQ8W6IaZM7bXxpEyQbqggRr0KQwO2YnATolBy1vxMh4jsQJCh7xb+3VTtEiCgQbaErFcFScJeOaQpxIkRsINJFThseLQBMQSIt2B2/L0LEEoIu3CZ5oUUGUmg7/ixCxAKi2eROxa9UGGsbmXgjFSFiCTHdHLlQKjKQhs10jeODEyFiEZEKYtOmdrVxcjUREyFiE0EvQBcdTfxJ4/7SgIoIETchyKIiDcMETi+BVIQbqx0iRNyISDfeJPGokT40M+lwiwgRW4iUpKfCcmraX3l5kI1QhIgNRGp8TAUv+t3pgaWi9HicCBFLCNoYnE5MF3l6UZChRxEithFksdImPNm8SLKUhshEiNhCkMFB2nB/dkCF3rwIEZuIprCVBnJpgbgtrNUBoAgRTyDSEEo72EiOTy+E9KBEiNhGkIIVKRKnBKsJFkmAKULEBoIuNJIs0eNJsxKBRYhYQNALkgYI2cDo0CQJMEWI2EA0Ba4mCCTJFUmQxo1VhIgFRHujU8BHb5AOS07nFiFiG5FONi1MEtSRARQ6CCNCxDYCNflIMevB/9gjFRtIgUGEiA0Eba6kBX2p+PXIf4BeDaiIEHETIgZaYMNrjmkbNjEAFCHiRgQphjXDJaTp2AaCOIoVIeIGRBomScnNdONXCgKk4CZCxHchSOCXTt6+DJoEKVbFRYi4CZGKuKQJQgZc2kHh9CBEiNhAkATlSoKUhhObgXfceBQh4gZE+tDBk1SEawoSuBkpQsQCohkejIl7GFifFjo5/pgUiRBxM6JJ0smwL0my6MMbH6oIEYuIJlgjwV16CTTB3/FBixDxIgQN/kjDkCZGU1FChIh3QKRiQRouSUNetEDx1MIWIaKsxaZArlmwKeFpN8enolgRIkpEKuLGk8Eh3eYB1FVxESJuQvzkjwgRIkSIWPv8BbvAnhusbiXiAAAAAElFTkSuQmCC" alt="QRCode">
    </li>
    

</ul>
</div>
        
    </div>
</div>
                </div>
                <div class="card-body">
                    
                        
                        
                            <div id="post-toc"><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="post-toc-number">1.</span> <span class="post-toc-text">什么是同源策略</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E7%9A%84%E5%8F%98%E5%8C%96"><span class="post-toc-number">2.</span> <span class="post-toc-text">同源策略的变化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%A6%82%E4%BD%95%E9%98%BB%E6%AD%A2%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE"><span class="post-toc-number">3.</span> <span class="post-toc-text">如何阻止跨域访问</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%A6%82%E4%BD%95%E7%A0%B4%E8%A7%A3%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="post-toc-number">4.</span> <span class="post-toc-text">如何破解同源策略</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BF%AE%E6%94%B9%E6%BA%90"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">修改源</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#iframe"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">iframe</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AJAX-%E7%9A%84%E6%96%B9%E6%B3%95"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">AJAX 的方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%AE%80%E5%8D%95-header-%E5%92%8C%E9%9D%9E%E7%AE%80%E5%8D%95-header"><span class="post-toc-number">4.3.1.</span> <span class="post-toc-text">简单 header 和非简单 header</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#JSONP"><span class="post-toc-number">4.3.2.</span> <span class="post-toc-text">JSONP</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#WebSocket"><span class="post-toc-number">4.3.3.</span> <span class="post-toc-text">WebSocket</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#CORS-Cross-Origin-Resource-Sharing"><span class="post-toc-number">4.3.4.</span> <span class="post-toc-text">CORS(Cross-Origin Resource Sharing)#</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82"><span class="post-toc-number">4.3.4.1.</span> <span class="post-toc-text">简单请求</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E9%9D%9E%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82"><span class="post-toc-number">4.3.4.2.</span> <span class="post-toc-text">非简单请求</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%99%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98%EF%BC%9ACSRF-%E6%94%BB%E9%98%B2%E9%97%AE%E9%A2%98"><span class="post-toc-number">5.</span> <span class="post-toc-text">附一个小问题：CSRF 攻防问题</span></a></li></ol></div>
                        
                    
                    <article id="post-content">
                        <h2 id="什么是同源策略"><a href="#什么是同源策略" class="headerlink" title="什么是同源策略"></a>什么是同源策略</h2><p>同源策略(same origin policy)指的是，两个网页的协议、域名和端口都相同。 但 Windows RT IE 是例外的，对它而言，端口号并不是同源策略的组成部分之一。</p>
<h2 id="同源策略的变化"><a href="#同源策略的变化" class="headerlink" title="同源策略的变化"></a>同源策略的变化</h2><p>同源策略最初的要求是，同源的网页才能打开同源网页下的 cookie。但现代的同源策略起了轻微的变化：</p>
<ol>
<li>localStorage 和 IndexedDB 也受同源策略限制。</li>
<li>“Cookies使用不同的源定义方式。一个页面可以为本域和任何父域设置cookie，只要是父域不是公共后缀（public suffix）即可。设置cookie时，你可以使用 Domain，Path，Secure，和 Http-Only 标记来限定其访问性。”</li>
<li>对<code>XMLHttpRequest</code>和<code>&lt;img&gt;</code>标签则会受到同源策略的约束：</li>
<li>通常允许进行跨域写操作（Cross-origin writes）。例如链接，重定向以及表单提交。特定少数的 HTTP 请求需要添加 preflight。</li>
<li>允许跨域资源嵌入(Cross-origin embedding)。也就是说图片插入本质上还是不受同源策略的限制。这恐怕也是现阶段的很多 CSRF 攻击的根源。跨域资源的一些示例包括：<img src="https://ws1.sinaimg.cn/large/66dd581fly1fo5k27suwmj21ai0k2aha.jpg"></li>
<li>通常不允许跨域资源操作(Cross-origin writes)。但可以通过内嵌资源来巧妙地进行读取访问。也就是说，原始的跨域 post 请求本身是很容易被 banned 掉的（现实中浏览器的例子是，能发 request 不能收 response）。</li>
<li>DOM 无法跨域访问。</li>
</ol>
<h2 id="如何阻止跨域访问"><a href="#如何阻止跨域访问" class="headerlink" title="如何阻止跨域访问"></a>如何阻止跨域访问</h2><ul>
<li>阻止跨域访问，只要检测请求中的 CSRF token 即可。换言之，CSRF 攻击的根源还是跨域 post 成功，其原理是：<img src="https://ws1.sinaimg.cn/large/66dd581fly1fo5k53vzx0j20t80gharw.jpg"></li>
<li>阻止资源的跨站读取和读取，需要保证该资源是不可嵌入的。阻止嵌入行为是必须的，因为嵌入资源通常向其暴露信息。（其实早期的 CSRF 攻击有把一个 http 地址隐藏在一个 img 元素里的用法）。</li>
</ul>
<h2 id="如何破解同源策略"><a href="#如何破解同源策略" class="headerlink" title="如何破解同源策略"></a>如何破解同源策略</h2><h3 id="修改源"><a href="#修改源" class="headerlink" title="修改源"></a>修改源</h3><p>这个方法可以使 cookie 跨域共享。</p>
<p>页面可以修改自己的源，但只能用它的脚本将<code>document.domain</code>的值设置成其当前域或当前域的超级域。如果将其设置为当前域的超级域，则较短的域将用于后续原始检查。</p>
<p>MDN 里举了一个例子，假设文档中的一个脚本在 <a target="_blank" rel="noopener" href="http://store.company.com/dir/other.html">http://store.company.com/dir/other.html</a> 执行以下语句：：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.domain = <span class="string">&quot;company.com&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>页面将会成功地通过对 <a target="_blank" rel="noopener" href="http://company.com/dir/page.html">http://company.com/dir/page.html</a> 的同源检测。而同理，company.com 不能设置 document.domain 为 othercompany.com。</p>
<p>但改域还是要注意端口号问题：</p>
<blockquote>
<p>浏览器单独保存端口号。任何的赋值操作，包括document.domain = document.domain都会以null值覆盖掉原来的端口号。因此company.com:8080页面的脚本不能仅通过设置document.domain = “company.com”就能与company.com通信。<strong>赋值时必须带上端口号</strong>，以确保端口号不会为null。</p>
</blockquote>
<p>还有一个需要对父页面重新赋值的注意事项：</p>
<blockquote>
<p>使用document.domain允许子域安全访问其父域时，您需要设置document.domain在父域和子域中具有相同的值。这是必要的，即使这样做只是将父域设置回其原始值。否则可能会导致权限错误。</p>
</blockquote>
<h3 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h3><blockquote>
<p>如果两个网页不同源，就无法拿到对方的DOM。典型的例子是iframe窗口和window.open方法打开的窗口，它们与父窗口无法通信。</p>
</blockquote>
<blockquote>
<p>HTML5为了解决这个问题，引入了一个全新的API：跨文档通信 API（Cross-document messaging）。</p>
</blockquote>
<blockquote>
<p>这个API为window对象新增了一个window.postMessage方法，允许跨窗口通信，不论这两个窗口是否同源。</p>
</blockquote>
<blockquote>
<p>举例来说，父窗口<a target="_blank" rel="noopener" href="http://aaa.com向子窗口http//bbb.com%E5%8F%91%E6%B6%88%E6%81%AF%EF%BC%8C%E8%B0%83%E7%94%A8postMessage%E6%96%B9%E6%B3%95%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%E3%80%82">http://aaa.com向子窗口http://bbb.com发消息，调用postMessage方法就可以了。</a></p>
</blockquote>
<h3 id="AJAX-的方法"><a href="#AJAX-的方法" class="headerlink" title="AJAX 的方法"></a>AJAX 的方法</h3><h4 id="简单-header-和非简单-header"><a href="#简单-header-和非简单-header" class="headerlink" title="简单 header 和非简单 header"></a>简单 header 和非简单 header</h4><p>默认情况下，只有七种 simple response headers （简单响应首部）可以暴露给外部：</p>
<ul>
<li>Cache-Control</li>
<li>Content-Language</li>
<li>Content-Length</li>
<li>Content-Type</li>
<li>Expires</li>
<li>Last-Modified</li>
<li>Pragma</li>
</ul>
<p>non-simple-headers 可以用如下方式返回：</p>
<blockquote>
<p>Access-Control-Expose-Headers: Content-Length, X-Kuma-Revision</p>
</blockquote>
<h4 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h4><p><code>&lt;script&gt;</code>标签的存在，生动地说明了同源策略不限制普通的 http get 请求获取嵌入式资源。本质上就是让代码的上文写好，生成一个<code>script</code>标签请求，让服务器把下文写好。大致的例子是：</p>
<p>先在客户端生成一个标签：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addScriptTag</span>(<span class="params">src</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">  script.setAttribute(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;text/javascript&quot;</span>);</span><br><span class="line">  script.src = src;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 实际上大概生成了这样一个 tag：</span></span><br><span class="line"><span class="comment">  * &lt;script src=&quot;http://example.com/ip?callback=foo&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  addScriptTag(<span class="string">&#x27;http://example.com/ip?callback=foo&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Your public IP address is: &#x27;</span> + data.ip);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>然后再在服务器端生成一段 JavaScript 代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foo(&#123;</span><br><span class="line">  &quot;ip&quot;: &quot;8.8.8.8&quot;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h4><p>WebSocket是一种通信协议，使用ws://（非加密）和wss://（加密）作为协议前缀。该协议不实行同源政策(其实只有 AJAX 受到同源策略的限制)，只要服务器支持，就可以通过它进行跨源通信。</p>
<h4 id="CORS-Cross-Origin-Resource-Sharing"><a href="#CORS-Cross-Origin-Resource-Sharing" class="headerlink" title="CORS(Cross-Origin Resource Sharing)#"></a>CORS(Cross-Origin Resource Sharing)#</h4><p>先把请求分成简单请求(simple request)和非简单请求(not-so-simple request)。</p>
<h5 id="简单请求"><a href="#简单请求" class="headerlink" title="简单请求"></a>简单请求</h5><p>简单请求要求同时满足两大条件：<img src="https://ws1.sinaimg.cn/large/66dd581fly1fo5kybis1zj21jg0p847q.jpg"><br>其他请求都是非简单请求。</p>
<p>对于简单请求，就是在 request 里面表明当前的request 来自哪个 origin。换言之，A 要跨域到 B，A 至少要表明自己。</p>
<p>如果Origin指定的源，不在许可范围内，服务器会返回一个正常的HTTP回应。浏览器发现，这个回应的头信息没有包含Access-Control-Allow-Origin字段（详见下文），就知道出错了，从而抛出一个错误，<strong>被XMLHttpRequest的onerror回调函数捕获。注意，这种错误无法通过状态码识别，因为HTTP回应的状态码有可能是200。</strong></p>
<p>如果Origin指定的域名在许可范围内，服务器返回的响应，会多出几个头信息字段。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http://api.bob.com</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Expose-Headers: FooBar</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br></pre></td></tr></table></figure>

<p>其中各个字段的含义：</p>
<ol>
<li><p>Access-Control-Allow-Origin：<strong>该字段是必须的</strong>。它的值要么是请求时Origin字段的值，要么是一个*，表示接受任意域名的请求（习惯大方的程序员当然会选择后者了）。</p>
</li>
<li><p>Access-Control-Allow-Credentials：该字段可选。它的值是一个布尔值，<strong>表示是否允许发送Cookie</strong>。默认情况下，Cookie不包括在CORS请求之中。设为true，即表示服务器明确许可，Cookie可以包含在请求中，一起发给服务器。这个值也只能设为true，如果服务器不要浏览器发送Cookie，删除该字段即可。</p>
</li>
<li><p>Access-Control-Expose-Headers：该字段可选。CORS请求时，XMLHttpRequest对象的getResponseHeader()方法只能拿到6个基本字段：Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma。<strong>如果想拿到其他字段，就必须在Access-Control-Expose-Headers里面指定。</strong>上面的例子指定，getResponseHeader(‘FooBar’)可以返回FooBar字段的值。</p>
</li>
</ol>
<h5 id="非简单请求"><a href="#非简单请求" class="headerlink" title="非简单请求"></a>非简单请求</h5><p>非简单请求是那种对服务器有特殊要求的请求，比如请求方法是PUT或DELETE，或者Content-Type字段的类型是application/json。</p>
<p>非简单请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为”预检”请求（preflight）。</p>
<p>浏览器先询问服务器，当前网页所在的域名是否在服务器的许可名单之中，以及可以使用哪些HTTP动词和头信息字段。只有得到肯定答复，浏览器才会发出正式的XMLHttpRequest请求，否则就报错。</p>
<p>简而言之，在 JQuery 时代，由浏览器而不是由 JQuery 自动发出的 OPTIONS 请求，就是 preflight 请求。</p>
<p>一个例子如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = <span class="string">&#x27;http://api.alice.com/cors&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.open(<span class="string">&#x27;PUT&#x27;</span>, url, <span class="literal">true</span>);</span><br><span class="line">xhr.setRequestHeader(<span class="string">&#x27;X-Custom-Header&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure>

<p>上面代码中，HTTP请求的方法是PUT，并且发送一个自定义头信息X-Custom-Header。</p>
<p><strong>浏览器</strong>发现，这是一个非简单请求，就<strong>自动发出一个”预检”请求</strong>，要求服务器确认可以这样请求。下面是这个”预检”请求的HTTP头信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">OPTIONS /cors HTTP/1.1</span><br><span class="line">Origin: http://api.bob.com</span><br><span class="line">Access-Control-Request-Method: PUT</span><br><span class="line">Access-Control-Request-Headers: X-Custom-Header</span><br><span class="line">Host: api.alice.com</span><br><span class="line">Accept-Language: en-US</span><br><span class="line">Connection: keep-alive</span><br><span class="line">User-Agent: Mozilla/5.0...</span><br></pre></td></tr></table></figure>

<p>服务器收到了这个请求，返回一个这样的响应：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Mon, 01 Dec 2008 01:15:39 GMT</span><br><span class="line">Server: Apache/2.0.61 (Unix)</span><br><span class="line">Access-Control-Allow-Origin: http://api.bob.com</span><br><span class="line">Access-Control-Allow-Methods: GET, POST, PUT</span><br><span class="line">Access-Control-Allow-Headers: X-Custom-Header</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Content-Length: 0</span><br><span class="line">Keep-Alive: timeout=2, max=100</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Content-Type: text/plain</span><br></pre></td></tr></table></figure>

<p>上面的HTTP回应中，关键的是Access-Control-Allow-Origin字段，表示<a target="_blank" rel="noopener" href="http://api.bob.com可以请求数据.该字段也可以设为星号,表示同意任意跨源请求./">http://api.bob.com可以请求数据。该字段也可以设为星号，表示同意任意跨源请求。</a></p>
<p><strong>如果浏览器否定了”预检”请求，会返回一个正常的HTTP回应</strong>，但是没有任何CORS相关的头信息字段。这时，浏览器就会认定，服务器不同意预检请求，因此触发一个错误，被XMLHttpRequest对象的onerror回调函数捕获。控制台会打印出如下的报错信息。</p>
<p>到此我们可以看到，跨域相关的许可信息，都是放在 header 里而不是放在 body 里的。</p>
<p>一旦服务器通过了”预检”请求，以后<strong>每次</strong>浏览器正常的CORS请求，就都跟简单请求一样，<strong>会有一个Origin头信息字段</strong>。服务器的回应，也都<strong>会有一个Access-Control-Allow-Origin头信息字段</strong>。这两个字段，是浏览器和服务器自动添加上去，<strong>保证通话过程始终在对跨域的警惕和授权中度过</strong>。</p>
<h2 id="附一个小问题：CSRF-攻防问题"><a href="#附一个小问题：CSRF-攻防问题" class="headerlink" title="附一个小问题：CSRF 攻防问题"></a>附一个小问题：CSRF 攻防问题</h2><ol>
<li>img src 攻击可以攻击所有 get 请求。</li>
<li>隐藏表单不受同源策略影响，post 也需要做专门防御。</li>
</ol>
<p>最完善的做法，应该是做一些有时效性的 token 放在网页里。像 Rails 的方案，就是一个隐藏表单里的 token，还要配合 referer 使用（这个字段能不能被 javascript 修改是个<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/9580575/how-to-manually-set-referer-header-in-javascript">复杂问题</a>）。</p>
<p>本文的主要参考文献：</p>
<ol>
<li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html">《浏览器同源政策及其规避方法》</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/04/cors.html">《跨域资源共享 CORS 详解》</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy">《浏览器的同源策略》</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Preflighted_requests">《Cross-Origin Resource Sharing (CORS)》</a></li>
</ol>

                    </article>
                    


    <blockquote id="date-expire-notification" class="post-expired-notify">This article was last updated on <span id="date-expire-num"></span> days ago, and the information described in the article may have changed.</blockquote>
    <script>
    (function() {
        var dateUpdate = Date.parse("2020-11-09");
        var nowDate = new Date();
        var a = nowDate.getTime();
        var b = a - dateUpdate;
        var daysUpdateExpire = Math.floor(b/(24*3600*1000));
        if (daysUpdateExpire >= 120) {
            document.getElementById('date-expire-num').innerHTML = daysUpdateExpire;
        } else {
            document.getElementById('date-expire-notification').style.display = 'none';
        }
    })();
    </script>


<p class="post-footer-info mb-0 pt-0">Published at&nbsp;<time datetime="2018-02-05T07:23:08.000Z" itemprop="datePublished">2018-02-05</time>

    , Updated at&nbsp;<time datetime="2020-11-09T11:57:48.000Z" itemprop="dateModified">2020-11-09</time>

</p>
<p class="post-footer-info mb-0 pt-2">



<span class="post-tags-list mt-2">

<a class="post-tags-list-item" href="/tags/JavaScript/" rel="tag">#&nbsp;JavaScript</a>

</span>


</p>

                </div>
                <div class="post-nav px-2 bg-gray">
<ul class="pagination">
    <!-- Prev Nav -->
    
        <li class="page-item page-prev">
            <a href="/2018/02/20/%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/" rel="prev">
                <div class="page-item-title"><i class="icon icon-back" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">推荐算法笔记</div>
            </a>
        </li>
    

    <!-- Next Nav -->
    
        <li class="page-item page-next">
            <a href="/2018/02/03/Echart-%E8%AF%8D%E6%B1%87%E8%A1%A8/" rel="next">
                <div class="page-item-title"><i class="icon icon-forward" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">Echart 词汇表</div>
            </a>
        </li>
    
</ul>
</div>

                
                    <!-- # Comment # -->
                    
                
            </div>
        </div>
    </div>
</div>

            <!-- ### Footer ### -->
            <footer class="text-center">
    <!-- footer copyright -->
    
        <p class="footer-copyright mb-0">Copyright&nbsp;©&nbsp;<span id="copyright-year"></span>
            <a class="footer-copyright-a" href="http://magicliang.github.io">守株阁</a>
        </p>

    <!-- footer custom text -->
    <p class="footer-text mb-0">
    
    </p>
    <!-- footer develop info -->
    <p class="footer-develop mb-0">
        
    <!-- Busuanzi User Views -->
    <span id="busuanzi_container_site_uv" hidden>
        <span></span>
        <span id="busuanzi_value_site_uv"></span>
        <span>Viewers</span>
        
            <span>|</span>
        
    </span>




        
        Powered by&nbsp;<!--
         --><a href="https://hexo.io" target="_blank" class="footer-develop-a" rel="external nofollow noopener noreferrer">Hexo</a><span class="footer-develop-divider"></span>Theme&nbsp;-&nbsp;<!--
         --><a href="https://github.com/SukkaW/hexo-theme-suka" target="_blank" class="footer-develop-a" rel="external noopener">Suka</a>
    </p>
</footer>


        <!-- ### Import File ### -->
        <!-- ### Footer JS Import ### -->

<script>

    
window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
};
document.getElementById('copyright-year').textContent = new Date().getFullYear();
console.log('\n %c Suka Theme (hexo-theme-suka) | © SukkaW | Verision 1.3.3 %c https://github.com/SukkaW/hexo-theme-suka \n', 'color: #fff; background: #444; padding:5px 0;', 'background: #bbb; padding:5px 0;');

</script>

<script src="/lib/vanilla-lazyload/lazyload.min.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js" async></script>


<!-- Offset -->




<!-- Comment -->


<!-- ### Custom Footer ### -->

    </body>

</html>