<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Hyperledger Fabric 各个容器内环境 | 守株阁</title><meta name="author" content="magicliang"><meta name="copyright" content="magicliang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="peer 容器 &#x2F;opt&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;hyperledger&#x2F;fabric&#x2F;peer 虽然是WORKING_DIR，什么都没有。这个目录是&#x2F;bin&#x2F;bash永远的进入路径，不管在哪个目录退出，重新进入还是会进入这个路径。 &#x2F;etc&#x2F;hyperledger&#x2F;fabric 12345678910# 原生的三个配置文件。所以修改peer的行为要通过环境变量来修改，让doc">
<meta property="og:type" content="article">
<meta property="og:title" content="Hyperledger Fabric 各个容器内环境">
<meta property="og:url" content="https://magicliang.github.io/2018/04/09/Hyperledger-Fabric-%E5%90%84%E4%B8%AA%E5%AE%B9%E5%99%A8%E5%86%85%E7%8E%AF%E5%A2%83/index.html">
<meta property="og:site_name" content="守株阁">
<meta property="og:description" content="peer 容器 &#x2F;opt&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;hyperledger&#x2F;fabric&#x2F;peer 虽然是WORKING_DIR，什么都没有。这个目录是&#x2F;bin&#x2F;bash永远的进入路径，不管在哪个目录退出，重新进入还是会进入这个路径。 &#x2F;etc&#x2F;hyperledger&#x2F;fabric 12345678910# 原生的三个配置文件。所以修改peer的行为要通过环境变量来修改，让doc">
<meta property="og:locale">
<meta property="og:image" content="https://magicliang.github.io/img/wall-paper-116.jpg">
<meta property="article:published_time" content="2018-04-09T06:53:18.000Z">
<meta property="article:modified_time" content="2025-10-22T08:01:31.907Z">
<meta property="article:author" content="magicliang">
<meta property="article:tag" content="区块链">
<meta property="article:tag" content="Hyperledger Fabric">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://magicliang.github.io/img/wall-paper-116.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hyperledger Fabric 各个容器内环境",
  "url": "https://magicliang.github.io/2018/04/09/Hyperledger-Fabric-%E5%90%84%E4%B8%AA%E5%AE%B9%E5%99%A8%E5%86%85%E7%8E%AF%E5%A2%83/",
  "image": "https://magicliang.github.io/img/wall-paper-116.jpg",
  "datePublished": "2018-04-09T06:53:18.000Z",
  "dateModified": "2025-10-22T08:01:31.907Z",
  "author": [
    {
      "@type": "Person",
      "name": "magicliang",
      "url": "https://magicliang.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://magicliang.github.io/2018/04/09/Hyperledger-Fabric-%E5%90%84%E4%B8%AA%E5%AE%B9%E5%99%A8%E5%86%85%E7%8E%AF%E5%A2%83/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: magicliang","link":"Link: ","source":"Source: 守株阁","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Hyperledger Fabric 各个容器内环境',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="守株阁" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/wall-paper-116.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">守株阁</span></a><a class="nav-page-title" href="/"><span class="site-name">Hyperledger Fabric 各个容器内环境</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">Hyperledger Fabric 各个容器内环境</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-04-09T06:53:18.000Z" title="Created 2018-04-09 14:53:18">2018-04-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-10-22T08:01:31.907Z" title="Updated 2025-10-22 16:01:31">2025-10-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">1.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>5mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="peer-容器">peer 容器</h2>
<h3 id="opt-gopath-src-github-com-hyperledger-fabric-peer">/opt/gopath/src/github.com/hyperledger/fabric/peer</h3>
<p>虽然是WORKING_DIR，什么都没有。这个目录是/bin/bash永远的进入路径，不管在哪个目录退出，重新进入还是会进入这个路径。</p>
<h3 id="etc-hyperledger-fabric">/etc/hyperledger/fabric</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 原生的三个配置文件。所以修改peer的行为要通过环境变量来修改，让docker用COMMAND启动peer进程的时候吸收这几个配置文件和环境变量</span><br>core.yaml<br><br><span class="hljs-comment"># 这两个文件似乎不关peer的事情</span><br>configtx.yaml<br>orderer.yaml<br><span class="hljs-comment"># 这两个文件夹要被外部的数据卷映射修改过来，实际上只能依赖于外部</span><br><span class="hljs-comment"># 这个文件夹本质上还是 core.yaml 默认的 mspConfigPath 的值</span><br>msp<br>tls<br></code></pre></td></tr></table></figure>
<h3 id="var-hyperledger-production">/var/hyperledger/production</h3>
<p>这个文件夹存放unix系统里面的动态程序数据。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 它下面有打包好的CIP（chaincode install package）格式的链码 chaincodes/mycc.1.0。</span><br>chaincodes<br><span class="hljs-comment"># 这个文件夹就特别像以太坊的datadir了。</span><br>ledgersData<br><span class="hljs-comment"># 因为这是系统中唯一的进程，所以它的进程号是1，是不是docker内的主进程都是这样？</span><br>peer.pid<br></code></pre></td></tr></table></figure>
<h3 id="启动命令">启动命令</h3>
<p>整个容器内只有一个进程<code>peer node start</code>。完全没有其他命令行参数，所以就是靠环境变量来支持。</p>
<p>这个启动命令被安装只<code>/usr/local/bin/</code>下，里面只有这个命令（精简的ubuntu系统）。</p>
<h3 id="全部环境变量">全部环境变量</h3>
<p>用<code>env</code>命令可以打出来：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">HOSTNAME</span>=fba1d49eb609<br><span class="hljs-attr">TERM</span>=xterm<br><span class="hljs-attr">CORE_PEER_TLS_ROOTCERT_FILE</span>=/etc/hyperledger/fabric/tls/ca.crt<br><span class="hljs-attr">CORE_PEER_TLS_KEY_FILE</span>=/etc/hyperledger/fabric/tls/server.key<br><span class="hljs-comment"># 省略 LS_COLORS</span><br><span class="hljs-attr">CORE_PEER_PROFILE_ENABLED</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">CORE_PEER_GOSSIP_ORGLEADER</span>=<span class="hljs-literal">false</span><br><span class="hljs-attr">CORE_PEER_LOCALMSPID</span>=Org3-MSP<br><span class="hljs-attr">CORE_VM_ENDPOINT</span>=unix:///host/var/run/docker.sock<br><span class="hljs-attr">CORE_PEER_TLS_CERT_FILE</span>=/etc/hyperledger/fabric/tls/server.crt<br><span class="hljs-attr">PATH</span>=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin<br><span class="hljs-attr">PWD</span>=/var/hyperledger/production<br><span class="hljs-attr">CORE_PEER_TLS_ENABLED</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE</span>=net_byfn<br><span class="hljs-attr">CORE_PEER_ID</span>=peer0.ORG3_DOMAIN<br><span class="hljs-attr">SHLVL</span>=<span class="hljs-number">1</span><br><span class="hljs-attr">HOME</span>=/root<br><span class="hljs-attr">CORE_LOGGING_LEVEL</span>=DEBUG<br><span class="hljs-attr">CORE_PEER_GOSSIP_EXTERNALENDPOINT</span>=peer0.ORG3_DOMAIN:<span class="hljs-number">7051</span><br><span class="hljs-attr">FABRIC_CFG_PATH</span>=/etc/hyperledger/fabric<br><span class="hljs-attr">CORE_PEER_ADDRESS</span>=peer0.ORG3_DOMAIN:<span class="hljs-number">7051</span><br><span class="hljs-attr">CORE_PEER_GOSSIP_USELEADERELECTION</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">CORE_PEER_GOSSIP_BOOTSTRAP</span>=peer0.ORG3_DOMAIN:<span class="hljs-number">7051</span><br><span class="hljs-attr">_</span>=/usr/bin/env<br><span class="hljs-attr">OLDPWD</span>=/etc/hyperledger/fabric<br></code></pre></td></tr></table></figure>
<h2 id="orderer-容器">orderer 容器</h2>
<h3 id="opt-gopath-src-github-com-hyperledger-fabric">/opt/gopath/src/github.com/hyperledger/fabric</h3>
<p>虽然是WORKING_DIR，什么都没有。这个目录是/bin/bash永远的进入路径，不管在哪个目录退出，重新进入还是会进入这个路径。</p>
<p>注意，这个目录没有peer子目录。</p>
<h3 id="etc-hyperledger-fabric">/etc/hyperledger/fabric</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 同 peer 容器</span><br>core.yaml<br>configtx.yaml<br>orderer.yaml<br><span class="hljs-comment"># 没有tls文件夹</span><br><span class="hljs-comment"># 这里的msp似乎没什么用，var下的msp才是有用的。</span><br>msp<br></code></pre></td></tr></table></figure>
<h3 id="var-hyperledger">/var/hyperledger/</h3>
<p>这个文件夹下有专门的两个子文件夹。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># peer 容器没有单独的peer文件夹，直接就是production</span><br><span class="hljs-keyword">orderer </span> <br>production<br></code></pre></td></tr></table></figure>
<p>orderer 文件夹下有三个文件：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># 这个创世区块是外部映射进来的。</span><br><span class="hljs-keyword">orderer.genesis.block</span><br><span class="hljs-keyword"></span><span class="hljs-comment"># 这两个文件夹也是外部映射进来的，却不是映射到etc而是映射到这里，不知道为什么</span><br>msp  <br>tls<br></code></pre></td></tr></table></figure>
<p>production 文件夹下还有一个orderer文件夹：</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-meta"># 类似peer存放链数据了，但peer又没有一个单独的production/peer文件夹</span><br>chains<br><span class="hljs-keyword">index</span><br><br><span class="hljs-meta"># 没有 orderer 的pid</span><br></code></pre></td></tr></table></figure>
<h3 id="启动命令">启动命令</h3>
<p>orderer 连启动参数都没有。直接启动就会遇到地址被占用的错误。</p>
<p>这个启动命令被安装只<code>/usr/local/bin/</code>下，里面只有这个命令（精简的ubuntu系统）。</p>
<h3 id="全部环境变量">全部环境变量</h3>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># 专门指定了本地 msp 目录。</span><br><span class="hljs-attr">ORDERER_GENERAL_LOCALMSPDIR</span>=/var/hyperledger/orderer/msp<br><span class="hljs-attr">HOSTNAME</span>=bf4847ae1253<br><span class="hljs-attr">ORDERER_GENERAL_GENESISFILE</span>=/var/hyperledger/orderer/orderer.genesis.block<br><span class="hljs-attr">TERM</span>=xterm<br><span class="hljs-comment"># 省略 LS_COLORS</span><br><span class="hljs-attr">ORDERER_GENERAL_LOCALMSPID</span>=OrdererMSP<br><span class="hljs-attr">ORDERER_GENERAL_TLS_ROOTCAS</span>=[/var/hyperledger/orderer/tls/ca.crt]<br><span class="hljs-attr">ORDERER_GENERAL_LISTENADDRESS</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><br><span class="hljs-attr">ORDERER_GENERAL_TLS_PRIVATEKEY</span>=/var/hyperledger/orderer/tls/server.key<br><span class="hljs-attr">PATH</span>=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin<br><span class="hljs-attr">PWD</span>=/opt/gopath/src/github.com/hyperledger/fabric<br><span class="hljs-attr">ORDERER_GENERAL_LOGLEVEL</span>=debug<br><span class="hljs-attr">ORDERER_GENERAL_GENESISMETHOD</span>=file<br><span class="hljs-attr">ORDERER_GENERAL_TLS_CERTIFICATE</span>=/var/hyperledger/orderer/tls/server.crt<br><span class="hljs-attr">SHLVL</span>=<span class="hljs-number">1</span><br><span class="hljs-attr">HOME</span>=/root<br><span class="hljs-attr">FABRIC_CFG_PATH</span>=/etc/hyperledger/fabric<br><span class="hljs-attr">ORDERER_GENERAL_TLS_ENABLED</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">_</span>=/usr/bin/env<br></code></pre></td></tr></table></figure>
<h2 id="cli-容器">cli 容器</h2>
<h3 id="opt-gopath-src-github-com-hyperledger-fabric-peer">/opt/gopath/src/github.com/hyperledger/fabric/peer</h3>
<p>cli容器的这个工作目录倒是有很多文件了：</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pf"><span class="hljs-comment"># 重定向到控制台</span><br><span class="hljs-keyword">log</span>.txt<br><span class="hljs-comment"># 这个频道的channel创世区块，应该是在这个工作目录下由 createChannel() 函数创建出来的</span><br>mychannel.<span class="hljs-built_in">block</span><br><span class="hljs-comment"># 这3个文件夹就是从外部映射进来的</span><br><span class="hljs-comment"># 这个文件夹在这个相对路径下，就可以让peer channel 来生成新的频道</span><br>channel-artifacts<br>crypto<br>scripts<br></code></pre></td></tr></table></figure>
<h3 id="opt-gopath-src-github-com-hyperledger-fabric-examples">/opt/gopath/src/github.com/hyperledger/fabric/examples</h3>
<p>cli 容器独有的放置链码的文件夹，也是外部的docker映射进来的。</p>
<h3 id="etc-hyperledger-fabric">/etc/hyperledger/fabric</h3>
<p>这个文件夹可以说也是从标准环境中诞生出来的（标准镜像里就有这些文件夹了么？）</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs 1c">configtx.yaml  <br>core.yaml<br><span class="hljs-meta"># 也没人映射进来</span><br>msp<br>orderer.yaml<br></code></pre></td></tr></table></figure>
<h3 id="var-hyperledger">/var/hyperledger/</h3>
<p>没有任何内容，没有production数据需要单独存放。</p>
<h3 id="环境变量">环境变量</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs awk">HOSTNAME=cf5db270ec10<br>TERM=xterm<br>CORE_PEER_TLS_ROOTCERT_FILE=<span class="hljs-regexp">/opt/g</span>opath<span class="hljs-regexp">/src/gi</span>thub.com<span class="hljs-regexp">/hyperledger/</span>fabric<span class="hljs-regexp">/peer/</span>crypto<span class="hljs-regexp">/peerOrganizations/</span>ORG1_DOMAIN<span class="hljs-regexp">/peers/</span>peer0.ORG1_DOMAIN<span class="hljs-regexp">/tls/</span>ca.crt<br>CORE_PEER_TLS_KEY_FILE=<span class="hljs-regexp">/opt/g</span>opath<span class="hljs-regexp">/src/gi</span>thub.com<span class="hljs-regexp">/hyperledger/</span>fabric<span class="hljs-regexp">/peer/</span>crypto<span class="hljs-regexp">/peerOrganizations/</span>ORG1_DOMAIN<span class="hljs-regexp">/peers/</span>peer0.ORG1_DOMAIN<span class="hljs-regexp">/tls/</span>server.key<br><span class="hljs-comment"># 省略 LS_COLORS</span><br>CORE_PEER_LOCALMSPID=Org1MSP<br>CORE_VM_ENDPOINT=unix:<span class="hljs-regexp">//</span><span class="hljs-regexp">/host/</span>var<span class="hljs-regexp">/run/</span>docker.sock<br>CORE_PEER_TLS_CERT_FILE=<span class="hljs-regexp">/opt/g</span>opath<span class="hljs-regexp">/src/gi</span>thub.com<span class="hljs-regexp">/hyperledger/</span>fabric<span class="hljs-regexp">/peer/</span>crypto<span class="hljs-regexp">/peerOrganizations/</span>ORG1_DOMAIN<span class="hljs-regexp">/peers/</span>peer0.ORG1_DOMAIN<span class="hljs-regexp">/tls/</span>server.crt<br>PATH=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/sbin:/u</span>sr<span class="hljs-regexp">/local/</span>bin:<span class="hljs-regexp">/usr/</span>sbin:<span class="hljs-regexp">/usr/</span>bin:<span class="hljs-regexp">/sbin:/</span>bin:<span class="hljs-regexp">/opt/g</span>o<span class="hljs-regexp">/bin:/</span>opt<span class="hljs-regexp">/gopath/</span>bin<br>PWD=<span class="hljs-regexp">/opt/g</span>opath<span class="hljs-regexp">/src/gi</span>thub.com<span class="hljs-regexp">/hyperledger/</span>fabric/peer<br>CORE_PEER_TLS_ENABLED=true<br>CORE_PEER_MSPCONFIGPATH=<span class="hljs-regexp">/opt/g</span>opath<span class="hljs-regexp">/src/gi</span>thub.com<span class="hljs-regexp">/hyperledger/</span>fabric<span class="hljs-regexp">/peer/</span>crypto<span class="hljs-regexp">/peerOrganizations/</span>ORG1_DOMAIN<span class="hljs-regexp">/users/</span>Admin@ORG1_DOMAIN/msp<br>CORE_PEER_ID=cli<br>SHLVL=<span class="hljs-number">1</span><br>HOME=/root<br>GOROOT=<span class="hljs-regexp">/opt/g</span>o<br>CORE_LOGGING_LEVEL=DEBUG<br>FABRIC_CFG_PATH=<span class="hljs-regexp">/etc/</span>hyperledger/fabric<br>CORE_PEER_ADDRESS=peer0.ORG1_DOMAIN:<span class="hljs-number">7051</span><br>LESSOPEN=| <span class="hljs-regexp">/usr/</span>bin/lesspipe %s<br>GOPATH=<span class="hljs-regexp">/opt/g</span>opath<br>LESSCLOSE=<span class="hljs-regexp">/usr/</span>bin/lesspipe %s %s<br>_=<span class="hljs-regexp">/usr/</span>bin/env<br></code></pre></td></tr></table></figure>
<h2 id="链码容器">链码容器</h2>
<h3 id="etc-hyperledger-fabric">/etc/hyperledger/fabric/</h3>
<p>只有一个peer.crt文件，应该是在生成这个镜像的时候，从特定的peer上拷贝过来的。</p>
<p>没有/opt下的gopath，也没有/var下的production目录。</p>
<h3 id="启动命令">启动命令</h3>
<p>只有一个启动命令</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs prolog"><span class="hljs-string">&quot;Path&quot;</span>: <span class="hljs-string">&quot;chaincode&quot;</span>,<br><span class="hljs-string">&quot;Args&quot;</span>: [<br>    <span class="hljs-string">&quot;-peer.address=peer1.ORG3_DOMAIN:7051&quot;</span><br>],<br></code></pre></td></tr></table></figure>
<p><code>/usr/local/bin/</code>下只安装了一个命令<code>chaincode</code>。</p>
<h3 id="环境变量">环境变量</h3>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">HOSTNAME</span>=a2886170947f<br><span class="hljs-attr">TERM</span>=xterm<br><span class="hljs-attr">CORE_PEER_TLS_ROOTCERT_FILE</span>=/etc/hyperledger/fabric/peer.crt<br><span class="hljs-comment"># 省略 LS_COLORS</span><br><span class="hljs-attr">CORE_CHAINCODE_ID_NAME</span>=mycc:<span class="hljs-number">1.0</span><br><span class="hljs-attr">CORE_CHAINCODE_LOGGING_LEVEL</span>=info<br><span class="hljs-attr">PATH</span>=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin<br><span class="hljs-attr">PWD</span>=/<br><span class="hljs-attr">CORE_PEER_TLS_ENABLED</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">CORE_CHAINCODE_BUILDLEVEL</span>=<span class="hljs-number">1.0</span>.<span class="hljs-number">6</span><br><span class="hljs-attr">CORE_CHAINCODE_LOGGING_FORMAT</span>=%&#123;color&#125;%&#123;time:<span class="hljs-number">2006</span>-<span class="hljs-number">01</span>-<span class="hljs-number">02</span> <span class="hljs-number">15</span>:<span class="hljs-number">04</span>:<span class="hljs-number">05.000</span> MST&#125; [%&#123;module&#125;] %&#123;shortfunc&#125; -&gt; %&#123;level:.<span class="hljs-number">4</span>s&#125; %&#123;id:<span class="hljs-number">03</span>x&#125;%&#123;color:reset&#125; %&#123;message&#125;<br><span class="hljs-attr">SHLVL</span>=<span class="hljs-number">1</span><br><span class="hljs-attr">HOME</span>=/root<br><span class="hljs-attr">CORE_CHAINCODE_LOGGING_SHIM</span>=warning<br><span class="hljs-attr">_</span>=/usr/bin/env<br></code></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://magicliang.github.io">magicliang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://magicliang.github.io/2018/04/09/Hyperledger-Fabric-%E5%90%84%E4%B8%AA%E5%AE%B9%E5%99%A8%E5%86%85%E7%8E%AF%E5%A2%83/">https://magicliang.github.io/2018/04/09/Hyperledger-Fabric-%E5%90%84%E4%B8%AA%E5%AE%B9%E5%99%A8%E5%86%85%E7%8E%AF%E5%A2%83/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><a class="post-meta__tags" href="/tags/Hyperledger-Fabric/">Hyperledger Fabric</a></div><div class="post-share"><div class="social-share" data-image="/img/wall-paper-116.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2018/03/15/Hyperledger-Fabric-MSP-%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/" title="Hyperledger Fabric MSP 相关问题"><img class="cover" src="/img/wall-paper-170.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-03-15</div><div class="info-item-2">Hyperledger Fabric MSP 相关问题</div></div><div class="info-2"><div class="info-item-1">Fabric要求所有的 paticipant 有相关的 identity。identity是由x509证书认证的（大致上也就是各种signcert），每个 identity 有自己的 principal，包含了大量的 property，包括但不仅限于组织名。 PKI 生成 identity，而 MSP 表达治理组织的规则，包括哪些 identity 属于哪些组织，且参与网络中。 PKI PKI 是一种标准，一般由四个元素组成：  Digital Certificates Public and Private Keys Certificate Authorities Certificate Revocation Lists  数字证书 一个持有一个组织的系列属性的数字文件。常见的数字证书是X509标准的，很像一个国家发放的身份证（有名称，省份，国家，还有组织的名字）。  For example, John Doe of Accounting division in FOO Corporation in Detroit, Michigan might have a digital c...</div></div></div></a><a class="pagination-related" href="/2018/03/15/Hyperledger-Fabric-%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E8%AF%BB/" title="Hyperledger Fabric 的配置文件解读"><img class="cover" src="/img/wall-paper-81.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-03-15</div><div class="info-item-2">Hyperledger Fabric 的配置文件解读</div></div><div class="info-2"><div class="info-item-1">Crypto Generator x.509 相关的文件主要包含两个东西：证书和 signing keys。 cryptogen 使用的配置文件是crypto-config.yaml。 x.509 的根证书是ca-cert。它把 peers 和 orderers 绑定到一个 Org 里面。在这个网络里，每个组织都有签发自己的证书的能力，可以用这个 ca 来签发其他证书给节点和 client。 签发交易用的是私钥（keystore），验证交易用的是公钥（signcerts）。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293# Copyright IBM Corp. All Rights Reserved.## SPDX-License-Identifier: Apache-2.0...</div></div></div></a><a class="pagination-related" href="/2018/04/10/Fabric-%E6%96%87%E6%A1%A3%E6%8B%BE%E9%81%97/" title="Fabric 文档拾遗"><img class="cover" src="/img/wall-paper-35.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-10</div><div class="info-item-2">Fabric 文档拾遗</div></div><div class="info-2"><div class="info-item-1">基本名词解释 ledger 账本上一系列由事务驱动的状态迁移的记录。状态迁移是链码调用（调用即事务）的结果。这些记录是不可修改顺序的，因此也上抗篡改的。 每个channel有一个账本，但恐怕不只一个账本。 理论上账本是由产生它的链码的命名空间隔离开来的，不能直接被其他链码访问到。 chain 由包含一系列 transaction 的 block 通过hash-link（由散列值作为前驱指针的一种连接方式）组成的数据结构。 state database 记录各种 key 的 latest value。可以被认为上chain的indexed view，可以随时被从链上重建出来。 所以 Fabric 自己就有双层数据结构。 读写集语义 读集和写集搞不好是同一个事务里的数据结构（待查）。 12345678910111213&lt;TxReadWriteSet&gt;  &lt;NsReadWriteSet name=&quot;chaincode1&quot;&gt;    &lt;read-set&gt;      &lt;read key=&quot;K1&quot;, versio...</div></div></div></a><a class="pagination-related" href="/2018/04/09/Fabric-%E4%B8%AD%E7%9A%84-peer/" title="Fabric 中的 peer"><img class="cover" src="/img/wall-paper-159.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-09</div><div class="info-item-2">Fabric 中的 peer</div></div><div class="info-2"><div class="info-item-1">每个 peer 可以拥有若干个 chaincode，也可以拥有若干个 ledger，但并不是一开始就拥有的，而是逐渐被创建出来的。chaincode 一定会定义一个 asset，也就生成了 ledger。一个peer 可以拥有 ledger 而无 chaincode，可见也并不是必然由 chaincode 生成 ledger。比如同一个组织里面多个 peer，只有一个安装了 chaincode（只有这个 peer 可以当作 endorser），其它的peer一样可以拿到 ledger。 peer 的流程架构图大致上是：  为了预防有 peer 的数据不一致，有可能需要 client application 向多个 peer 进行查询。 channel 可以认为是一系列 peers 的逻辑组合，orderer 可以被认为是跨channel的。同一个 channel 的 peers 共享完全一样的账本。  不同的组织完全可以基于同样的账本copy，产生不同的 application。 Fabric 有 identity，identity 有 principal。 transactio...</div></div></div></a><a class="pagination-related" href="/2017/10/27/Hyperledger-Fabric-%E7%BD%91%E7%BB%9C%E7%9A%84%E5%90%AF%E5%8A%A8%E6%AD%A5%E9%AA%A4/" title="Hyperledger Fabric 网络的启动步骤"><img class="cover" src="/img/wall-paper-154.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2017-10-27</div><div class="info-item-2">Hyperledger Fabric 网络的启动步骤</div></div><div class="info-2"><div class="info-item-1">  本文是截至日前（2017.10.27）时对官方教程和自我实验的重新梳理。   Hyperledger Fabric 可以说是 Hyperledger 的拳头项目。虽然同为  Apache 的顶级项目，但大部分其他项目都以 Fabric 为基础。它是顶级项目中的顶级项目，可以认为是0级项目。   docker 要有高于 17.06.2-ce 的版本。docker-compose 要有 1.14.0 及以上的版本。当然当前的高版本的 docker 已经自带了高版本的 docker-compose，这通常不用担心。   安装1.9+ 的 Golang。应该预期这样的结果：    echo $GOPATH   /Users/xxx/go   如果这个结果出不来，考虑当前 Shell 的环境变量没有正确设置：   export GOPATH=$HOME/go   export PATH=$PATH:$GOPATH/bin   要用一个很特别的 nodejs 版本。6.9以上，却不能用8.x。npm 也有特别的版本要求：   npm install npm@3.10.10 -g   要用...</div></div></div></a><a class="pagination-related" href="/2017/10/27/%E6%80%9D%E8%80%83%E5%8C%BA%E5%9D%97%E9%93%BE/" title="思考区块链"><img class="cover" src="/img/wall-paper-118.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2017-10-27</div><div class="info-item-2">思考区块链</div></div><div class="info-2"><div class="info-item-1"> 区块链是比特币的基础设施。由区块组成链，是为区块链。各个区块链的持有者之间，总是在玩不确定选主的游戏，所以这和所有传统的分布式数据库不同，是一个去中心的数据存储模式。 比特币的区块链是1.0的玩法，以太坊是2.0的玩法。有些人认为 Hyperledger 是3.0的玩法，还有待怀疑。 区块链上的资产，可以是自带的（比特币网络里的比特币，以太坊网络里的以太币），也可以是智能合约定义和约束的。 智能合约是个看起来很美好，实际上只能执行在沙盒里面的东西。曾经在某个IBM程序员的分享里看到过，Hyperledger 的智能合约本质上也是 GO 程序，所以理论上可以做一切事情。但目前没有看到除了调用各种 Shim API 以外的任何用处。比如，如果我们想要用智能合约发出另外一个调用请求，让真实的系统发生转账，如何做到？ 很多人都有热思考，人类再也回不到没有比特币的时代了。也有冷思考，区块链的时代还未到来。就目前而言，现在的计算性能真的不足以支撑真实的行业流量，只能养养鸡，运运肉。 也有观点认为，公有链是真命题，而私有链是伪命题。就目前的观察看来，不管是 Hyperledger 还是 Co...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#peer-%E5%AE%B9%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">peer 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#opt-gopath-src-github-com-hyperledger-fabric-peer"><span class="toc-number">1.1.</span> <span class="toc-text">&#x2F;opt&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;hyperledger&#x2F;fabric&#x2F;peer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-hyperledger-fabric"><span class="toc-number">1.2.</span> <span class="toc-text">&#x2F;etc&#x2F;hyperledger&#x2F;fabric</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var-hyperledger-production"><span class="toc-number">1.3.</span> <span class="toc-text">&#x2F;var&#x2F;hyperledger&#x2F;production</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.</span> <span class="toc-text">启动命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%83%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.</span> <span class="toc-text">全部环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#orderer-%E5%AE%B9%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">orderer 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#opt-gopath-src-github-com-hyperledger-fabric"><span class="toc-number">2.1.</span> <span class="toc-text">&#x2F;opt&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;hyperledger&#x2F;fabric</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-hyperledger-fabric"><span class="toc-number">2.2.</span> <span class="toc-text">&#x2F;etc&#x2F;hyperledger&#x2F;fabric</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var-hyperledger"><span class="toc-number">2.3.</span> <span class="toc-text">&#x2F;var&#x2F;hyperledger&#x2F;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">2.4.</span> <span class="toc-text">启动命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%83%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">2.5.</span> <span class="toc-text">全部环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cli-%E5%AE%B9%E5%99%A8"><span class="toc-number">3.</span> <span class="toc-text">cli 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#opt-gopath-src-github-com-hyperledger-fabric-peer"><span class="toc-number">3.1.</span> <span class="toc-text">&#x2F;opt&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;hyperledger&#x2F;fabric&#x2F;peer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#opt-gopath-src-github-com-hyperledger-fabric-examples"><span class="toc-number">3.2.</span> <span class="toc-text">&#x2F;opt&#x2F;gopath&#x2F;src&#x2F;github.com&#x2F;hyperledger&#x2F;fabric&#x2F;examples</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-hyperledger-fabric"><span class="toc-number">3.3.</span> <span class="toc-text">&#x2F;etc&#x2F;hyperledger&#x2F;fabric</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var-hyperledger"><span class="toc-number">3.4.</span> <span class="toc-text">&#x2F;var&#x2F;hyperledger&#x2F;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">3.5.</span> <span class="toc-text">环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%93%BE%E7%A0%81%E5%AE%B9%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">链码容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-hyperledger-fabric"><span class="toc-number">4.1.</span> <span class="toc-text">&#x2F;etc&#x2F;hyperledger&#x2F;fabric&#x2F;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">4.2.</span> <span class="toc-text">启动命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">4.3.</span> <span class="toc-text">环境变量</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2017 - 2025 By magicliang</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">簡</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>